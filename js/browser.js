// Project: https://github.com/marc0l92/api-tools
import{a as me}from"./chunk-SNW6KIOB.js";import{a as pe,b as _e}from"./chunk-KMHCSZEL.js";import{c as fe,d as ue}from"./chunk-5B23PD3G.js";import{D as Y,F as ie,I as z,J,K as y,L as N,M as H,N as V,O as q,P as U,Q as R,R as ae,S as ce,h as le,i as T,k as F,m as ne,n as re,o as p,p as se,q as w,r as k,s as G,t as d,u as M,v as P,w as X,x as oe,y as _,z as I}from"./chunk-BQMZXNLR.js";var he="browserOptions",de={favorites:{}},K=me(Object.assign({},de)),be=null,ve=()=>{K.set(_e(he,de)),be=K.subscribe(s=>{pe(he,s)})},ge=()=>{be()};function Ae(s){se(s,"svelte-1hasw7g",".card-header-title.svelte-1hasw7g{word-break:break-all}.card-header-icon.svelte-1hasw7g{color:var(--color-accent)}")}function we(s,e,l){let t=s.slice();return t[6]=e[l],t}function ke(s){let e,l,t,n,f,r=s[1].lastVersion+"",c,a,i,v,o,h,m,j,A,S,C=s[3].fileName+"",u,O,D,B,Q,ee,L=Object.entries(s[1].versions),$=[];for(let b=0;b<L.length;b+=1)$[b]=Oe(we(s,L,b));return{c(){e=d("div"),l=d("header"),t=d("p"),n=M(s[0]),f=M(" - "),c=M(r),a=P(),i=d("button"),v=d("span"),o=d("i"),m=P(),j=d("div"),A=d("div"),S=d("p"),u=M(C),O=P(),D=d("div"),B=d("div");for(let b=0;b<$.length;b+=1)$[b].c();_(t,"class","card-header-title svelte-1hasw7g"),_(o,"class",h=(s[4].favorites[s[2]]?"fas":"far")+" fa-star"),_(v,"class","icon"),_(i,"class","card-header-icon svelte-1hasw7g"),_(l,"class","card-header"),_(S,"class","subtitle is-6"),_(B,"class","column"),_(D,"class","columns is-multiline"),_(A,"class","content"),_(j,"class","card-content"),_(e,"class","card")},m(b,E){w(b,e,E),p(e,l),p(l,t),p(t,n),p(t,f),p(t,c),p(l,a),p(l,i),p(i,v),p(v,o),p(e,m),p(e,j),p(j,A),p(A,S),p(S,u),p(A,O),p(A,D),p(D,B);for(let g=0;g<$.length;g+=1)$[g].m(B,null);Q||(ee=oe(i,"click",s[5]),Q=!0)},p(b,E){if(E&1&&I(n,b[0]),E&2&&r!==(r=b[1].lastVersion+"")&&I(c,r),E&20&&h!==(h=(b[4].favorites[b[2]]?"fas":"far")+" fa-star")&&_(o,"class",h),E&8&&C!==(C=b[3].fileName+"")&&I(u,C),E&2){L=Object.entries(b[1].versions);let g;for(g=0;g<L.length;g+=1){let te=we(b,L,g);$[g]?$[g].p(te,E):($[g]=Oe(te),$[g].c(),$[g].m(B,null))}for(;g<$.length;g+=1)$[g].d(1);$.length=L.length}},d(b){b&&k(e),G($,b),Q=!1,ee()}}}function Oe(s){let e,l=s[6][0]+"",t,n,f;return{c(){e=d("a"),t=M(l),n=P(),_(e,"class","tag ml-1 mb-1"),_(e,"href",f="./viewer.html?api="+s[6][1].hash)},m(r,c){w(r,e,c),p(e,t),p(e,n)},p(r,c){c&2&&l!==(l=r[6][0]+"")&&I(t,l),c&2&&f!==(f="./viewer.html?api="+r[6][1].hash)&&_(e,"href",f)},d(r){r&&k(e)}}}function Be(s){let e,l=s[3]&&ke(s);return{c(){l&&l.c(),e=X()},m(t,n){l&&l.m(t,n),w(t,e,n)},p(t,[n]){t[3]?l?l.p(t,n):(l=ke(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:T,o:T,d(t){l&&l.d(t),t&&k(e)}}}function Ee(s,e,l){let t;ne(s,K,i=>l(4,t=i));let{name:n=null}=e,{apiSummary:f=null}=e,r=null,{apiPath:c=null}=e;function a(){re(K,t.favorites[c]=!t.favorites[c],t)}return Y(()=>{ve(),l(3,r=f.versions[f.lastVersion])}),ie(()=>{ge()}),s.$$set=i=>{"name"in i&&l(0,n=i.name),"apiSummary"in i&&l(1,f=i.apiSummary),"apiPath"in i&&l(2,c=i.apiPath)},[n,f,c,r,t,a]}var W=class extends R{constructor(e){super(),U(this,e,Ee,Be,F,{name:0,apiSummary:1,apiPath:2},Ae)}},$e=W;function Me(s){let e;return{c(){e=d("div"),e.innerHTML='<div class="field"><div class="control is-expanded"><input class="input" type="text" placeholder="Search"/></div></div>',_(e,"class","block")},m(l,t){w(l,e,t)},p:T,i:T,o:T,d(l){l&&k(e)}}}var Z=class extends R{constructor(e){super(),U(this,e,null,Me,F,{})}},ye=Z;function Se(s,e,l){let t=s.slice();return t[2]=e[l],t}function Pe(s,e,l){let t=s.slice();return t[5]=e[l],t}function Ce(s){let e;return{c(){e=d("div"),e.textContent="Fetching api index...",_(e,"class","box")},m(l,t){w(l,e,t)},p:T,i:T,o:T,d(l){l&&k(e)}}}function De(s){let e,l,t=Object.entries(s[0]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Ne(Se(s,t,r));let f=r=>N(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=X()},m(r,c){for(let a=0;a<n.length;a+=1)n[a].m(r,c);w(r,e,c),l=!0},p(r,c){if(c&1){t=Object.entries(r[0]);let a;for(a=0;a<t.length;a+=1){let i=Se(r,t,a);n[a]?(n[a].p(i,c),y(n[a],1)):(n[a]=Ne(i),n[a].c(),y(n[a],1),n[a].m(e.parentNode,e))}for(z(),a=t.length;a<n.length;a+=1)f(a);J()}},i(r){if(!l){for(let c=0;c<t.length;c+=1)y(n[c]);l=!0}},o(r){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)N(n[c]);l=!1},d(r){G(n,r),r&&k(e)}}}function je(s){let e,l,t;return l=new $e({props:{name:s[5][0],apiSummary:s[5][1],apiPath:s[2][0]+s[5][0]}}),{c(){e=d("div"),H(l.$$.fragment),_(e,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(n,f){w(n,e,f),V(l,e,null),t=!0},p(n,f){let r={};f&1&&(r.name=n[5][0]),f&1&&(r.apiSummary=n[5][1]),f&1&&(r.apiPath=n[2][0]+n[5][0]),l.$set(r)},i(n){t||(y(l.$$.fragment,n),t=!0)},o(n){N(l.$$.fragment,n),t=!1},d(n){n&&k(e),q(l)}}}function Ne(s){let e,l=s[2][0]+"",t,n,f,r,c,a=Object.entries(s[2][1]),i=[];for(let o=0;o<a.length;o+=1)i[o]=je(Pe(s,a,o));let v=o=>N(i[o],1,1,()=>{i[o]=null});return{c(){e=d("h4"),t=M(l),n=P(),f=d("div");for(let o=0;o<i.length;o+=1)i[o].c();r=P(),_(e,"class","subtitle is-4"),_(f,"class","columns is-multiline")},m(o,h){w(o,e,h),p(e,t),w(o,n,h),w(o,f,h);for(let m=0;m<i.length;m+=1)i[m].m(f,null);p(f,r),c=!0},p(o,h){if((!c||h&1)&&l!==(l=o[2][0]+"")&&I(t,l),h&1){a=Object.entries(o[2][1]);let m;for(m=0;m<a.length;m+=1){let j=Pe(o,a,m);i[m]?(i[m].p(j,h),y(i[m],1)):(i[m]=je(j),i[m].c(),y(i[m],1),i[m].m(f,r))}for(z(),m=a.length;m<i.length;m+=1)v(m);J()}},i(o){if(!c){for(let h=0;h<a.length;h+=1)y(i[h]);c=!0}},o(o){i=i.filter(Boolean);for(let h=0;h<i.length;h+=1)N(i[h]);c=!1},d(o){o&&k(e),o&&k(n),o&&k(f),G(i,o)}}}function Ie(s){let e,l,t,n,f,r,c,a,i,v,o,h,m,j;e=new ce({props:{activePage:"browser"}}),r=new ye({}),a=new ue({props:{messages:s[1]}});let A=[De,Ce],S=[];function C(u,O){return u[0]?0:1}return v=C(s,-1),o=S[v]=A[v](s),m=new ae({}),{c(){H(e.$$.fragment),l=P(),t=d("div"),n=d("section"),n.innerHTML='<div class="hero-body"><h1 class="title">Api Browser</h1></div>',f=P(),H(r.$$.fragment),c=P(),H(a.$$.fragment),i=P(),o.c(),h=P(),H(m.$$.fragment),_(n,"class","hero is-small"),_(t,"class","container")},m(u,O){V(e,u,O),w(u,l,O),w(u,t,O),p(t,n),p(t,f),V(r,t,null),p(t,c),V(a,t,null),p(t,i),S[v].m(t,null),w(u,h,O),V(m,u,O),j=!0},p(u,[O]){let D={};O&2&&(D.messages=u[1]),a.$set(D);let B=v;v=C(u,O),v===B?S[v].p(u,O):(z(),N(S[B],1,1,()=>{S[B]=null}),J(),o=S[v],o?o.p(u,O):(o=S[v]=A[v](u),o.c()),y(o,1),o.m(t,null))},i(u){j||(y(e.$$.fragment,u),y(r.$$.fragment,u),y(a.$$.fragment,u),y(o),y(m.$$.fragment,u),j=!0)},o(u){N(e.$$.fragment,u),N(r.$$.fragment,u),N(a.$$.fragment,u),N(o),N(m.$$.fragment,u),j=!1},d(u){q(e,u),u&&k(l),u&&k(t),q(r),q(a),S[v].d(),u&&k(h),q(m,u)}}}var Le="./apis/apiIndex.json";function Fe(s,e,l){let t=null,n=[];return Y(()=>fe(void 0,void 0,void 0,function*(){let f=yield fetch(Le);f.ok?l(0,t=yield f.json()):l(1,n=[...n,"Error while fetching api index: "+f.status])})),[t,n]}var x=class extends R{constructor(e){super(),U(this,e,Fe,Ie,F,{})}},Te=x;new Te({target:document.body});le();
