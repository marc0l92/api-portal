// Project: https://github.com/marc0l92/api-tools
import{a as be}from"./chunk-EKH2GIRG.js";import{a as ge,b as ke}from"./chunk-IKILPUXY.js";import{c as de,d as ve}from"./chunk-H52OBMJJ.js";import{$ as K,A as k,B as O,C as P,D as d,E as X,F as S,G as V,H as G,J as m,K as Y,L as ee,O as ue,Q as me,R as pe,T as F,U as D,V as g,W as w,X as R,Y as H,Z as z,_ as J,aa as _e,ba as he,h as A,j as oe,n as ae,o as C,p as fe,q as U,s as Z,x,y as v,z as ce}from"./chunk-FEMFINP7.js";A();A();A();A();var Oe="browserOptions",we={favorites:{}},M=be(Object.assign({},we)),ye=null,Ne=()=>{M.set(ke(Oe,we)),ye=M.subscribe(s=>{ge(Oe,s)})},je=()=>{ye()};function Ve(s){ce(s,"svelte-vtk06y",".card-header-body.svelte-vtk06y{flex-grow:1}.card-header-title.svelte-vtk06y{word-break:break-all}.card-header-icon.svelte-vtk06y{color:var(--color-accent)}.is-tag-size.svelte-vtk06y{height:2em;vertical-align:baseline;padding-left:0.75em;padding-right:0.75em}.tag.status-1.svelte-vtk06y{background-color:#ffe08a;color:white}.tag.status-2.svelte-vtk06y{background-color:#f14668;color:white}")}function Se(s,n,t){let e=s.slice();return e[9]=n[t][0],e[10]=n[t][1],e}function $e(s){let n,t,e,l,o,i,c,r,f,a,u,p,h,T,L,y,q,_=Object.keys(s[2]).length>Ae,j,W,E=Object.entries(s[2]).slice(0,s[4]?void 0:5),$=[];for(let b=0;b<E.length;b+=1)$[b]=Ie(Se(s,E,b));let I=_&&Te(s);return{c(){n=d("div"),t=d("header"),e=d("a"),l=d("p"),o=X(s[1]),c=S(),r=d("button"),f=d("span"),a=d("i"),p=S(),h=d("div"),T=d("div"),L=d("div"),y=d("div");for(let b=0;b<$.length;b+=1)$[b].c();q=S(),I&&I.c(),m(l,"class","card-header-title svelte-vtk06y"),m(e,"class","card-header-body svelte-vtk06y"),m(e,"href",i=s[6]+"/viewer.html?api="+s[3]),m(a,"class",u=(s[5].favorites[s[0]]&&s[5].favorites[s[0]][s[1]]?"fas":"far")+" fa-star"),m(f,"class","icon"),m(r,"class","card-header-icon svelte-vtk06y"),m(t,"class","card-header"),m(y,"class","column"),m(L,"class","columns is-multiline"),m(T,"class","content"),m(h,"class","card-content"),m(n,"class","card")},m(b,B){k(b,n,B),v(n,t),v(t,e),v(e,l),v(l,o),v(t,c),v(t,r),v(r,f),v(f,a),v(n,p),v(n,h),v(h,T),v(T,L),v(L,y);for(let N=0;N<$.length;N+=1)$[N].m(y,null);v(y,q),I&&I.m(y,null),j||(W=G(r,"click",s[7]),j=!0)},p(b,B){if(B&2&&Y(o,b[1]),B&8&&i!==(i=b[6]+"/viewer.html?api="+b[3])&&m(e,"href",i),B&35&&u!==(u=(b[5].favorites[b[0]]&&b[5].favorites[b[0]][b[1]]?"fas":"far")+" fa-star")&&m(a,"class",u),B&84){E=Object.entries(b[2]).slice(0,b[4]?void 0:5);let N;for(N=0;N<E.length;N+=1){let se=Se(b,E,N);$[N]?$[N].p(se,B):($[N]=Ie(se),$[N].c(),$[N].m(y,q))}for(;N<$.length;N+=1)$[N].d(1);$.length=E.length}B&4&&(_=Object.keys(b[2]).length>Ae),_?I?I.p(b,B):(I=Te(b),I.c(),I.m(y,null)):I&&(I.d(1),I=null)},d(b){b&&O(n),P($,b),I&&I.d(),j=!1,W()}}}function Ie(s){let n,t=s[9]+"",e,l,o;return{c(){n=d("a"),e=X(t),m(n,"class",l="tag ml-1 mb-1 "+Ee(s[10])+" svelte-vtk06y"),m(n,"href",o=s[6]+"/viewer.html?api="+Object.values(s[10])[0].hash)},m(i,c){k(i,n,c),v(n,e)},p(i,c){c&20&&t!==(t=i[9]+"")&&Y(e,t),c&20&&l!==(l="tag ml-1 mb-1 "+Ee(i[10])+" svelte-vtk06y")&&m(n,"class",l),c&20&&o!==(o=i[6]+"/viewer.html?api="+Object.values(i[10])[0].hash)&&m(n,"href",o)},d(i){i&&O(n)}}}function Te(s){let n,t,e,l,o;return{c(){n=d("button"),t=d("i"),m(t,"class",e="fas fa-angle-"+(s[4]?"left":"right")),m(n,"class","button is-white is-small is-tag-size svelte-vtk06y")},m(i,c){k(i,n,c),v(n,t),l||(o=G(n,"click",s[8]),l=!0)},p(i,c){c&16&&e!==(e="fas fa-angle-"+(i[4]?"left":"right"))&&m(t,"class",e)},d(i){i&&O(n),l=!1,o()}}}function Ge(s){let n,t=s[2]&&$e(s);return{c(){t&&t.c(),n=V()},m(e,l){t&&t.m(e,l),k(e,n,l)},p(e,[l]){e[2]?t?t.p(e,l):(t=$e(e),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:C,o:C,d(e){t&&t.d(e),e&&O(n)}}}var Ae=5;function Ee(s){return`status-${Object.values(s).map(t=>t.status).reduce((t,e)=>Math.max(t,e))}`}function Je(s,n,t){let e;Z(s,M,p=>t(5,e=p));let l=oe(),{packageName:o=null}=n,{name:i=null}=n,{apiSummary:c=null}=n,r="",f=!1;function a(){console.log(JSON.stringify(e)),e.favorites[o]||x(M,e.favorites[o]={},e),x(M,e.favorites[o][i]=!e.favorites[o][i],e)}let u=()=>t(4,f=!f);return s.$$set=p=>{"packageName"in p&&t(0,o=p.packageName),"name"in p&&t(1,i=p.name),"apiSummary"in p&&t(2,c=p.apiSummary)},s.$$.update=()=>{if(s.$$.dirty&4){e:if(c){let p=Object.keys(c)[0];t(3,r=Object.values(c[p])[0].hash)}}},[o,i,c,r,f,e,l,a,u]}var te=class extends K{constructor(n){super(),J(this,n,Je,Ge,U,{packageName:0,name:1,apiSummary:2},Ve)}},le=te;A();function Ke(s){let n,t,e,l,o,i;return{c(){n=d("div"),t=d("div"),e=d("div"),l=d("input"),m(l,"class","input"),m(l,"type","text"),m(l,"placeholder","Search"),m(e,"class","control is-expanded"),m(t,"class","field"),m(n,"class","block")},m(c,r){k(c,n,r),v(n,t),v(t,e),v(e,l),ee(l,s[0]),o||(i=[G(l,"input",s[2]),G(l,"input",s[1])],o=!0)},p(c,[r]){r&1&&l.value!==c[0]&&ee(l,c[0])},i:C,o:C,d(c){c&&O(n),o=!1,fe(i)}}}function We(s,n,t){let e="",l=pe();function o(){l("searchTextChange",{searchText:e})}function i(){e=this.value,t(0,e)}return[e,o,i]}var ne=class extends K{constructor(n){super(),J(this,n,We,Ke,U,{})}},Ce=ne;A();function Xe(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ye(s,n){let t="";for(let e of s)t+=`.*${Xe(e)}.*`;return n.match(new RegExp(t,"i"))}function ie(s,n){let t={};for(let e in s)for(let l in s[e])Ye(n,e+l)&&(e in t||(t[e]={}),t[e][l]=s[e][l]);return t}function Be(s,n,t){let e=s.slice();return e[7]=n[t][0],e[8]=n[t][1],e}function Me(s,n,t){let e=s.slice();return e[11]=n[t][0],e[12]=n[t][1],e}function Fe(s,n,t){let e=s.slice();return e[7]=n[t][0],e[8]=n[t][1],e}function De(s,n,t){let e=s.slice();return e[17]=n[t][0],e[18]=n[t][1],e}function Qe(s){let n;return{c(){n=d("div"),n.textContent="Fetching api index...",m(n,"class","box")},m(t,e){k(t,n,e)},p:C,i:C,o:C,d(t){t&&O(n)}}}function Ze(s){let n,t,e,l=s[3]>0&&!s[4]&&Le(s),o=Object.entries(ie(s[1],s[4])),i=[];for(let r=0;r<o.length;r+=1)i[r]=qe(Be(s,o,r));let c=r=>w(i[r],1,1,()=>{i[r]=null});return{c(){l&&l.c(),n=S();for(let r=0;r<i.length;r+=1)i[r].c();t=V()},m(r,f){l&&l.m(r,f),k(r,n,f);for(let a=0;a<i.length;a+=1)i[a].m(r,f);k(r,t,f),e=!0},p(r,f){if(r[3]>0&&!r[4]?l?(l.p(r,f),f&24&&g(l,1)):(l=Le(r),l.c(),g(l,1),l.m(n.parentNode,n)):l&&(F(),w(l,1,1,()=>{l=null}),D()),f&18){o=Object.entries(ie(r[1],r[4]));let a;for(a=0;a<o.length;a+=1){let u=Be(r,o,a);i[a]?(i[a].p(u,f),g(i[a],1)):(i[a]=qe(u),i[a].c(),g(i[a],1),i[a].m(t.parentNode,t))}for(F(),a=o.length;a<i.length;a+=1)c(a);D()}},i(r){if(!e){g(l);for(let f=0;f<o.length;f+=1)g(i[f]);e=!0}},o(r){w(l),i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)w(i[f]);e=!1},d(r){l&&l.d(r),r&&O(n),P(i,r),r&&O(t)}}}function Le(s){let n,t,e,l,o=Object.entries(s[0].favorites),i=[];for(let r=0;r<o.length;r+=1)i[r]=He(Fe(s,o,r));let c=r=>w(i[r],1,1,()=>{i[r]=null});return{c(){n=d("h4"),n.innerHTML='<i class="fas fa-star"></i> Favorites',t=S(),e=d("div");for(let r=0;r<i.length;r+=1)i[r].c();m(n,"class","subtitle is-4"),m(e,"class","columns is-multiline")},m(r,f){k(r,n,f),k(r,t,f),k(r,e,f);for(let a=0;a<i.length;a+=1)i[a].m(e,null);l=!0},p(r,f){if(f&3){o=Object.entries(r[0].favorites);let a;for(a=0;a<o.length;a+=1){let u=Fe(r,o,a);i[a]?(i[a].p(u,f),g(i[a],1)):(i[a]=He(u),i[a].c(),g(i[a],1),i[a].m(e,null))}for(F(),a=o.length;a<i.length;a+=1)c(a);D()}},i(r){if(!l){for(let f=0;f<o.length;f+=1)g(i[f]);l=!0}},o(r){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)w(i[f]);l=!1},d(r){r&&O(n),r&&O(t),r&&O(e),P(i,r)}}}function Pe(s){let n,t,e,l;return t=new le({props:{packageName:s[7],name:s[17],apiSummary:s[1][s[7]][s[17]]}}),{c(){n=d("div"),R(t.$$.fragment),e=S(),m(n,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(o,i){k(o,n,i),H(t,n,null),v(n,e),l=!0},p(o,i){let c={};i&1&&(c.packageName=o[7]),i&1&&(c.name=o[17]),i&3&&(c.apiSummary=o[1][o[7]][o[17]]),t.$set(c)},i(o){l||(g(t.$$.fragment,o),l=!0)},o(o){w(t.$$.fragment,o),l=!1},d(o){o&&O(n),z(t)}}}function Re(s){let n,t,e=s[18]&&Pe(s);return{c(){e&&e.c(),n=V()},m(l,o){e&&e.m(l,o),k(l,n,o),t=!0},p(l,o){l[18]?e?(e.p(l,o),o&1&&g(e,1)):(e=Pe(l),e.c(),g(e,1),e.m(n.parentNode,n)):e&&(F(),w(e,1,1,()=>{e=null}),D())},i(l){t||(g(e),t=!0)},o(l){w(e),t=!1},d(l){e&&e.d(l),l&&O(n)}}}function He(s){let n,t,e=Object.entries(s[8]),l=[];for(let i=0;i<e.length;i+=1)l[i]=Re(De(s,e,i));let o=i=>w(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();n=V()},m(i,c){for(let r=0;r<l.length;r+=1)l[r].m(i,c);k(i,n,c),t=!0},p(i,c){if(c&3){e=Object.entries(i[8]);let r;for(r=0;r<e.length;r+=1){let f=De(i,e,r);l[r]?(l[r].p(f,c),g(l[r],1)):(l[r]=Re(f),l[r].c(),g(l[r],1),l[r].m(n.parentNode,n))}for(F(),r=e.length;r<l.length;r+=1)o(r);D()}},i(i){if(!t){for(let c=0;c<e.length;c+=1)g(l[c]);t=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)w(l[c]);t=!1},d(i){P(l,i),i&&O(n)}}}function ze(s){let n,t,e;return t=new le({props:{packageName:s[7],name:s[11],apiSummary:s[12]}}),{c(){n=d("div"),R(t.$$.fragment),m(n,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(l,o){k(l,n,o),H(t,n,null),e=!0},p(l,o){let i={};o&18&&(i.packageName=l[7]),o&18&&(i.name=l[11]),o&18&&(i.apiSummary=l[12]),t.$set(i)},i(l){e||(g(t.$$.fragment,l),e=!0)},o(l){w(t.$$.fragment,l),e=!1},d(l){l&&O(n),z(t)}}}function qe(s){let n,t=s[7]+"",e,l,o,i,c,r=Object.entries(s[8]),f=[];for(let u=0;u<r.length;u+=1)f[u]=ze(Me(s,r,u));let a=u=>w(f[u],1,1,()=>{f[u]=null});return{c(){n=d("h4"),e=X(t),l=S(),o=d("div");for(let u=0;u<f.length;u+=1)f[u].c();i=S(),m(n,"class","subtitle is-4"),m(o,"class","columns is-multiline")},m(u,p){k(u,n,p),v(n,e),k(u,l,p),k(u,o,p);for(let h=0;h<f.length;h+=1)f[h].m(o,null);v(o,i),c=!0},p(u,p){if((!c||p&18)&&t!==(t=u[7]+"")&&Y(e,t),p&18){r=Object.entries(u[8]);let h;for(h=0;h<r.length;h+=1){let T=Me(u,r,h);f[h]?(f[h].p(T,p),g(f[h],1)):(f[h]=ze(T),f[h].c(),g(f[h],1),f[h].m(o,i))}for(F(),h=r.length;h<f.length;h+=1)a(h);D()}},i(u){if(!c){for(let p=0;p<r.length;p+=1)g(f[p]);c=!0}},o(u){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)w(f[p]);c=!1},d(u){u&&O(n),u&&O(l),u&&O(o),P(f,u)}}}function xe(s){let n,t,e,l,o,i,c,r,f,a,u,p,h,T;n=new he({props:{activePage:"browser"}}),i=new Ce({}),i.$on("searchTextChange",s[5]),r=new ve({props:{messages:s[2]}});let L=[Ze,Qe],y=[];function q(_,j){return _[1]?0:1}return a=q(s,-1),u=y[a]=L[a](s),h=new _e({}),{c(){R(n.$$.fragment),t=S(),e=d("div"),l=d("section"),l.innerHTML='<div class="hero-body"><h1 class="title">Api Browser</h1></div>',o=S(),R(i.$$.fragment),c=S(),R(r.$$.fragment),f=S(),u.c(),p=S(),R(h.$$.fragment),m(l,"class","hero is-small"),m(e,"class","container")},m(_,j){H(n,_,j),k(_,t,j),k(_,e,j),v(e,l),v(e,o),H(i,e,null),v(e,c),H(r,e,null),v(e,f),y[a].m(e,null),k(_,p,j),H(h,_,j),T=!0},p(_,[j]){let W={};j&4&&(W.messages=_[2]),r.$set(W);let E=a;a=q(_,j),a===E?y[a].p(_,j):(F(),w(y[E],1,1,()=>{y[E]=null}),D(),u=y[a],u?u.p(_,j):(u=y[a]=L[a](_),u.c()),g(u,1),u.m(e,null))},i(_){T||(g(n.$$.fragment,_),g(i.$$.fragment,_),g(r.$$.fragment,_),g(u),g(h.$$.fragment,_),T=!0)},o(_){w(n.$$.fragment,_),w(i.$$.fragment,_),w(r.$$.fragment,_),w(u),w(h.$$.fragment,_),T=!1},d(_){z(n,_),_&&O(t),_&&O(e),z(i),z(r),y[a].d(),_&&O(p),z(h,_)}}}var et="./apis/apiIndex.json";function tt(s,n,t){let e;Z(s,M,a=>t(0,e=a));let l=null,o=[],i=0,c="";function r(){for(let a in e.favorites){for(let u in e.favorites[a])(!e.favorites[a][u]||!l[a]||!l[a][u])&&delete e.favorites[a][u];Object.keys(e.favorites[a]).length===0&&delete e.favorites[a]}M.set(e)}function f(a){t(4,c=a.detail.searchText)}return ue(()=>de(void 0,void 0,void 0,function*(){Ne();let a=yield fetch(et);a.ok?(t(1,l=yield a.json()),r()):t(2,o=[...o,"Error while fetching api index: "+a.status])})),me(()=>{je()}),s.$$.update=()=>{if(s.$$.dirty&1){e:t(3,i=Object.values(e.favorites).filter(a=>Object.values(a).filter(u=>u).length).length)}},[e,l,o,i,c,f]}var re=class extends K{constructor(n){super(),J(this,n,tt,xe,U,{})}},Ue=re;new Ue({target:document.body});ae();
