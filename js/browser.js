// Project: https://github.com/marc0l92/api-tools
import{d as le}from"./chunk-ENFAIUXN.js";import{a as ye}from"./chunk-PZEKVWKH.js";import{$ as U,A as k,B as O,C as H,D as h,E as Q,F as S,G,H as J,K as p,L as X,M as te,P as pe,R as _e,S as he,V as D,W as P,X as g,Y as w,Z as q,_ as R,aa as K,ba as W,ca as de,fa as ve,ga as be,h as E,ha as ge,ia as ke,j as ae,k as fe,m as ce,n as I,na as Oe,o as ue,oa as we,q as V,s as Y,x as ee,y as v,z as me}from"./chunk-G7MV4BHC.js";E();E();E();E();var je="browserOptions",Ne={favorites:{}},F=ke(Object.assign({},Ne)),Z=null,Se=()=>{Z||(F.set(ge(je,Ne)),Z=F.subscribe(r=>{be(je,r)}))},$e=()=>{Z&&Z()};function Je(r){me(r,"svelte-vtk06y",".card-header-body.svelte-vtk06y{flex-grow:1}.card-header-title.svelte-vtk06y{word-break:break-all}.card-header-icon.svelte-vtk06y{color:var(--color-accent)}.is-tag-size.svelte-vtk06y{height:2em;vertical-align:baseline;padding-left:0.75em;padding-right:0.75em}.tag.status-1.svelte-vtk06y{background-color:#ffe08a;color:white}.tag.status-2.svelte-vtk06y{background-color:#f14668;color:white}")}function Te(r,n,i){let e=r.slice();return e[9]=n[i][0],e[10]=n[i][1],e}function Ce(r){let n,i,e,l,o,t,u,s,a,c,f,m,d,$,A,B,C,z=Object.keys(r[2]).length>Ee,_,N,L=Object.entries(r[2]).slice(0,r[4]?void 0:5),y=[];for(let b=0;b<L.length;b+=1)y[b]=Be(Te(r,L,b));let T=z&&Ae(r);return{c(){n=h("div"),i=h("header"),e=h("a"),l=h("p"),o=Q(r[1]),u=S(),s=h("button"),a=h("span"),c=h("i"),m=S(),d=h("div"),$=h("div"),A=h("div"),B=h("div");for(let b=0;b<y.length;b+=1)y[b].c();C=S(),T&&T.c(),p(l,"class","card-header-title svelte-vtk06y"),p(e,"class","card-header-body svelte-vtk06y"),p(e,"href",t=r[6]+"/viewer.html?api="+r[3]),p(c,"class",f=(r[5].favorites[r[0]]&&r[5].favorites[r[0]][r[1]]?"fas":"far")+" fa-star"),p(a,"class","icon"),p(s,"class","card-header-icon svelte-vtk06y"),p(i,"class","card-header"),p(B,"class","column"),p(A,"class","columns is-multiline"),p($,"class","content"),p(d,"class","card-content"),p(n,"class","card")},m(b,M){k(b,n,M),v(n,i),v(i,e),v(e,l),v(l,o),v(i,u),v(i,s),v(s,a),v(a,c),v(n,m),v(n,d),v(d,$),v($,A),v(A,B);for(let j=0;j<y.length;j+=1)y[j]&&y[j].m(B,null);v(B,C),T&&T.m(B,null),_||(N=J(s,"click",r[7]),_=!0)},p(b,M){if(M&2&&X(o,b[1]),M&8&&t!==(t=b[6]+"/viewer.html?api="+b[3])&&p(e,"href",t),M&35&&f!==(f=(b[5].favorites[b[0]]&&b[5].favorites[b[0]][b[1]]?"fas":"far")+" fa-star")&&p(c,"class",f),M&84){L=Object.entries(b[2]).slice(0,b[4]?void 0:5);let j;for(j=0;j<L.length;j+=1){let oe=Te(b,L,j);y[j]?y[j].p(oe,M):(y[j]=Be(oe),y[j].c(),y[j].m(B,C))}for(;j<y.length;j+=1)y[j].d(1);y.length=L.length}M&4&&(z=Object.keys(b[2]).length>Ee),z?T?T.p(b,M):(T=Ae(b),T.c(),T.m(B,null)):T&&(T.d(1),T=null)},d(b){b&&O(n),H(y,b),T&&T.d(),_=!1,N()}}}function Be(r){let n,i=r[9]+"",e,l,o;return{c(){n=h("a"),e=Q(i),p(n,"class",l="tag ml-1 mb-1 "+Ie(r[10])+" svelte-vtk06y"),p(n,"href",o=r[6]+"/viewer.html?api="+Object.values(r[10])[0].hash)},m(t,u){k(t,n,u),v(n,e)},p(t,u){u&20&&i!==(i=t[9]+"")&&X(e,i),u&20&&l!==(l="tag ml-1 mb-1 "+Ie(t[10])+" svelte-vtk06y")&&p(n,"class",l),u&20&&o!==(o=t[6]+"/viewer.html?api="+Object.values(t[10])[0].hash)&&p(n,"href",o)},d(t){t&&O(n)}}}function Ae(r){let n,i,e,l,o;return{c(){n=h("button"),i=h("i"),p(i,"class",e="fas fa-angle-"+(r[4]?"left":"right")),p(n,"class","button is-white is-small is-tag-size svelte-vtk06y")},m(t,u){k(t,n,u),v(n,i),l||(o=J(n,"click",r[8]),l=!0)},p(t,u){u&16&&e!==(e="fas fa-angle-"+(t[4]?"left":"right"))&&p(i,"class",e)},d(t){t&&O(n),l=!1,o()}}}function Ke(r){let n,i=r[2]&&Ce(r);return{c(){i&&i.c(),n=G()},m(e,l){i&&i.m(e,l),k(e,n,l)},p(e,[l]){e[2]?i?i.p(e,l):(i=Ce(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:I,o:I,d(e){i&&i.d(e),e&&O(n)}}}var Ee=5;function Ie(r){return`status-${Object.values(r).map(i=>i.status).reduce((i,e)=>Math.max(i,e))}`}function We(r,n,i){let e;Y(r,F,m=>i(5,e=m));let l=ae(),{packageName:o=null}=n,{name:t=null}=n,{apiSummary:u=null}=n,s="",a=!1;function c(){console.log(JSON.stringify(e)),e.favorites[o]||ee(F,e.favorites[o]={},e),ee(F,e.favorites[o][t]=!e.favorites[o][t],e)}let f=()=>i(4,a=!a);return r.$$set=m=>{"packageName"in m&&i(0,o=m.packageName),"name"in m&&i(1,t=m.name),"apiSummary"in m&&i(2,u=m.apiSummary)},r.$$.update=()=>{if(r.$$.dirty&4){e:if(u){let m=Object.keys(u)[0];i(3,s=Object.values(u[m])[0].hash)}}},[o,t,u,s,a,e,l,c,f]}var ie=class extends W{constructor(n){super(),K(this,n,We,Ke,V,{packageName:0,name:1,apiSummary:2},Je)}},ne=ie;E();function Ye(r){let n,i,e,l,o,t;return{c(){n=h("div"),i=h("div"),e=h("div"),l=h("input"),p(l,"class","input"),p(l,"type","text"),p(l,"placeholder","Search"),p(e,"class","control is-expanded"),p(i,"class","field"),p(n,"class","block")},m(u,s){k(u,n,s),v(n,i),v(i,e),v(e,l),te(l,r[0]),o||(t=[J(l,"input",r[2]),J(l,"input",r[1])],o=!0)},p(u,[s]){s&1&&l.value!==u[0]&&te(l,u[0])},i:I,o:I,d(u){u&&O(n),o=!1,ue(t)}}}function Qe(r,n,i){let e="",l=he();function o(){l("searchTextChange",{searchText:e})}function t(){e=this.value,i(0,e)}return[e,o,t]}var se=class extends W{constructor(n){super(),K(this,n,Qe,Ye,V,{})}},Le=se;function Me(r,n,i){let e=r.slice();return e[8]=n[i][0],e[9]=n[i][1],e}function Fe(r,n,i){let e=r.slice();return e[12]=n[i][0],e[13]=n[i][1],e}function De(r,n,i){let e=r.slice();return e[8]=n[i][0],e[9]=n[i][1],e}function Pe(r,n,i){let e=r.slice();return e[18]=n[i][0],e[19]=n[i][1],e}function Xe(r){let n;return{c(){n=h("div"),n.textContent="Fetching api index...",p(n,"class","box")},m(i,e){k(i,n,e)},p:I,i:I,o:I,d(i){i&&O(n)}}}function Ze(r){let n,i,e,l=r[3]>0&&!r[4]&&He(r),o=Object.entries(le(r[1],r[4])),t=[];for(let s=0;s<o.length;s+=1)t[s]=Ve(Me(r,o,s));let u=s=>w(t[s],1,1,()=>{t[s]=null});return{c(){l&&l.c(),n=S();for(let s=0;s<t.length;s+=1)t[s].c();i=G()},m(s,a){l&&l.m(s,a),k(s,n,a);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(s,a);k(s,i,a),e=!0},p(s,a){if(s[3]>0&&!s[4]?l?(l.p(s,a),a&24&&g(l,1)):(l=He(s),l.c(),g(l,1),l.m(n.parentNode,n)):l&&(D(),w(l,1,1,()=>{l=null}),P()),a&18){o=Object.entries(le(s[1],s[4]));let c;for(c=0;c<o.length;c+=1){let f=Me(s,o,c);t[c]?(t[c].p(f,a),g(t[c],1)):(t[c]=Ve(f),t[c].c(),g(t[c],1),t[c].m(i.parentNode,i))}for(D(),c=o.length;c<t.length;c+=1)u(c);P()}},i(s){if(!e){g(l);for(let a=0;a<o.length;a+=1)g(t[a]);e=!0}},o(s){w(l),t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)w(t[a]);e=!1},d(s){l&&l.d(s),s&&O(n),H(t,s),s&&O(i)}}}function He(r){let n,i,e,l,o=Object.entries(r[0].favorites),t=[];for(let s=0;s<o.length;s+=1)t[s]=Ue(De(r,o,s));let u=s=>w(t[s],1,1,()=>{t[s]=null});return{c(){n=h("h4"),n.innerHTML='<i class="fas fa-star"></i> Favorites',i=S(),e=h("div");for(let s=0;s<t.length;s+=1)t[s].c();p(n,"class","subtitle is-4"),p(e,"class","columns is-multiline")},m(s,a){k(s,n,a),k(s,i,a),k(s,e,a);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);l=!0},p(s,a){if(a&3){o=Object.entries(s[0].favorites);let c;for(c=0;c<o.length;c+=1){let f=De(s,o,c);t[c]?(t[c].p(f,a),g(t[c],1)):(t[c]=Ue(f),t[c].c(),g(t[c],1),t[c].m(e,null))}for(D(),c=o.length;c<t.length;c+=1)u(c);P()}},i(s){if(!l){for(let a=0;a<o.length;a+=1)g(t[a]);l=!0}},o(s){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)w(t[a]);l=!1},d(s){s&&O(n),s&&O(i),s&&O(e),H(t,s)}}}function qe(r){let n,i,e,l;return i=new ne({props:{packageName:r[8],name:r[18],apiSummary:r[1][r[8]][r[18]]}}),{c(){n=h("div"),q(i.$$.fragment),e=S(),p(n,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(o,t){k(o,n,t),R(i,n,null),v(n,e),l=!0},p(o,t){let u={};t&1&&(u.packageName=o[8]),t&1&&(u.name=o[18]),t&3&&(u.apiSummary=o[1][o[8]][o[18]]),i.$set(u)},i(o){l||(g(i.$$.fragment,o),l=!0)},o(o){w(i.$$.fragment,o),l=!1},d(o){o&&O(n),U(i)}}}function Re(r){let n,i,e=r[19]&&qe(r);return{c(){e&&e.c(),n=G()},m(l,o){e&&e.m(l,o),k(l,n,o),i=!0},p(l,o){l[19]?e?(e.p(l,o),o&1&&g(e,1)):(e=qe(l),e.c(),g(e,1),e.m(n.parentNode,n)):e&&(D(),w(e,1,1,()=>{e=null}),P())},i(l){i||(g(e),i=!0)},o(l){w(e),i=!1},d(l){e&&e.d(l),l&&O(n)}}}function Ue(r){let n,i,e=Object.entries(r[9]),l=[];for(let t=0;t<e.length;t+=1)l[t]=Re(Pe(r,e,t));let o=t=>w(l[t],1,1,()=>{l[t]=null});return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=G()},m(t,u){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(t,u);k(t,n,u),i=!0},p(t,u){if(u&3){e=Object.entries(t[9]);let s;for(s=0;s<e.length;s+=1){let a=Pe(t,e,s);l[s]?(l[s].p(a,u),g(l[s],1)):(l[s]=Re(a),l[s].c(),g(l[s],1),l[s].m(n.parentNode,n))}for(D(),s=e.length;s<l.length;s+=1)o(s);P()}},i(t){if(!i){for(let u=0;u<e.length;u+=1)g(l[u]);i=!0}},o(t){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)w(l[u]);i=!1},d(t){H(l,t),t&&O(n)}}}function ze(r){let n,i,e;return i=new ne({props:{packageName:r[8],name:r[12],apiSummary:r[13]}}),{c(){n=h("div"),q(i.$$.fragment),p(n,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(l,o){k(l,n,o),R(i,n,null),e=!0},p(l,o){let t={};o&18&&(t.packageName=l[8]),o&18&&(t.name=l[12]),o&18&&(t.apiSummary=l[13]),i.$set(t)},i(l){e||(g(i.$$.fragment,l),e=!0)},o(l){w(i.$$.fragment,l),e=!1},d(l){l&&O(n),U(i)}}}function Ve(r){let n,i=r[8]+"",e,l,o,t,u,s=Object.entries(r[9]),a=[];for(let f=0;f<s.length;f+=1)a[f]=ze(Fe(r,s,f));let c=f=>w(a[f],1,1,()=>{a[f]=null});return{c(){n=h("h4"),e=Q(i),l=S(),o=h("div");for(let f=0;f<a.length;f+=1)a[f].c();t=S(),p(n,"class","subtitle is-4"),p(o,"class","columns is-multiline")},m(f,m){k(f,n,m),v(n,e),k(f,l,m),k(f,o,m);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(o,null);v(o,t),u=!0},p(f,m){if((!u||m&18)&&i!==(i=f[8]+"")&&X(e,i),m&18){s=Object.entries(f[9]);let d;for(d=0;d<s.length;d+=1){let $=Fe(f,s,d);a[d]?(a[d].p($,m),g(a[d],1)):(a[d]=ze($),a[d].c(),g(a[d],1),a[d].m(o,t))}for(D(),d=s.length;d<a.length;d+=1)c(d);P()}},i(f){if(!u){for(let m=0;m<s.length;m+=1)g(a[m]);u=!0}},o(f){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)w(a[m]);u=!1},d(f){f&&O(n),f&&O(l),f&&O(o),H(a,f)}}}function xe(r){let n,i,e,l,o,t,u,s,a,c,f,m,d,$,A;n=new we({props:{activePage:"browser"}}),t=new Le({}),t.$on("searchTextChange",r[6]),s=new ye({props:{messages:r[2]}});let B=[Ze,Xe],C=[];function z(_,N){return _[1]?0:1}return c=z(r,-1),f=C[c]=B[c](r),$=new de({}),{c(){q(n.$$.fragment),i=S(),e=h("div"),l=h("section"),l.innerHTML='<div class="hero-body"><h1 class="title">Api Browser</h1></div>',o=S(),q(t.$$.fragment),u=S(),q(s.$$.fragment),a=S(),f.c(),d=S(),q($.$$.fragment),p(l,"class","hero is-small"),p(e,"class",m="container "+(r[5].fluidLayout?"is-fluid":""))},m(_,N){R(n,_,N),k(_,i,N),k(_,e,N),v(e,l),v(e,o),R(t,e,null),v(e,u),R(s,e,null),v(e,a),C[c].m(e,null),k(_,d,N),R($,_,N),A=!0},p(_,[N]){let L={};N&4&&(L.messages=_[2]),s.$set(L);let y=c;c=z(_,N),c===y?C[c].p(_,N):(D(),w(C[y],1,1,()=>{C[y]=null}),P(),f=C[c],f?f.p(_,N):(f=C[c]=B[c](_),f.c()),g(f,1),f.m(e,null)),(!A||N&32&&m!==(m="container "+(_[5].fluidLayout?"is-fluid":"")))&&p(e,"class",m)},i(_){A||(g(n.$$.fragment,_),g(t.$$.fragment,_),g(s.$$.fragment,_),g(f),g($.$$.fragment,_),A=!0)},o(_){w(n.$$.fragment,_),w(t.$$.fragment,_),w(s.$$.fragment,_),w(f),w($.$$.fragment,_),A=!1},d(_){U(n,_),_&&O(i),_&&O(e),U(t),U(s),C[c].d(),_&&O(d),U($,_)}}}function et(r,n,i){let e,l;Y(r,F,f=>i(0,e=f)),Y(r,Oe,f=>i(5,l=f));let o=null,t=[],u=0,s="";function a(){for(let f in e.favorites){for(let m in e.favorites[f])(!e.favorites[f][m]||!o[f]||!o[f][m])&&delete e.favorites[f][m];Object.keys(e.favorites[f]).length===0&&delete e.favorites[f]}F.set(e)}function c(f){i(4,s=f.detail.searchText)}return pe(()=>ve(void 0,void 0,void 0,function*(){Se();let f=yield fetch(fe());f.ok?(i(1,o=yield f.json()),a()):i(2,t=[...t,"Error while fetching api index: "+f.status])})),_e(()=>{$e()}),r.$$.update=()=>{if(r.$$.dirty&1)e:i(3,u=Object.values(e.favorites).filter(f=>Object.values(f).filter(m=>m).length).length)},[e,o,t,u,s,l,c]}var re=class extends W{constructor(n){super(),K(this,n,et,xe,V,{})}},Ge=re;new Ge({target:document.body});ce();
