// Project: https://github.com/marc0l92/api-tools
import{a as ke}from"./chunk-PSJ52GZX.js";import{a as Oe,b as we}from"./chunk-WIF3LMWW.js";import{c as ge,d as ve}from"./chunk-I5QQGVG7.js";import{$ as W,A as k,B as O,C as R,D as d,E as H,F as S,G as K,H as X,J as _,K as Y,L as te,O as pe,Q as _e,R as he,T as F,U as M,V as g,W as w,X as z,Y as q,Z as U,_ as Q,aa as de,ba as be,h as T,j as fe,n as ce,o as C,p as ue,q as J,s as x,x as ee,y as h,z as me}from"./chunk-6K5LROKE.js";T();T();T();T();var Ne="browserOptions",je={favorites:{}},B=ke(Object.assign({},je)),Se=null,ye=()=>{B.set(we(Ne,je)),Se=B.subscribe(o=>{Oe(Ne,o)})},$e=()=>{Se()};function Ge(o){me(o,"svelte-xoabuk",".card-header-title.svelte-xoabuk{word-break:break-all}.card-header-icon.svelte-xoabuk{color:var(--color-accent)}.is-tag-size.svelte-xoabuk{height:2em;vertical-align:baseline;padding-left:0.75em;padding-right:0.75em}")}function Ie(o,n,l){let e=o.slice();return e[10]=n[l][0],e[11]=n[l][1],e}function Te(o){let n,l,e,t,s,i,u,r,f,a,c,v,m,A,D,I,L,p,j,V=Object.keys(o[2]).length>Ce,P,se,G=Object.entries(o[2]).slice(0,o[5]?void 0:5),y=[];for(let b=0;b<G.length;b+=1)y[b]=Ae(Ie(o,G,b));let $=V&&Ee(o);return{c(){n=d("div"),l=d("header"),e=d("a"),t=d("p"),s=H(o[1]),i=H(" - "),u=H(o[3]),f=S(),a=d("button"),c=d("span"),v=d("i"),A=S(),D=d("div"),I=d("div"),L=d("div"),p=d("div");for(let b=0;b<y.length;b+=1)y[b].c();j=S(),$&&$.c(),_(t,"class","card-header-title svelte-xoabuk"),_(e,"href",r=o[7]+"/viewer.html?api="+o[4]),_(v,"class",m=(o[6].favorites[o[0]]&&o[6].favorites[o[0]][o[1]]?"fas":"far")+" fa-star"),_(c,"class","icon"),_(a,"class","card-header-icon svelte-xoabuk"),_(l,"class","card-header"),_(p,"class","column"),_(L,"class","columns is-multiline"),_(I,"class","content"),_(D,"class","card-content"),_(n,"class","card")},m(b,E){k(b,n,E),h(n,l),h(l,e),h(e,t),h(t,s),h(t,i),h(t,u),h(l,f),h(l,a),h(a,c),h(c,v),h(n,A),h(n,D),h(D,I),h(I,L),h(L,p);for(let N=0;N<y.length;N+=1)y[N].m(p,null);h(p,j),$&&$.m(p,null),P||(se=X(a,"click",o[8]),P=!0)},p(b,E){if(E&2&&Y(s,b[1]),E&8&&Y(u,b[3]),E&16&&r!==(r=b[7]+"/viewer.html?api="+b[4])&&_(e,"href",r),E&67&&m!==(m=(b[6].favorites[b[0]]&&b[6].favorites[b[0]][b[1]]?"fas":"far")+" fa-star")&&_(v,"class",m),E&164){G=Object.entries(b[2]).slice(0,b[5]?void 0:5);let N;for(N=0;N<G.length;N+=1){let ae=Ie(b,G,N);y[N]?y[N].p(ae,E):(y[N]=Ae(ae),y[N].c(),y[N].m(p,j))}for(;N<y.length;N+=1)y[N].d(1);y.length=G.length}E&4&&(V=Object.keys(b[2]).length>Ce),V?$?$.p(b,E):($=Ee(b),$.c(),$.m(p,null)):$&&($.d(1),$=null)},d(b){b&&O(n),R(y,b),$&&$.d(),P=!1,se()}}}function Ae(o){let n,l=o[10]+"",e,t;return{c(){n=d("a"),e=H(l),_(n,"class","tag ml-1 mb-1"),_(n,"href",t=o[7]+"/viewer.html?api="+Object.values(o[11])[0].hash)},m(s,i){k(s,n,i),h(n,e)},p(s,i){i&36&&l!==(l=s[10]+"")&&Y(e,l),i&36&&t!==(t=s[7]+"/viewer.html?api="+Object.values(s[11])[0].hash)&&_(n,"href",t)},d(s){s&&O(n)}}}function Ee(o){let n,l,e,t,s;return{c(){n=d("button"),l=d("i"),_(l,"class",e="fas fa-angle-"+(o[5]?"left":"right")),_(n,"class","button is-white is-small is-tag-size svelte-xoabuk")},m(i,u){k(i,n,u),h(n,l),t||(s=X(n,"click",o[9]),t=!0)},p(i,u){u&32&&e!==(e="fas fa-angle-"+(i[5]?"left":"right"))&&_(l,"class",e)},d(i){i&&O(n),t=!1,s()}}}function Je(o){let n,l=o[2]&&Te(o);return{c(){l&&l.c(),n=K()},m(e,t){l&&l.m(e,t),k(e,n,t)},p(e,[t]){e[2]?l?l.p(e,t):(l=Te(e),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i:C,o:C,d(e){l&&l.d(e),e&&O(n)}}}var Ce=5;function Ke(o,n,l){let e;x(o,B,m=>l(6,e=m));let t=fe(),{packageName:s=null}=n,{name:i=null}=n,{apiSummary:u=null}=n,r="",f="",a=!1;function c(){console.log(JSON.stringify(e)),e.favorites[s]||ee(B,e.favorites[s]={},e),ee(B,e.favorites[s][i]=!e.favorites[s][i],e)}let v=()=>l(5,a=!a);return o.$$set=m=>{"packageName"in m&&l(0,s=m.packageName),"name"in m&&l(1,i=m.name),"apiSummary"in m&&l(2,u=m.apiSummary)},o.$$.update=()=>{if(o.$$.dirty&12){e:u&&(l(3,r=Object.keys(u)[0]),l(4,f=Object.values(u[r])[0].hash))}},[s,i,u,r,f,a,e,t,c,v]}var le=class extends W{constructor(n){super(),Q(this,n,Ke,Je,J,{packageName:0,name:1,apiSummary:2},Ge)}},ne=le;T();function Xe(o){let n,l,e,t,s,i;return{c(){n=d("div"),l=d("div"),e=d("div"),t=d("input"),_(t,"class","input"),_(t,"type","text"),_(t,"placeholder","Search"),_(e,"class","control is-expanded"),_(l,"class","field"),_(n,"class","block")},m(u,r){k(u,n,r),h(n,l),h(l,e),h(e,t),te(t,o[0]),s||(i=[X(t,"input",o[2]),X(t,"input",o[1])],s=!0)},p(u,[r]){r&1&&t.value!==u[0]&&te(t,u[0])},i:C,o:C,d(u){u&&O(n),s=!1,ue(i)}}}function Ye(o,n,l){let e="",t=he();function s(){t("searchTextChange",{searchText:e})}function i(){e=this.value,l(0,e)}return[e,s,i]}var ie=class extends W{constructor(n){super(),Q(this,n,Ye,Xe,J,{})}},Be=ie;T();function Qe(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function We(o,n){let l="";for(let e of o)l+=`.*${Qe(e)}.*`;return n.match(new RegExp(l,"i"))}function re(o,n){let l={};for(let e in o)for(let t in o[e])We(n,e+t)&&(e in l||(l[e]={}),l[e][t]=o[e][t]);return l}function Fe(o,n,l){let e=o.slice();return e[7]=n[l][0],e[8]=n[l][1],e}function Me(o,n,l){let e=o.slice();return e[11]=n[l][0],e[12]=n[l][1],e}function De(o,n,l){let e=o.slice();return e[7]=n[l][0],e[8]=n[l][1],e}function Le(o,n,l){let e=o.slice();return e[17]=n[l][0],e[18]=n[l][1],e}function Ze(o){let n;return{c(){n=d("div"),n.textContent="Fetching api index...",_(n,"class","box")},m(l,e){k(l,n,e)},p:C,i:C,o:C,d(l){l&&O(n)}}}function xe(o){let n,l,e,t=o[3]>0&&!o[4]&&Pe(o),s=Object.entries(re(o[1],o[4])),i=[];for(let r=0;r<s.length;r+=1)i[r]=Ue(Fe(o,s,r));let u=r=>w(i[r],1,1,()=>{i[r]=null});return{c(){t&&t.c(),n=S();for(let r=0;r<i.length;r+=1)i[r].c();l=K()},m(r,f){t&&t.m(r,f),k(r,n,f);for(let a=0;a<i.length;a+=1)i[a].m(r,f);k(r,l,f),e=!0},p(r,f){if(r[3]>0&&!r[4]?t?(t.p(r,f),f&24&&g(t,1)):(t=Pe(r),t.c(),g(t,1),t.m(n.parentNode,n)):t&&(F(),w(t,1,1,()=>{t=null}),M()),f&18){s=Object.entries(re(r[1],r[4]));let a;for(a=0;a<s.length;a+=1){let c=Fe(r,s,a);i[a]?(i[a].p(c,f),g(i[a],1)):(i[a]=Ue(c),i[a].c(),g(i[a],1),i[a].m(l.parentNode,l))}for(F(),a=s.length;a<i.length;a+=1)u(a);M()}},i(r){if(!e){g(t);for(let f=0;f<s.length;f+=1)g(i[f]);e=!0}},o(r){w(t),i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)w(i[f]);e=!1},d(r){t&&t.d(r),r&&O(n),R(i,r),r&&O(l)}}}function Pe(o){let n,l,e,t,s=Object.entries(o[0].favorites),i=[];for(let r=0;r<s.length;r+=1)i[r]=ze(De(o,s,r));let u=r=>w(i[r],1,1,()=>{i[r]=null});return{c(){n=d("h4"),n.innerHTML='<i class="fas fa-star"></i> Favorites',l=S(),e=d("div");for(let r=0;r<i.length;r+=1)i[r].c();_(n,"class","subtitle is-4"),_(e,"class","columns is-multiline")},m(r,f){k(r,n,f),k(r,l,f),k(r,e,f);for(let a=0;a<i.length;a+=1)i[a].m(e,null);t=!0},p(r,f){if(f&3){s=Object.entries(r[0].favorites);let a;for(a=0;a<s.length;a+=1){let c=De(r,s,a);i[a]?(i[a].p(c,f),g(i[a],1)):(i[a]=ze(c),i[a].c(),g(i[a],1),i[a].m(e,null))}for(F(),a=s.length;a<i.length;a+=1)u(a);M()}},i(r){if(!t){for(let f=0;f<s.length;f+=1)g(i[f]);t=!0}},o(r){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)w(i[f]);t=!1},d(r){r&&O(n),r&&O(l),r&&O(e),R(i,r)}}}function Re(o){let n,l,e,t;return l=new ne({props:{packageName:o[7],name:o[17],apiSummary:o[1][o[7]][o[17]]}}),{c(){n=d("div"),z(l.$$.fragment),e=S(),_(n,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(s,i){k(s,n,i),q(l,n,null),h(n,e),t=!0},p(s,i){let u={};i&1&&(u.packageName=s[7]),i&1&&(u.name=s[17]),i&3&&(u.apiSummary=s[1][s[7]][s[17]]),l.$set(u)},i(s){t||(g(l.$$.fragment,s),t=!0)},o(s){w(l.$$.fragment,s),t=!1},d(s){s&&O(n),U(l)}}}function He(o){let n,l,e=o[18]&&Re(o);return{c(){e&&e.c(),n=K()},m(t,s){e&&e.m(t,s),k(t,n,s),l=!0},p(t,s){t[18]?e?(e.p(t,s),s&1&&g(e,1)):(e=Re(t),e.c(),g(e,1),e.m(n.parentNode,n)):e&&(F(),w(e,1,1,()=>{e=null}),M())},i(t){l||(g(e),l=!0)},o(t){w(e),l=!1},d(t){e&&e.d(t),t&&O(n)}}}function ze(o){let n,l,e=Object.entries(o[8]),t=[];for(let i=0;i<e.length;i+=1)t[i]=He(Le(o,e,i));let s=i=>w(t[i],1,1,()=>{t[i]=null});return{c(){for(let i=0;i<t.length;i+=1)t[i].c();n=K()},m(i,u){for(let r=0;r<t.length;r+=1)t[r].m(i,u);k(i,n,u),l=!0},p(i,u){if(u&3){e=Object.entries(i[8]);let r;for(r=0;r<e.length;r+=1){let f=Le(i,e,r);t[r]?(t[r].p(f,u),g(t[r],1)):(t[r]=He(f),t[r].c(),g(t[r],1),t[r].m(n.parentNode,n))}for(F(),r=e.length;r<t.length;r+=1)s(r);M()}},i(i){if(!l){for(let u=0;u<e.length;u+=1)g(t[u]);l=!0}},o(i){t=t.filter(Boolean);for(let u=0;u<t.length;u+=1)w(t[u]);l=!1},d(i){R(t,i),i&&O(n)}}}function qe(o){let n,l,e;return l=new ne({props:{packageName:o[7],name:o[11],apiSummary:o[12]}}),{c(){n=d("div"),z(l.$$.fragment),_(n,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(t,s){k(t,n,s),q(l,n,null),e=!0},p(t,s){let i={};s&18&&(i.packageName=t[7]),s&18&&(i.name=t[11]),s&18&&(i.apiSummary=t[12]),l.$set(i)},i(t){e||(g(l.$$.fragment,t),e=!0)},o(t){w(l.$$.fragment,t),e=!1},d(t){t&&O(n),U(l)}}}function Ue(o){let n,l=o[7]+"",e,t,s,i,u,r=Object.entries(o[8]),f=[];for(let c=0;c<r.length;c+=1)f[c]=qe(Me(o,r,c));let a=c=>w(f[c],1,1,()=>{f[c]=null});return{c(){n=d("h4"),e=H(l),t=S(),s=d("div");for(let c=0;c<f.length;c+=1)f[c].c();i=S(),_(n,"class","subtitle is-4"),_(s,"class","columns is-multiline")},m(c,v){k(c,n,v),h(n,e),k(c,t,v),k(c,s,v);for(let m=0;m<f.length;m+=1)f[m].m(s,null);h(s,i),u=!0},p(c,v){if((!u||v&18)&&l!==(l=c[7]+"")&&Y(e,l),v&18){r=Object.entries(c[8]);let m;for(m=0;m<r.length;m+=1){let A=Me(c,r,m);f[m]?(f[m].p(A,v),g(f[m],1)):(f[m]=qe(A),f[m].c(),g(f[m],1),f[m].m(s,i))}for(F(),m=r.length;m<f.length;m+=1)a(m);M()}},i(c){if(!u){for(let v=0;v<r.length;v+=1)g(f[v]);u=!0}},o(c){f=f.filter(Boolean);for(let v=0;v<f.length;v+=1)w(f[v]);u=!1},d(c){c&&O(n),c&&O(t),c&&O(s),R(f,c)}}}function et(o){let n,l,e,t,s,i,u,r,f,a,c,v,m,A;n=new be({props:{activePage:"browser"}}),i=new Be({}),i.$on("searchTextChange",o[5]),r=new ve({props:{messages:o[2]}});let D=[xe,Ze],I=[];function L(p,j){return p[1]?0:1}return a=L(o,-1),c=I[a]=D[a](o),m=new de({}),{c(){z(n.$$.fragment),l=S(),e=d("div"),t=d("section"),t.innerHTML='<div class="hero-body"><h1 class="title">Api Browser</h1></div>',s=S(),z(i.$$.fragment),u=S(),z(r.$$.fragment),f=S(),c.c(),v=S(),z(m.$$.fragment),_(t,"class","hero is-small"),_(e,"class","container")},m(p,j){q(n,p,j),k(p,l,j),k(p,e,j),h(e,t),h(e,s),q(i,e,null),h(e,u),q(r,e,null),h(e,f),I[a].m(e,null),k(p,v,j),q(m,p,j),A=!0},p(p,[j]){let V={};j&4&&(V.messages=p[2]),r.$set(V);let P=a;a=L(p,j),a===P?I[a].p(p,j):(F(),w(I[P],1,1,()=>{I[P]=null}),M(),c=I[a],c?c.p(p,j):(c=I[a]=D[a](p),c.c()),g(c,1),c.m(e,null))},i(p){A||(g(n.$$.fragment,p),g(i.$$.fragment,p),g(r.$$.fragment,p),g(c),g(m.$$.fragment,p),A=!0)},o(p){w(n.$$.fragment,p),w(i.$$.fragment,p),w(r.$$.fragment,p),w(c),w(m.$$.fragment,p),A=!1},d(p){U(n,p),p&&O(l),p&&O(e),U(i),U(r),I[a].d(),p&&O(v),U(m,p)}}}var tt="./apis/apiIndex.json";function lt(o,n,l){let e;x(o,B,a=>l(0,e=a));let t=null,s=[],i=0,u="";function r(){for(let a in e.favorites){for(let c in e.favorites[a])(!e.favorites[a][c]||!t[a]||!t[a][c])&&delete e.favorites[a][c];Object.keys(e.favorites[a]).length===0&&delete e.favorites[a]}B.set(e)}function f(a){l(4,u=a.detail.searchText)}return pe(()=>ge(void 0,void 0,void 0,function*(){ye();let a=yield fetch(tt);a.ok?(l(1,t=yield a.json()),r()):l(2,s=[...s,"Error while fetching api index: "+a.status])})),_e(()=>{$e()}),o.$$.update=()=>{if(o.$$.dirty&1){e:l(3,i=Object.values(e.favorites).filter(a=>Object.values(a).filter(c=>c).length).length)}},[e,t,s,i,u,f]}var oe=class extends W{constructor(n){super(),Q(this,n,lt,et,J,{})}},Ve=oe;new Ve({target:document.body});ce();
