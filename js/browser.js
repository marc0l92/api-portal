// Project: https://github.com/marc0l92/api-tools
import{a as me}from"./chunk-SNW6KIOB.js";import{a as pe,b as _e}from"./chunk-KMHCSZEL.js";import{c as ce,d as ue}from"./chunk-5B23PD3G.js";import{D as z,F as ie,I as J,J as Q,K as k,L as j,M as H,N as P,O as V,P as q,Q as U,R as ae,S as fe,h as le,i as T,k as F,m as oe,n as re,o as p,q as g,r as w,s as K,t as b,u as M,v as y,w as X,x as se,y as _,z as D}from"./chunk-BQMZXNLR.js";var he="browserOptions",be={favorites:{}},Y=me(Object.assign({},be)),de=null,ve=()=>{Y.set(_e(he,be)),de=Y.subscribe(s=>{pe(he,s)})},ge=()=>{de()};function we(s,t,n){let e=s.slice();return e[5]=t[n],e}function Oe(s){let t,n,e,o,c,r,a,l=s[1].lastVersion+"",N,i,u,m=s[2].fileName+"",$,A,R,S,E,f,d,C,I,G,W,te,L=Object.entries(s[1].versions),O=[];for(let h=0;h<L.length;h+=1)O[h]=ke(we(s,L,h));return{c(){t=b("div"),n=b("div"),e=b("div"),o=b("a"),c=b("h3"),r=M(s[0]),a=M(" - "),N=M(l),i=y(),u=b("p"),$=M(m),R=y(),S=b("div"),E=b("button"),f=b("span"),d=b("i"),I=y(),G=b("div");for(let h=0;h<O.length;h+=1)O[h].c();_(c,"class","title"),_(u,"class","subtitle"),_(o,"href",A="./viewer.html?api="+s[2].hash),_(e,"class","column"),_(d,"class",C=(s[3].favorites[s[2].hash]?"fas":"far")+" fa-star"),_(f,"class","icon is-small"),_(E,"class","button is-small"),_(S,"class","column is-narrow"),_(n,"class","columns"),_(G,"class","control"),_(t,"class","box")},m(h,B){g(h,t,B),p(t,n),p(n,e),p(e,o),p(o,c),p(c,r),p(c,a),p(c,N),p(o,i),p(o,u),p(u,$),p(n,R),p(n,S),p(S,E),p(E,f),p(f,d),p(t,I),p(t,G);for(let v=0;v<O.length;v+=1)O[v].m(G,null);W||(te=se(E,"click",s[4]),W=!0)},p(h,B){if(B&1&&D(r,h[0]),B&2&&l!==(l=h[1].lastVersion+"")&&D(N,l),B&4&&m!==(m=h[2].fileName+"")&&D($,m),B&4&&A!==(A="./viewer.html?api="+h[2].hash)&&_(o,"href",A),B&12&&C!==(C=(h[3].favorites[h[2].hash]?"fas":"far")+" fa-star")&&_(d,"class",C),B&2){L=Object.entries(h[1].versions);let v;for(v=0;v<L.length;v+=1){let ne=we(h,L,v);O[v]?O[v].p(ne,B):(O[v]=ke(ne),O[v].c(),O[v].m(G,null))}for(;v<O.length;v+=1)O[v].d(1);O.length=L.length}},d(h){h&&w(t),K(O,h),W=!1,te()}}}function ke(s){let t,n,e=s[5][0]+"",o,c,r;return{c(){t=b("a"),n=b("button"),o=M(e),c=y(),_(n,"class","button is-small"),_(t,"href",r="./viewer.html?api="+s[5][1].hash)},m(a,l){g(a,t,l),p(t,n),p(n,o),p(t,c)},p(a,l){l&2&&e!==(e=a[5][0]+"")&&D(o,e),l&2&&r!==(r="./viewer.html?api="+a[5][1].hash)&&_(t,"href",r)},d(a){a&&w(t)}}}function Be(s){let t,n=s[2]&&Oe(s);return{c(){n&&n.c(),t=X()},m(e,o){n&&n.m(e,o),g(e,t,o)},p(e,[o]){e[2]?n?n.p(e,o):(n=Oe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:T,o:T,d(e){n&&n.d(e),e&&w(t)}}}function Ee(s,t,n){let e;oe(s,Y,l=>n(3,e=l));let{name:o=null}=t,{apiSummary:c=null}=t,r=null;function a(){re(Y,e.favorites[r.hash]=!e.favorites[r.hash],e)}return z(()=>{ve(),n(2,r=c.versions[c.lastVersion])}),ie(()=>{ge()}),s.$$set=l=>{"name"in l&&n(0,o=l.name),"apiSummary"in l&&n(1,c=l.apiSummary)},[o,c,r,e,a]}var Z=class extends U{constructor(t){super(),q(this,t,Ee,Be,F,{name:0,apiSummary:1})}},$e=Z;function Me(s){let t;return{c(){t=b("div"),t.innerHTML='<div class="field"><div class="control is-expanded"><input class="input" type="text" placeholder="Search"/></div></div>',_(t,"class","block")},m(n,e){g(n,t,e)},p:T,i:T,o:T,d(n){n&&w(t)}}}var x=class extends U{constructor(t){super(),q(this,t,null,Me,F,{})}},Se=x;function ye(s,t,n){let e=s.slice();return e[2]=t[n],e}function je(s,t,n){let e=s.slice();return e[5]=t[n],e}function Ce(s){let t;return{c(){t=b("div"),t.textContent="Fetching api index...",_(t,"class","box")},m(n,e){g(n,t,e)},p:T,i:T,o:T,d(n){n&&w(t)}}}function De(s){let t,n,e=Object.entries(s[0]),o=[];for(let r=0;r<e.length;r+=1)o[r]=Te(ye(s,e,r));let c=r=>j(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();t=X()},m(r,a){for(let l=0;l<o.length;l+=1)o[l].m(r,a);g(r,t,a),n=!0},p(r,a){if(a&1){e=Object.entries(r[0]);let l;for(l=0;l<e.length;l+=1){let N=ye(r,e,l);o[l]?(o[l].p(N,a),k(o[l],1)):(o[l]=Te(N),o[l].c(),k(o[l],1),o[l].m(t.parentNode,t))}for(J(),l=e.length;l<o.length;l+=1)c(l);Q()}},i(r){if(!n){for(let a=0;a<e.length;a+=1)k(o[a]);n=!0}},o(r){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)j(o[a]);n=!1},d(r){K(o,r),r&&w(t)}}}function Ne(s){let t,n;return t=new $e({props:{name:s[5][0],apiSummary:s[5][1]}}),{c(){H(t.$$.fragment)},m(e,o){P(t,e,o),n=!0},p(e,o){let c={};o&1&&(c.name=e[5][0]),o&1&&(c.apiSummary=e[5][1]),t.$set(c)},i(e){n||(k(t.$$.fragment,e),n=!0)},o(e){j(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Te(s){let t,n=s[2][0]+"",e,o,c,r,a=Object.entries(s[2][1]),l=[];for(let i=0;i<a.length;i+=1)l[i]=Ne(je(s,a,i));let N=i=>j(l[i],1,1,()=>{l[i]=null});return{c(){t=b("h4"),e=M(n),o=y();for(let i=0;i<l.length;i+=1)l[i].c();c=X(),_(t,"class","subtitle is-4")},m(i,u){g(i,t,u),p(t,e),g(i,o,u);for(let m=0;m<l.length;m+=1)l[m].m(i,u);g(i,c,u),r=!0},p(i,u){if((!r||u&1)&&n!==(n=i[2][0]+"")&&D(e,n),u&1){a=Object.entries(i[2][1]);let m;for(m=0;m<a.length;m+=1){let $=je(i,a,m);l[m]?(l[m].p($,u),k(l[m],1)):(l[m]=Ne($),l[m].c(),k(l[m],1),l[m].m(c.parentNode,c))}for(J(),m=a.length;m<l.length;m+=1)N(m);Q()}},i(i){if(!r){for(let u=0;u<a.length;u+=1)k(l[u]);r=!0}},o(i){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)j(l[u]);r=!1},d(i){i&&w(t),i&&w(o),K(l,i),i&&w(c)}}}function Ie(s){let t,n,e,o,c,r,a,l,N,i,u,m,$,A;t=new fe({props:{activePage:"browser"}}),r=new Se({}),l=new ue({props:{messages:s[1]}});let R=[De,Ce],S=[];function E(f,d){return f[0]?0:1}return i=E(s,-1),u=S[i]=R[i](s),$=new ae({}),{c(){H(t.$$.fragment),n=y(),e=b("div"),o=b("section"),o.innerHTML='<div class="hero-body"><h1 class="title">Api Browser</h1></div>',c=y(),H(r.$$.fragment),a=y(),H(l.$$.fragment),N=y(),u.c(),m=y(),H($.$$.fragment),_(o,"class","hero is-small"),_(e,"class","container")},m(f,d){P(t,f,d),g(f,n,d),g(f,e,d),p(e,o),p(e,c),P(r,e,null),p(e,a),P(l,e,null),p(e,N),S[i].m(e,null),g(f,m,d),P($,f,d),A=!0},p(f,[d]){let C={};d&2&&(C.messages=f[1]),l.$set(C);let I=i;i=E(f,d),i===I?S[i].p(f,d):(J(),j(S[I],1,1,()=>{S[I]=null}),Q(),u=S[i],u?u.p(f,d):(u=S[i]=R[i](f),u.c()),k(u,1),u.m(e,null))},i(f){A||(k(t.$$.fragment,f),k(r.$$.fragment,f),k(l.$$.fragment,f),k(u),k($.$$.fragment,f),A=!0)},o(f){j(t.$$.fragment,f),j(r.$$.fragment,f),j(l.$$.fragment,f),j(u),j($.$$.fragment,f),A=!1},d(f){V(t,f),f&&w(n),f&&w(e),V(r),V(l),S[i].d(),f&&w(m),V($,f)}}}var Le="./apis/apiIndex.json";function Fe(s,t,n){let e=null,o=[];return z(()=>ce(void 0,void 0,void 0,function*(){let c=yield fetch(Le);c.ok?n(0,e=yield c.json()):n(1,o=[...o,"Error while fetching api index: "+c.status])})),[e,o]}var ee=class extends U{constructor(t){super(),q(this,t,Fe,Ie,F,{})}},Ae=ee;new Ae({target:document.body});le();
