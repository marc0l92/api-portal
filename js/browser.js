// Project: https://github.com/marc0l92/api-tools
import{a as Oe}from"./chunk-MMDMPOBM.js";import{a as we,b as Ne}from"./chunk-JTEYS2OL.js";import{c as ge,d as ke}from"./chunk-YKTD2OFS.js";import{A as H,B as v,C as F,D as S,E as X,F as re,G as _,H as V,L as ee,N as be,Q as P,R as D,S as g,T as w,U as q,V as R,W as U,X as Y,Y as Q,Z as de,_ as ve,h as M,i as pe,l as _e,m as I,o as K,q as x,v as oe,w as d,x as he,y as k,z as O}from"./chunk-TYOSPZTC.js";M();M();M();M();var je="browserOptions",Se={favorites:{}},A=Oe(Object.assign({},Se)),$e=null,ye=()=>{A.set(Ne(je,Se)),$e=A.subscribe(r=>{we(je,r)})},Be=()=>{$e()};function Je(r){he(r,"svelte-xoabuk",".card-header-title.svelte-xoabuk{word-break:break-all}.card-header-icon.svelte-xoabuk{color:var(--color-accent)}.is-tag-size.svelte-xoabuk{height:2em;vertical-align:baseline;padding-left:0.75em;padding-right:0.75em}")}function Te(r,t,i){let e=r.slice();return e[9]=t[i][0],e[10]=t[i][1],e}function Ee(r){let t,i,e,n,s,o,u=r[2].lastVersion+"",l,a,f,c,p,h,T,W,B,L,m,N=r[3].fileName+"",z,G,Z,C,le,ie=Object.keys(r[2].versions).length>Le,ne,ue,J=Object.entries(r[2].versions).slice(0,r[4]?void 0:5),$=[];for(let b=0;b<J.length;b+=1)$[b]=Ie(Te(r,J,b));let y=ie&&Me(r);return{c(){t=v("div"),i=v("header"),e=v("a"),n=v("p"),s=F(r[1]),o=F(" - "),l=F(u),f=S(),c=v("button"),p=v("span"),h=v("i"),W=S(),B=v("div"),L=v("div"),m=v("p"),z=F(N),G=S(),Z=v("div"),C=v("div");for(let b=0;b<$.length;b+=1)$[b].c();le=S(),y&&y.c(),_(n,"class","card-header-title svelte-xoabuk"),_(e,"href",a=r[6]+"/viewer.html?api="+r[3].hash),_(h,"class",T=(r[5].favorites[r[0]]&&r[5].favorites[r[0]][r[1]]?"fas":"far")+" fa-star"),_(p,"class","icon"),_(c,"class","card-header-icon svelte-xoabuk"),_(i,"class","card-header"),_(m,"class","subtitle is-6"),_(C,"class","column"),_(Z,"class","columns is-multiline"),_(L,"class","content"),_(B,"class","card-content"),_(t,"class","card")},m(b,E){k(b,t,E),d(t,i),d(i,e),d(e,n),d(n,s),d(n,o),d(n,l),d(i,f),d(i,c),d(c,p),d(p,h),d(t,W),d(t,B),d(B,L),d(L,m),d(m,z),d(L,G),d(L,Z),d(Z,C);for(let j=0;j<$.length;j+=1)$[j].m(C,null);d(C,le),y&&y.m(C,null),ne||(ue=re(c,"click",r[7]),ne=!0)},p(b,E){if(E&2&&V(s,b[1]),E&4&&u!==(u=b[2].lastVersion+"")&&V(l,u),E&8&&a!==(a=b[6]+"/viewer.html?api="+b[3].hash)&&_(e,"href",a),E&35&&T!==(T=(b[5].favorites[b[0]]&&b[5].favorites[b[0]][b[1]]?"fas":"far")+" fa-star")&&_(h,"class",T),E&8&&N!==(N=b[3].fileName+"")&&V(z,N),E&84){J=Object.entries(b[2].versions).slice(0,b[4]?void 0:5);let j;for(j=0;j<J.length;j+=1){let me=Te(b,J,j);$[j]?$[j].p(me,E):($[j]=Ie(me),$[j].c(),$[j].m(C,le))}for(;j<$.length;j+=1)$[j].d(1);$.length=J.length}E&4&&(ie=Object.keys(b[2].versions).length>Le),ie?y?y.p(b,E):(y=Me(b),y.c(),y.m(C,null)):y&&(y.d(1),y=null)},d(b){b&&O(t),H($,b),y&&y.d(),ne=!1,ue()}}}function Ie(r){let t,i=r[9]+"",e,n;return{c(){t=v("a"),e=F(i),_(t,"class","tag ml-1 mb-1"),_(t,"href",n=r[6]+"/viewer.html?api="+r[10].hash)},m(s,o){k(s,t,o),d(t,e)},p(s,o){o&20&&i!==(i=s[9]+"")&&V(e,i),o&20&&n!==(n=s[6]+"/viewer.html?api="+s[10].hash)&&_(t,"href",n)},d(s){s&&O(t)}}}function Me(r){let t,i,e,n,s;return{c(){t=v("button"),i=v("i"),_(i,"class",e="fas fa-angle-"+(r[4]?"left":"right")),_(t,"class","button is-white is-small is-tag-size svelte-xoabuk")},m(o,u){k(o,t,u),d(t,i),n||(s=re(t,"click",r[8]),n=!0)},p(o,u){u&16&&e!==(e="fas fa-angle-"+(o[4]?"left":"right"))&&_(i,"class",e)},d(o){o&&O(t),n=!1,s()}}}function Ke(r){let t,i=r[3]&&Ee(r);return{c(){i&&i.c(),t=X()},m(e,n){i&&i.m(e,n),k(e,t,n)},p(e,[n]){e[3]?i?i.p(e,n):(i=Ee(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:I,o:I,d(e){i&&i.d(e),e&&O(t)}}}var Le=5;function Xe(r,t,i){let e;x(r,A,p=>i(5,e=p));let n=pe(),{packageName:s=null}=t,{name:o=null}=t,{apiSummary:u=null}=t,l=null,a=!1;function f(){console.log(JSON.stringify(e)),e.favorites[s]||oe(A,e.favorites[s]={},e),oe(A,e.favorites[s][o]=!e.favorites[s][o],e)}ee(()=>{i(3,l=u[0])});let c=()=>i(4,a=!a);return r.$$set=p=>{"packageName"in p&&i(0,s=p.packageName),"name"in p&&i(1,o=p.name),"apiSummary"in p&&i(2,u=p.apiSummary)},[s,o,u,l,a,e,n,f,c]}var se=class extends Q{constructor(t){super(),Y(this,t,Xe,Ke,K,{packageName:0,name:1,apiSummary:2},Je)}},ae=se;M();function Ye(r){let t;return{c(){t=v("div"),t.innerHTML='<div class="field"><div class="control is-expanded"><input class="input" type="text" placeholder="Search"/></div></div>',_(t,"class","block")},m(i,e){k(i,t,e)},p:I,i:I,o:I,d(i){i&&O(t)}}}var fe=class extends Q{constructor(t){super(),Y(this,t,null,Ye,K,{})}},Ae=fe;function Ce(r,t,i){let e=r.slice();return e[5]=t[i][0],e[6]=t[i][1],e}function Fe(r,t,i){let e=r.slice();return e[9]=t[i][0],e[10]=t[i][1],e}function Pe(r,t,i){let e=r.slice();return e[5]=t[i][0],e[6]=t[i][1],e}function De(r,t,i){let e=r.slice();return e[15]=t[i][0],e[16]=t[i][1],e}function Qe(r){let t;return{c(){t=v("div"),t.textContent="Fetching api index...",_(t,"class","box")},m(i,e){k(i,t,e)},p:I,i:I,o:I,d(i){i&&O(t)}}}function We(r){let t,i,e,n=r[3]>0&&He(r),s=Object.entries(r[1]),o=[];for(let l=0;l<s.length;l+=1)o[l]=ze(Ce(r,s,l));let u=l=>w(o[l],1,1,()=>{o[l]=null});return{c(){n&&n.c(),t=S();for(let l=0;l<o.length;l+=1)o[l].c();i=X()},m(l,a){n&&n.m(l,a),k(l,t,a);for(let f=0;f<o.length;f+=1)o[f].m(l,a);k(l,i,a),e=!0},p(l,a){if(l[3]>0?n?(n.p(l,a),a&8&&g(n,1)):(n=He(l),n.c(),g(n,1),n.m(t.parentNode,t)):n&&(P(),w(n,1,1,()=>{n=null}),D()),a&2){s=Object.entries(l[1]);let f;for(f=0;f<s.length;f+=1){let c=Ce(l,s,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=ze(c),o[f].c(),g(o[f],1),o[f].m(i.parentNode,i))}for(P(),f=s.length;f<o.length;f+=1)u(f);D()}},i(l){if(!e){g(n);for(let a=0;a<s.length;a+=1)g(o[a]);e=!0}},o(l){w(n),o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)w(o[a]);e=!1},d(l){n&&n.d(l),l&&O(t),H(o,l),l&&O(i)}}}function He(r){let t,i,e,n,s=Object.entries(r[0].favorites),o=[];for(let l=0;l<s.length;l+=1)o[l]=Re(Pe(r,s,l));let u=l=>w(o[l],1,1,()=>{o[l]=null});return{c(){t=v("h4"),t.innerHTML='<i class="fas fa-star"></i> Favorites',i=S(),e=v("div");for(let l=0;l<o.length;l+=1)o[l].c();_(t,"class","subtitle is-4"),_(e,"class","columns is-multiline")},m(l,a){k(l,t,a),k(l,i,a),k(l,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);n=!0},p(l,a){if(a&3){s=Object.entries(l[0].favorites);let f;for(f=0;f<s.length;f+=1){let c=Pe(l,s,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=Re(c),o[f].c(),g(o[f],1),o[f].m(e,null))}for(P(),f=s.length;f<o.length;f+=1)u(f);D()}},i(l){if(!n){for(let a=0;a<s.length;a+=1)g(o[a]);n=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)w(o[a]);n=!1},d(l){l&&O(t),l&&O(i),l&&O(e),H(o,l)}}}function Ve(r){let t,i,e,n;return i=new ae({props:{packageName:r[5],name:r[15],apiSummary:r[1][r[5]][r[15]]}}),{c(){t=v("div"),q(i.$$.fragment),e=S(),_(t,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(s,o){k(s,t,o),R(i,t,null),d(t,e),n=!0},p(s,o){let u={};o&1&&(u.packageName=s[5]),o&1&&(u.name=s[15]),o&3&&(u.apiSummary=s[1][s[5]][s[15]]),i.$set(u)},i(s){n||(g(i.$$.fragment,s),n=!0)},o(s){w(i.$$.fragment,s),n=!1},d(s){s&&O(t),U(i)}}}function qe(r){let t,i,e=r[16]&&Ve(r);return{c(){e&&e.c(),t=X()},m(n,s){e&&e.m(n,s),k(n,t,s),i=!0},p(n,s){n[16]?e?(e.p(n,s),s&1&&g(e,1)):(e=Ve(n),e.c(),g(e,1),e.m(t.parentNode,t)):e&&(P(),w(e,1,1,()=>{e=null}),D())},i(n){i||(g(e),i=!0)},o(n){w(e),i=!1},d(n){e&&e.d(n),n&&O(t)}}}function Re(r){let t,i,e=Object.entries(r[6]),n=[];for(let o=0;o<e.length;o+=1)n[o]=qe(De(r,e,o));let s=o=>w(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=X()},m(o,u){for(let l=0;l<n.length;l+=1)n[l].m(o,u);k(o,t,u),i=!0},p(o,u){if(u&3){e=Object.entries(o[6]);let l;for(l=0;l<e.length;l+=1){let a=De(o,e,l);n[l]?(n[l].p(a,u),g(n[l],1)):(n[l]=qe(a),n[l].c(),g(n[l],1),n[l].m(t.parentNode,t))}for(P(),l=e.length;l<n.length;l+=1)s(l);D()}},i(o){if(!i){for(let u=0;u<e.length;u+=1)g(n[u]);i=!0}},o(o){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)w(n[u]);i=!1},d(o){H(n,o),o&&O(t)}}}function Ue(r){let t,i,e;return i=new ae({props:{packageName:r[5],name:r[9],apiSummary:r[10]}}),{c(){t=v("div"),q(i.$$.fragment),_(t,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(n,s){k(n,t,s),R(i,t,null),e=!0},p(n,s){let o={};s&2&&(o.packageName=n[5]),s&2&&(o.name=n[9]),s&2&&(o.apiSummary=n[10]),i.$set(o)},i(n){e||(g(i.$$.fragment,n),e=!0)},o(n){w(i.$$.fragment,n),e=!1},d(n){n&&O(t),U(i)}}}function ze(r){let t,i=r[5]+"",e,n,s,o,u,l=Object.entries(r[6]),a=[];for(let c=0;c<l.length;c+=1)a[c]=Ue(Fe(r,l,c));let f=c=>w(a[c],1,1,()=>{a[c]=null});return{c(){t=v("h4"),e=F(i),n=S(),s=v("div");for(let c=0;c<a.length;c+=1)a[c].c();o=S(),_(t,"class","subtitle is-4"),_(s,"class","columns is-multiline")},m(c,p){k(c,t,p),d(t,e),k(c,n,p),k(c,s,p);for(let h=0;h<a.length;h+=1)a[h].m(s,null);d(s,o),u=!0},p(c,p){if((!u||p&2)&&i!==(i=c[5]+"")&&V(e,i),p&2){l=Object.entries(c[6]);let h;for(h=0;h<l.length;h+=1){let T=Fe(c,l,h);a[h]?(a[h].p(T,p),g(a[h],1)):(a[h]=Ue(T),a[h].c(),g(a[h],1),a[h].m(s,o))}for(P(),h=l.length;h<a.length;h+=1)f(h);D()}},i(c){if(!u){for(let p=0;p<l.length;p+=1)g(a[p]);u=!0}},o(c){a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)w(a[p]);u=!1},d(c){c&&O(t),c&&O(n),c&&O(s),H(a,c)}}}function Ze(r){let t,i,e,n,s,o,u,l,a,f,c,p,h,T;t=new ve({props:{activePage:"browser"}}),o=new Ae({}),l=new ke({props:{messages:r[2]}});let W=[We,Qe],B=[];function L(m,N){return m[1]?0:1}return f=L(r,-1),c=B[f]=W[f](r),h=new de({}),{c(){q(t.$$.fragment),i=S(),e=v("div"),n=v("section"),n.innerHTML='<div class="hero-body"><h1 class="title">Api Browser</h1></div>',s=S(),q(o.$$.fragment),u=S(),q(l.$$.fragment),a=S(),c.c(),p=S(),q(h.$$.fragment),_(n,"class","hero is-small"),_(e,"class","container")},m(m,N){R(t,m,N),k(m,i,N),k(m,e,N),d(e,n),d(e,s),R(o,e,null),d(e,u),R(l,e,null),d(e,a),B[f].m(e,null),k(m,p,N),R(h,m,N),T=!0},p(m,[N]){let z={};N&4&&(z.messages=m[2]),l.$set(z);let G=f;f=L(m,N),f===G?B[f].p(m,N):(P(),w(B[G],1,1,()=>{B[G]=null}),D(),c=B[f],c?c.p(m,N):(c=B[f]=W[f](m),c.c()),g(c,1),c.m(e,null))},i(m){T||(g(t.$$.fragment,m),g(o.$$.fragment,m),g(l.$$.fragment,m),g(c),g(h.$$.fragment,m),T=!0)},o(m){w(t.$$.fragment,m),w(o.$$.fragment,m),w(l.$$.fragment,m),w(c),w(h.$$.fragment,m),T=!1},d(m){U(t,m),m&&O(i),m&&O(e),U(o),U(l),B[f].d(),m&&O(p),U(h,m)}}}var xe="./apis/apiIndex.json";function et(r,t,i){let e;x(r,A,l=>i(0,e=l));let n=null,s=[],o=0;function u(){for(let l in e.favorites){for(let a in e.favorites[l])(!e.favorites[l][a]||!n[l]||!n[l][a])&&delete e.favorites[l][a];Object.keys(e.favorites[l]).length===0&&delete e.favorites[l]}A.set(e)}return ee(()=>ge(void 0,void 0,void 0,function*(){ye();let l=yield fetch(xe);l.ok?(i(1,n=yield l.json()),u()):i(2,s=[...s,"Error while fetching api index: "+l.status])})),be(()=>{Be()}),r.$$.update=()=>{if(r.$$.dirty&1){e:i(3,o=Object.values(e.favorites).filter(l=>Object.values(l).filter(a=>a).length).length)}},[e,n,s,o]}var ce=class extends Q{constructor(t){super(),Y(this,t,et,Ze,K,{})}},Ge=ce;new Ge({target:document.body});_e();
