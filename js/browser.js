// Project: https://github.com/marc0l92/api-tools
import{a as be}from"./chunk-MMDMPOBM.js";import{a as de,b as ve}from"./chunk-JTEYS2OL.js";import{c as _e,d as he}from"./chunk-YKTD2OFS.js";import{A as D,B as d,C as q,D as S,E as K,F as ee,G as _,H as X,L as ce,N as ue,Q as M,R as C,S as v,T as w,U as R,V as U,W as z,X as Y,Y as Q,Z as me,_ as pe,h as I,i as se,l as ae,m as T,o as J,q as W,v as x,w as b,x as fe,y as k,z as O}from"./chunk-TYOSPZTC.js";I();I();I();I();var ge="browserOptions",ke={favorites:{}},L=be(Object.assign({},ke)),Oe=null,we=()=>{L.set(ve(ge,ke)),Oe=L.subscribe(r=>{de(ge,r)})},je=()=>{Oe()};function Re(r){fe(r,"svelte-xoabuk",".card-header-title.svelte-xoabuk{word-break:break-all}.card-header-icon.svelte-xoabuk{color:var(--color-accent)}.is-tag-size.svelte-xoabuk{height:2em;vertical-align:baseline;padding-left:0.75em;padding-right:0.75em}")}function Ne(r,t,i){let e=r.slice();return e[10]=t[i][0],e[11]=t[i][1],e}function Se(r){let t,i,e,n,s,o,u,l,a,f,c,g,m,A,F,B,H,p,N,V=Object.keys(r[2]).length>Be,P,oe,G=Object.entries(r[2]).slice(0,r[5]?void 0:5),y=[];for(let h=0;h<G.length;h+=1)y[h]=ye(Ne(r,G,h));let $=V&&$e(r);return{c(){t=d("div"),i=d("header"),e=d("a"),n=d("p"),s=q(r[1]),o=q(" - "),u=q(r[3]),a=S(),f=d("button"),c=d("span"),g=d("i"),A=S(),F=d("div"),B=d("div"),H=d("div"),p=d("div");for(let h=0;h<y.length;h+=1)y[h].c();N=S(),$&&$.c(),_(n,"class","card-header-title svelte-xoabuk"),_(e,"href",l=r[7]+"/viewer.html?api="+r[4]),_(g,"class",m=(r[6].favorites[r[0]]&&r[6].favorites[r[0]][r[1]]?"fas":"far")+" fa-star"),_(c,"class","icon"),_(f,"class","card-header-icon svelte-xoabuk"),_(i,"class","card-header"),_(p,"class","column"),_(H,"class","columns is-multiline"),_(B,"class","content"),_(F,"class","card-content"),_(t,"class","card")},m(h,E){k(h,t,E),b(t,i),b(i,e),b(e,n),b(n,s),b(n,o),b(n,u),b(i,a),b(i,f),b(f,c),b(c,g),b(t,A),b(t,F),b(F,B),b(B,H),b(H,p);for(let j=0;j<y.length;j+=1)y[j].m(p,null);b(p,N),$&&$.m(p,null),P||(oe=ee(f,"click",r[8]),P=!0)},p(h,E){if(E&2&&X(s,h[1]),E&8&&X(u,h[3]),E&16&&l!==(l=h[7]+"/viewer.html?api="+h[4])&&_(e,"href",l),E&67&&m!==(m=(h[6].favorites[h[0]]&&h[6].favorites[h[0]][h[1]]?"fas":"far")+" fa-star")&&_(g,"class",m),E&164){G=Object.entries(h[2]).slice(0,h[5]?void 0:5);let j;for(j=0;j<G.length;j+=1){let re=Ne(h,G,j);y[j]?y[j].p(re,E):(y[j]=ye(re),y[j].c(),y[j].m(p,N))}for(;j<y.length;j+=1)y[j].d(1);y.length=G.length}E&4&&(V=Object.keys(h[2]).length>Be),V?$?$.p(h,E):($=$e(h),$.c(),$.m(p,null)):$&&($.d(1),$=null)},d(h){h&&O(t),D(y,h),$&&$.d(),P=!1,oe()}}}function ye(r){let t,i=r[10]+"",e,n;return{c(){t=d("a"),e=q(i),_(t,"class","tag ml-1 mb-1"),_(t,"href",n=r[7]+"/viewer.html?api="+Object.values(r[11])[0].hash)},m(s,o){k(s,t,o),b(t,e)},p(s,o){o&36&&i!==(i=s[10]+"")&&X(e,i),o&36&&n!==(n=s[7]+"/viewer.html?api="+Object.values(s[11])[0].hash)&&_(t,"href",n)},d(s){s&&O(t)}}}function $e(r){let t,i,e,n,s;return{c(){t=d("button"),i=d("i"),_(i,"class",e="fas fa-angle-"+(r[5]?"left":"right")),_(t,"class","button is-white is-small is-tag-size svelte-xoabuk")},m(o,u){k(o,t,u),b(t,i),n||(s=ee(t,"click",r[9]),n=!0)},p(o,u){u&32&&e!==(e="fas fa-angle-"+(o[5]?"left":"right"))&&_(i,"class",e)},d(o){o&&O(t),n=!1,s()}}}function Ue(r){let t,i=r[2]&&Se(r);return{c(){i&&i.c(),t=K()},m(e,n){i&&i.m(e,n),k(e,t,n)},p(e,[n]){e[2]?i?i.p(e,n):(i=Se(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:T,o:T,d(e){i&&i.d(e),e&&O(t)}}}var Be=5;function ze(r,t,i){let e;W(r,L,m=>i(6,e=m));let n=se(),{packageName:s=null}=t,{name:o=null}=t,{apiSummary:u=null}=t,l="",a="",f=!1;function c(){console.log(JSON.stringify(e)),e.favorites[s]||x(L,e.favorites[s]={},e),x(L,e.favorites[s][o]=!e.favorites[s][o],e)}let g=()=>i(5,f=!f);return r.$$set=m=>{"packageName"in m&&i(0,s=m.packageName),"name"in m&&i(1,o=m.name),"apiSummary"in m&&i(2,u=m.apiSummary)},r.$$.update=()=>{if(r.$$.dirty&12){e:u&&(i(3,l=Object.keys(u)[0]),i(4,a=Object.values(u[l])[0].hash))}},[s,o,u,l,a,f,e,n,c,g]}var te=class extends Q{constructor(t){super(),Y(this,t,ze,Ue,J,{packageName:0,name:1,apiSummary:2},Re)}},le=te;I();function Ve(r){let t;return{c(){t=d("div"),t.innerHTML='<div class="field"><div class="control is-expanded"><input class="input" type="text" placeholder="Search"/></div></div>',_(t,"class","block")},m(i,e){k(i,t,e)},p:T,i:T,o:T,d(i){i&&O(t)}}}var ie=class extends Q{constructor(t){super(),Y(this,t,null,Ve,J,{})}},Te=ie;function Ae(r,t,i){let e=r.slice();return e[5]=t[i][0],e[6]=t[i][1],e}function Ee(r,t,i){let e=r.slice();return e[9]=t[i][0],e[10]=t[i][1],e}function Ie(r,t,i){let e=r.slice();return e[5]=t[i][0],e[6]=t[i][1],e}function Le(r,t,i){let e=r.slice();return e[15]=t[i][0],e[16]=t[i][1],e}function Ge(r){let t;return{c(){t=d("div"),t.textContent="Fetching api index...",_(t,"class","box")},m(i,e){k(i,t,e)},p:T,i:T,o:T,d(i){i&&O(t)}}}function Je(r){let t,i,e,n=r[3]>0&&Me(r),s=Object.entries(r[1]),o=[];for(let l=0;l<s.length;l+=1)o[l]=De(Ae(r,s,l));let u=l=>w(o[l],1,1,()=>{o[l]=null});return{c(){n&&n.c(),t=S();for(let l=0;l<o.length;l+=1)o[l].c();i=K()},m(l,a){n&&n.m(l,a),k(l,t,a);for(let f=0;f<o.length;f+=1)o[f].m(l,a);k(l,i,a),e=!0},p(l,a){if(l[3]>0?n?(n.p(l,a),a&8&&v(n,1)):(n=Me(l),n.c(),v(n,1),n.m(t.parentNode,t)):n&&(M(),w(n,1,1,()=>{n=null}),C()),a&2){s=Object.entries(l[1]);let f;for(f=0;f<s.length;f+=1){let c=Ae(l,s,f);o[f]?(o[f].p(c,a),v(o[f],1)):(o[f]=De(c),o[f].c(),v(o[f],1),o[f].m(i.parentNode,i))}for(M(),f=s.length;f<o.length;f+=1)u(f);C()}},i(l){if(!e){v(n);for(let a=0;a<s.length;a+=1)v(o[a]);e=!0}},o(l){w(n),o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)w(o[a]);e=!1},d(l){n&&n.d(l),l&&O(t),D(o,l),l&&O(i)}}}function Me(r){let t,i,e,n,s=Object.entries(r[0].favorites),o=[];for(let l=0;l<s.length;l+=1)o[l]=He(Ie(r,s,l));let u=l=>w(o[l],1,1,()=>{o[l]=null});return{c(){t=d("h4"),t.innerHTML='<i class="fas fa-star"></i> Favorites',i=S(),e=d("div");for(let l=0;l<o.length;l+=1)o[l].c();_(t,"class","subtitle is-4"),_(e,"class","columns is-multiline")},m(l,a){k(l,t,a),k(l,i,a),k(l,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);n=!0},p(l,a){if(a&3){s=Object.entries(l[0].favorites);let f;for(f=0;f<s.length;f+=1){let c=Ie(l,s,f);o[f]?(o[f].p(c,a),v(o[f],1)):(o[f]=He(c),o[f].c(),v(o[f],1),o[f].m(e,null))}for(M(),f=s.length;f<o.length;f+=1)u(f);C()}},i(l){if(!n){for(let a=0;a<s.length;a+=1)v(o[a]);n=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)w(o[a]);n=!1},d(l){l&&O(t),l&&O(i),l&&O(e),D(o,l)}}}function Ce(r){let t,i,e,n;return i=new le({props:{packageName:r[5],name:r[15],apiSummary:r[1][r[5]][r[15]]}}),{c(){t=d("div"),R(i.$$.fragment),e=S(),_(t,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(s,o){k(s,t,o),U(i,t,null),b(t,e),n=!0},p(s,o){let u={};o&1&&(u.packageName=s[5]),o&1&&(u.name=s[15]),o&3&&(u.apiSummary=s[1][s[5]][s[15]]),i.$set(u)},i(s){n||(v(i.$$.fragment,s),n=!0)},o(s){w(i.$$.fragment,s),n=!1},d(s){s&&O(t),z(i)}}}function Fe(r){let t,i,e=r[16]&&Ce(r);return{c(){e&&e.c(),t=K()},m(n,s){e&&e.m(n,s),k(n,t,s),i=!0},p(n,s){n[16]?e?(e.p(n,s),s&1&&v(e,1)):(e=Ce(n),e.c(),v(e,1),e.m(t.parentNode,t)):e&&(M(),w(e,1,1,()=>{e=null}),C())},i(n){i||(v(e),i=!0)},o(n){w(e),i=!1},d(n){e&&e.d(n),n&&O(t)}}}function He(r){let t,i,e=Object.entries(r[6]),n=[];for(let o=0;o<e.length;o+=1)n[o]=Fe(Le(r,e,o));let s=o=>w(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=K()},m(o,u){for(let l=0;l<n.length;l+=1)n[l].m(o,u);k(o,t,u),i=!0},p(o,u){if(u&3){e=Object.entries(o[6]);let l;for(l=0;l<e.length;l+=1){let a=Le(o,e,l);n[l]?(n[l].p(a,u),v(n[l],1)):(n[l]=Fe(a),n[l].c(),v(n[l],1),n[l].m(t.parentNode,t))}for(M(),l=e.length;l<n.length;l+=1)s(l);C()}},i(o){if(!i){for(let u=0;u<e.length;u+=1)v(n[u]);i=!0}},o(o){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)w(n[u]);i=!1},d(o){D(n,o),o&&O(t)}}}function Pe(r){let t,i,e;return i=new le({props:{packageName:r[5],name:r[9],apiSummary:r[10]}}),{c(){t=d("div"),R(i.$$.fragment),_(t,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(n,s){k(n,t,s),U(i,t,null),e=!0},p(n,s){let o={};s&2&&(o.packageName=n[5]),s&2&&(o.name=n[9]),s&2&&(o.apiSummary=n[10]),i.$set(o)},i(n){e||(v(i.$$.fragment,n),e=!0)},o(n){w(i.$$.fragment,n),e=!1},d(n){n&&O(t),z(i)}}}function De(r){let t,i=r[5]+"",e,n,s,o,u,l=Object.entries(r[6]),a=[];for(let c=0;c<l.length;c+=1)a[c]=Pe(Ee(r,l,c));let f=c=>w(a[c],1,1,()=>{a[c]=null});return{c(){t=d("h4"),e=q(i),n=S(),s=d("div");for(let c=0;c<a.length;c+=1)a[c].c();o=S(),_(t,"class","subtitle is-4"),_(s,"class","columns is-multiline")},m(c,g){k(c,t,g),b(t,e),k(c,n,g),k(c,s,g);for(let m=0;m<a.length;m+=1)a[m].m(s,null);b(s,o),u=!0},p(c,g){if((!u||g&2)&&i!==(i=c[5]+"")&&X(e,i),g&2){l=Object.entries(c[6]);let m;for(m=0;m<l.length;m+=1){let A=Ee(c,l,m);a[m]?(a[m].p(A,g),v(a[m],1)):(a[m]=Pe(A),a[m].c(),v(a[m],1),a[m].m(s,o))}for(M(),m=l.length;m<a.length;m+=1)f(m);C()}},i(c){if(!u){for(let g=0;g<l.length;g+=1)v(a[g]);u=!0}},o(c){a=a.filter(Boolean);for(let g=0;g<a.length;g+=1)w(a[g]);u=!1},d(c){c&&O(t),c&&O(n),c&&O(s),D(a,c)}}}function Ke(r){let t,i,e,n,s,o,u,l,a,f,c,g,m,A;t=new pe({props:{activePage:"browser"}}),o=new Te({}),l=new he({props:{messages:r[2]}});let F=[Je,Ge],B=[];function H(p,N){return p[1]?0:1}return f=H(r,-1),c=B[f]=F[f](r),m=new me({}),{c(){R(t.$$.fragment),i=S(),e=d("div"),n=d("section"),n.innerHTML='<div class="hero-body"><h1 class="title">Api Browser</h1></div>',s=S(),R(o.$$.fragment),u=S(),R(l.$$.fragment),a=S(),c.c(),g=S(),R(m.$$.fragment),_(n,"class","hero is-small"),_(e,"class","container")},m(p,N){U(t,p,N),k(p,i,N),k(p,e,N),b(e,n),b(e,s),U(o,e,null),b(e,u),U(l,e,null),b(e,a),B[f].m(e,null),k(p,g,N),U(m,p,N),A=!0},p(p,[N]){let V={};N&4&&(V.messages=p[2]),l.$set(V);let P=f;f=H(p,N),f===P?B[f].p(p,N):(M(),w(B[P],1,1,()=>{B[P]=null}),C(),c=B[f],c?c.p(p,N):(c=B[f]=F[f](p),c.c()),v(c,1),c.m(e,null))},i(p){A||(v(t.$$.fragment,p),v(o.$$.fragment,p),v(l.$$.fragment,p),v(c),v(m.$$.fragment,p),A=!0)},o(p){w(t.$$.fragment,p),w(o.$$.fragment,p),w(l.$$.fragment,p),w(c),w(m.$$.fragment,p),A=!1},d(p){z(t,p),p&&O(i),p&&O(e),z(o),z(l),B[f].d(),p&&O(g),z(m,p)}}}var Xe="./apis/apiIndex.json";function Ye(r,t,i){let e;W(r,L,l=>i(0,e=l));let n=null,s=[],o=0;function u(){for(let l in e.favorites){for(let a in e.favorites[l])(!e.favorites[l][a]||!n[l]||!n[l][a])&&delete e.favorites[l][a];Object.keys(e.favorites[l]).length===0&&delete e.favorites[l]}L.set(e)}return ce(()=>_e(void 0,void 0,void 0,function*(){we();let l=yield fetch(Xe);l.ok?(i(1,n=yield l.json()),u()):i(2,s=[...s,"Error while fetching api index: "+l.status])})),ue(()=>{je()}),r.$$.update=()=>{if(r.$$.dirty&1){e:i(3,o=Object.values(e.favorites).filter(l=>Object.values(l).filter(a=>a).length).length)}},[e,n,s,o]}var ne=class extends Q{constructor(t){super(),Y(this,t,Ye,Ke,J,{})}},qe=ne;new qe({target:document.body});ae();
