// Project: https://github.com/marc0l92/api-tools
import{a as ye}from"./chunk-JCUAHSXL.js";import{$ as de,A as O,B as R,C as h,D as Y,E as S,F as G,G as J,I as p,J as Q,K as te,N as pe,P as _e,Q as he,S as D,T as P,U as g,V as w,W as H,X as z,Y as q,Z as K,_ as W,ca as ve,da as be,ea as ge,fa as ke,h as I,i as ae,k as fe,ka as Oe,la as we,m as ce,n as B,o as ue,p as V,r as X,w as ee,x as d,y as me,z as k}from"./chunk-QOPUWAMH.js";I();I();I();I();var Ne="browserOptions",je={favorites:{}},F=ke(Object.assign({},je)),x=null,Se=()=>{x||(F.set(ge(Ne,je)),x=F.subscribe(o=>{be(Ne,o)}))},$e=()=>{x&&x()};function Je(o){me(o,"svelte-vtk06y",".card-header-body.svelte-vtk06y{flex-grow:1}.card-header-title.svelte-vtk06y{word-break:break-all}.card-header-icon.svelte-vtk06y{color:var(--color-accent)}.is-tag-size.svelte-vtk06y{height:2em;vertical-align:baseline;padding-left:0.75em;padding-right:0.75em}.tag.status-1.svelte-vtk06y{background-color:#ffe08a;color:white}.tag.status-2.svelte-vtk06y{background-color:#f14668;color:white}")}function Te(o,n,t){let e=o.slice();return e[9]=n[t][0],e[10]=n[t][1],e}function Ae(o){let n,t,e,l,s,i,u,r,a,c,f,m,v,$,C,E,A,U=Object.keys(o[2]).length>Ce,_,j,L=Object.entries(o[2]).slice(0,o[4]?void 0:5),y=[];for(let b=0;b<L.length;b+=1)y[b]=Ie(Te(o,L,b));let T=U&&Ee(o);return{c(){n=h("div"),t=h("header"),e=h("a"),l=h("p"),s=Y(o[1]),u=S(),r=h("button"),a=h("span"),c=h("i"),m=S(),v=h("div"),$=h("div"),C=h("div"),E=h("div");for(let b=0;b<y.length;b+=1)y[b].c();A=S(),T&&T.c(),p(l,"class","card-header-title svelte-vtk06y"),p(e,"class","card-header-body svelte-vtk06y"),p(e,"href",i=o[6]+"/viewer.html?api="+o[3]),p(c,"class",f=(o[5].favorites[o[0]]&&o[5].favorites[o[0]][o[1]]?"fas":"far")+" fa-star"),p(a,"class","icon"),p(r,"class","card-header-icon svelte-vtk06y"),p(t,"class","card-header"),p(E,"class","column"),p(C,"class","columns is-multiline"),p($,"class","content"),p(v,"class","card-content"),p(n,"class","card")},m(b,M){k(b,n,M),d(n,t),d(t,e),d(e,l),d(l,s),d(t,u),d(t,r),d(r,a),d(a,c),d(n,m),d(n,v),d(v,$),d($,C),d(C,E);for(let N=0;N<y.length;N+=1)y[N].m(E,null);d(E,A),T&&T.m(E,null),_||(j=J(r,"click",o[7]),_=!0)},p(b,M){if(M&2&&Q(s,b[1]),M&8&&i!==(i=b[6]+"/viewer.html?api="+b[3])&&p(e,"href",i),M&35&&f!==(f=(b[5].favorites[b[0]]&&b[5].favorites[b[0]][b[1]]?"fas":"far")+" fa-star")&&p(c,"class",f),M&84){L=Object.entries(b[2]).slice(0,b[4]?void 0:5);let N;for(N=0;N<L.length;N+=1){let se=Te(b,L,N);y[N]?y[N].p(se,M):(y[N]=Ie(se),y[N].c(),y[N].m(E,A))}for(;N<y.length;N+=1)y[N].d(1);y.length=L.length}M&4&&(U=Object.keys(b[2]).length>Ce),U?T?T.p(b,M):(T=Ee(b),T.c(),T.m(E,null)):T&&(T.d(1),T=null)},d(b){b&&O(n),R(y,b),T&&T.d(),_=!1,j()}}}function Ie(o){let n,t=o[9]+"",e,l,s;return{c(){n=h("a"),e=Y(t),p(n,"class",l="tag ml-1 mb-1 "+Be(o[10])+" svelte-vtk06y"),p(n,"href",s=o[6]+"/viewer.html?api="+Object.values(o[10])[0].hash)},m(i,u){k(i,n,u),d(n,e)},p(i,u){u&20&&t!==(t=i[9]+"")&&Q(e,t),u&20&&l!==(l="tag ml-1 mb-1 "+Be(i[10])+" svelte-vtk06y")&&p(n,"class",l),u&20&&s!==(s=i[6]+"/viewer.html?api="+Object.values(i[10])[0].hash)&&p(n,"href",s)},d(i){i&&O(n)}}}function Ee(o){let n,t,e,l,s;return{c(){n=h("button"),t=h("i"),p(t,"class",e="fas fa-angle-"+(o[4]?"left":"right")),p(n,"class","button is-white is-small is-tag-size svelte-vtk06y")},m(i,u){k(i,n,u),d(n,t),l||(s=J(n,"click",o[8]),l=!0)},p(i,u){u&16&&e!==(e="fas fa-angle-"+(i[4]?"left":"right"))&&p(t,"class",e)},d(i){i&&O(n),l=!1,s()}}}function Ke(o){let n,t=o[2]&&Ae(o);return{c(){t&&t.c(),n=G()},m(e,l){t&&t.m(e,l),k(e,n,l)},p(e,[l]){e[2]?t?t.p(e,l):(t=Ae(e),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:B,o:B,d(e){t&&t.d(e),e&&O(n)}}}var Ce=5;function Be(o){return`status-${Object.values(o).map(t=>t.status).reduce((t,e)=>Math.max(t,e))}`}function We(o,n,t){let e;X(o,F,m=>t(5,e=m));let l=fe(),{packageName:s=null}=n,{name:i=null}=n,{apiSummary:u=null}=n,r="",a=!1;function c(){console.log(JSON.stringify(e)),e.favorites[s]||ee(F,e.favorites[s]={},e),ee(F,e.favorites[s][i]=!e.favorites[s][i],e)}let f=()=>t(4,a=!a);return o.$$set=m=>{"packageName"in m&&t(0,s=m.packageName),"name"in m&&t(1,i=m.name),"apiSummary"in m&&t(2,u=m.apiSummary)},o.$$.update=()=>{if(o.$$.dirty&4){e:if(u){let m=Object.keys(u)[0];t(3,r=Object.values(u[m])[0].hash)}}},[s,i,u,r,a,e,l,c,f]}var le=class extends W{constructor(n){super(),K(this,n,We,Ke,V,{packageName:0,name:1,apiSummary:2},Je)}},ne=le;I();function Xe(o){let n,t,e,l,s,i;return{c(){n=h("div"),t=h("div"),e=h("div"),l=h("input"),p(l,"class","input"),p(l,"type","text"),p(l,"placeholder","Search"),p(e,"class","control is-expanded"),p(t,"class","field"),p(n,"class","block")},m(u,r){k(u,n,r),d(n,t),d(t,e),d(e,l),te(l,o[0]),s||(i=[J(l,"input",o[2]),J(l,"input",o[1])],s=!0)},p(u,[r]){r&1&&l.value!==u[0]&&te(l,u[0])},i:B,o:B,d(u){u&&O(n),s=!1,ue(i)}}}function Ye(o,n,t){let e="",l=he();function s(){l("searchTextChange",{searchText:e})}function i(){e=this.value,t(0,e)}return[e,s,i]}var ie=class extends W{constructor(n){super(),K(this,n,Ye,Xe,V,{})}},Le=ie;I();function Qe(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ze(o,n){let t="";for(let e of o)t+=`.*${Qe(e)}.*`;return n.match(new RegExp(t,"i"))}function re(o,n){let t={};for(let e in o)for(let l in o[e])Ze(n,e+l)&&(e in t||(t[e]={}),t[e][l]=o[e][l]);return t}function Me(o,n,t){let e=o.slice();return e[8]=n[t][0],e[9]=n[t][1],e}function Fe(o,n,t){let e=o.slice();return e[12]=n[t][0],e[13]=n[t][1],e}function De(o,n,t){let e=o.slice();return e[8]=n[t][0],e[9]=n[t][1],e}function Pe(o,n,t){let e=o.slice();return e[18]=n[t][0],e[19]=n[t][1],e}function xe(o){let n;return{c(){n=h("div"),n.textContent="Fetching api index...",p(n,"class","box")},m(t,e){k(t,n,e)},p:B,i:B,o:B,d(t){t&&O(n)}}}function et(o){let n,t,e,l=o[3]>0&&!o[4]&&Re(o),s=Object.entries(re(o[1],o[4])),i=[];for(let r=0;r<s.length;r+=1)i[r]=Ve(Me(o,s,r));let u=r=>w(i[r],1,1,()=>{i[r]=null});return{c(){l&&l.c(),n=S();for(let r=0;r<i.length;r+=1)i[r].c();t=G()},m(r,a){l&&l.m(r,a),k(r,n,a);for(let c=0;c<i.length;c+=1)i[c].m(r,a);k(r,t,a),e=!0},p(r,a){if(r[3]>0&&!r[4]?l?(l.p(r,a),a&24&&g(l,1)):(l=Re(r),l.c(),g(l,1),l.m(n.parentNode,n)):l&&(D(),w(l,1,1,()=>{l=null}),P()),a&18){s=Object.entries(re(r[1],r[4]));let c;for(c=0;c<s.length;c+=1){let f=Me(r,s,c);i[c]?(i[c].p(f,a),g(i[c],1)):(i[c]=Ve(f),i[c].c(),g(i[c],1),i[c].m(t.parentNode,t))}for(D(),c=s.length;c<i.length;c+=1)u(c);P()}},i(r){if(!e){g(l);for(let a=0;a<s.length;a+=1)g(i[a]);e=!0}},o(r){w(l),i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)w(i[a]);e=!1},d(r){l&&l.d(r),r&&O(n),R(i,r),r&&O(t)}}}function Re(o){let n,t,e,l,s=Object.entries(o[0].favorites),i=[];for(let r=0;r<s.length;r+=1)i[r]=qe(De(o,s,r));let u=r=>w(i[r],1,1,()=>{i[r]=null});return{c(){n=h("h4"),n.innerHTML='<i class="fas fa-star"></i> Favorites',t=S(),e=h("div");for(let r=0;r<i.length;r+=1)i[r].c();p(n,"class","subtitle is-4"),p(e,"class","columns is-multiline")},m(r,a){k(r,n,a),k(r,t,a),k(r,e,a);for(let c=0;c<i.length;c+=1)i[c].m(e,null);l=!0},p(r,a){if(a&3){s=Object.entries(r[0].favorites);let c;for(c=0;c<s.length;c+=1){let f=De(r,s,c);i[c]?(i[c].p(f,a),g(i[c],1)):(i[c]=qe(f),i[c].c(),g(i[c],1),i[c].m(e,null))}for(D(),c=s.length;c<i.length;c+=1)u(c);P()}},i(r){if(!l){for(let a=0;a<s.length;a+=1)g(i[a]);l=!0}},o(r){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)w(i[a]);l=!1},d(r){r&&O(n),r&&O(t),r&&O(e),R(i,r)}}}function He(o){let n,t,e,l;return t=new ne({props:{packageName:o[8],name:o[18],apiSummary:o[1][o[8]][o[18]]}}),{c(){n=h("div"),H(t.$$.fragment),e=S(),p(n,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(s,i){k(s,n,i),z(t,n,null),d(n,e),l=!0},p(s,i){let u={};i&1&&(u.packageName=s[8]),i&1&&(u.name=s[18]),i&3&&(u.apiSummary=s[1][s[8]][s[18]]),t.$set(u)},i(s){l||(g(t.$$.fragment,s),l=!0)},o(s){w(t.$$.fragment,s),l=!1},d(s){s&&O(n),q(t)}}}function ze(o){let n,t,e=o[19]&&He(o);return{c(){e&&e.c(),n=G()},m(l,s){e&&e.m(l,s),k(l,n,s),t=!0},p(l,s){l[19]?e?(e.p(l,s),s&1&&g(e,1)):(e=He(l),e.c(),g(e,1),e.m(n.parentNode,n)):e&&(D(),w(e,1,1,()=>{e=null}),P())},i(l){t||(g(e),t=!0)},o(l){w(e),t=!1},d(l){e&&e.d(l),l&&O(n)}}}function qe(o){let n,t,e=Object.entries(o[9]),l=[];for(let i=0;i<e.length;i+=1)l[i]=ze(Pe(o,e,i));let s=i=>w(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();n=G()},m(i,u){for(let r=0;r<l.length;r+=1)l[r].m(i,u);k(i,n,u),t=!0},p(i,u){if(u&3){e=Object.entries(i[9]);let r;for(r=0;r<e.length;r+=1){let a=Pe(i,e,r);l[r]?(l[r].p(a,u),g(l[r],1)):(l[r]=ze(a),l[r].c(),g(l[r],1),l[r].m(n.parentNode,n))}for(D(),r=e.length;r<l.length;r+=1)s(r);P()}},i(i){if(!t){for(let u=0;u<e.length;u+=1)g(l[u]);t=!0}},o(i){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)w(l[u]);t=!1},d(i){R(l,i),i&&O(n)}}}function Ue(o){let n,t,e;return t=new ne({props:{packageName:o[8],name:o[12],apiSummary:o[13]}}),{c(){n=h("div"),H(t.$$.fragment),p(n,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(l,s){k(l,n,s),z(t,n,null),e=!0},p(l,s){let i={};s&18&&(i.packageName=l[8]),s&18&&(i.name=l[12]),s&18&&(i.apiSummary=l[13]),t.$set(i)},i(l){e||(g(t.$$.fragment,l),e=!0)},o(l){w(t.$$.fragment,l),e=!1},d(l){l&&O(n),q(t)}}}function Ve(o){let n,t=o[8]+"",e,l,s,i,u,r=Object.entries(o[9]),a=[];for(let f=0;f<r.length;f+=1)a[f]=Ue(Fe(o,r,f));let c=f=>w(a[f],1,1,()=>{a[f]=null});return{c(){n=h("h4"),e=Y(t),l=S(),s=h("div");for(let f=0;f<a.length;f+=1)a[f].c();i=S(),p(n,"class","subtitle is-4"),p(s,"class","columns is-multiline")},m(f,m){k(f,n,m),d(n,e),k(f,l,m),k(f,s,m);for(let v=0;v<a.length;v+=1)a[v].m(s,null);d(s,i),u=!0},p(f,m){if((!u||m&18)&&t!==(t=f[8]+"")&&Q(e,t),m&18){r=Object.entries(f[9]);let v;for(v=0;v<r.length;v+=1){let $=Fe(f,r,v);a[v]?(a[v].p($,m),g(a[v],1)):(a[v]=Ue($),a[v].c(),g(a[v],1),a[v].m(s,i))}for(D(),v=r.length;v<a.length;v+=1)c(v);P()}},i(f){if(!u){for(let m=0;m<r.length;m+=1)g(a[m]);u=!0}},o(f){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)w(a[m]);u=!1},d(f){f&&O(n),f&&O(l),f&&O(s),R(a,f)}}}function tt(o){let n,t,e,l,s,i,u,r,a,c,f,m,v,$,C;n=new we({props:{activePage:"browser"}}),i=new Le({}),i.$on("searchTextChange",o[6]),r=new ye({props:{messages:o[2]}});let E=[et,xe],A=[];function U(_,j){return _[1]?0:1}return c=U(o,-1),f=A[c]=E[c](o),$=new de({}),{c(){H(n.$$.fragment),t=S(),e=h("div"),l=h("section"),l.innerHTML='<div class="hero-body"><h1 class="title">Api Browser</h1></div>',s=S(),H(i.$$.fragment),u=S(),H(r.$$.fragment),a=S(),f.c(),v=S(),H($.$$.fragment),p(l,"class","hero is-small"),p(e,"class",m="container "+(o[5].fluidLayout?"is-fluid":""))},m(_,j){z(n,_,j),k(_,t,j),k(_,e,j),d(e,l),d(e,s),z(i,e,null),d(e,u),z(r,e,null),d(e,a),A[c].m(e,null),k(_,v,j),z($,_,j),C=!0},p(_,[j]){let L={};j&4&&(L.messages=_[2]),r.$set(L);let y=c;c=U(_,j),c===y?A[c].p(_,j):(D(),w(A[y],1,1,()=>{A[y]=null}),P(),f=A[c],f?f.p(_,j):(f=A[c]=E[c](_),f.c()),g(f,1),f.m(e,null)),(!C||j&32&&m!==(m="container "+(_[5].fluidLayout?"is-fluid":"")))&&p(e,"class",m)},i(_){C||(g(n.$$.fragment,_),g(i.$$.fragment,_),g(r.$$.fragment,_),g(f),g($.$$.fragment,_),C=!0)},o(_){w(n.$$.fragment,_),w(i.$$.fragment,_),w(r.$$.fragment,_),w(f),w($.$$.fragment,_),C=!1},d(_){q(n,_),_&&O(t),_&&O(e),q(i),q(r),A[c].d(),_&&O(v),q($,_)}}}function lt(o,n,t){let e,l;X(o,F,f=>t(0,e=f)),X(o,Oe,f=>t(5,l=f));let s=null,i=[],u=0,r="";function a(){for(let f in e.favorites){for(let m in e.favorites[f])(!e.favorites[f][m]||!s[f]||!s[f][m])&&delete e.favorites[f][m];Object.keys(e.favorites[f]).length===0&&delete e.favorites[f]}F.set(e)}function c(f){t(4,r=f.detail.searchText)}return pe(()=>ve(void 0,void 0,void 0,function*(){Se();let f=yield fetch(ae);f.ok?(t(1,s=yield f.json()),a()):t(2,i=[...i,"Error while fetching api index: "+f.status])})),_e(()=>{$e()}),o.$$.update=()=>{if(o.$$.dirty&1){e:t(3,u=Object.values(e.favorites).filter(f=>Object.values(f).filter(m=>m).length).length)}},[e,s,i,u,r,l,c]}var oe=class extends W{constructor(n){super(),K(this,n,lt,tt,V,{})}},Ge=oe;new Ge({target:document.body});ce();
