// Project: https://github.com/marc0l92/api-tools
import{a as de}from"./chunk-I6C4IQ46.js";import{a as ve,b as ge}from"./chunk-KMHCSZEL.js";import{c as he,d as be}from"./chunk-7QXYCUMR.js";import{D as W,F as me,I as C,J as D,K as v,L as w,M as R,N as U,O as z,P as X,Q as Y,R as pe,S as _e,h as ce,i as I,k as G,m as Q,n as le,o as h,p as ue,q as k,r as O,s as P,t as d,u as A,v as j,w as J,x as ie,y as p,z as q}from"./chunk-MM53VHYS.js";var ke="browserOptions",Oe={favorites:{}},F=de(Object.assign({},Oe)),we=null,Ne=()=>{F.set(ge(ke,Oe)),we=F.subscribe(s=>{ve(ke,s)})},je=()=>{we()};function Re(s){ue(s,"svelte-xoabuk",".card-header-title.svelte-xoabuk{word-break:break-all}.card-header-icon.svelte-xoabuk{color:var(--color-accent)}.is-tag-size.svelte-xoabuk{height:2em;vertical-align:baseline;padding-left:0.75em;padding-right:0.75em}")}function Se(s,t,n){let e=s.slice();return e[8]=t[n],e}function $e(s){let t,n,e,i,r,l=s[2].lastVersion+"",u,o,a,f,c,g,_,T,L,B,H=s[3].fileName+"",m,S,V,E,x,ee=Object.entries(s[2].versions).length>Te,te,ae,K=Object.entries(s[2].versions).slice(0,s[4]?void 0:5),$=[];for(let b=0;b<K.length;b+=1)$[b]=ye(Se(s,K,b));let y=ee&&Be(s);return{c(){t=d("div"),n=d("header"),e=d("p"),i=A(s[1]),r=A(" - "),u=A(l),o=j(),a=d("button"),f=d("span"),c=d("i"),_=j(),T=d("div"),L=d("div"),B=d("p"),m=A(H),S=j(),V=d("div"),E=d("div");for(let b=0;b<$.length;b+=1)$[b].c();x=j(),y&&y.c(),p(e,"class","card-header-title svelte-xoabuk"),p(c,"class",g=(s[5].favorites[s[0]]&&s[5].favorites[s[0]][s[1]]?"fas":"far")+" fa-star"),p(f,"class","icon"),p(a,"class","card-header-icon svelte-xoabuk"),p(n,"class","card-header"),p(B,"class","subtitle is-6"),p(E,"class","column"),p(V,"class","columns is-multiline"),p(L,"class","content"),p(T,"class","card-content"),p(t,"class","card")},m(b,M){k(b,t,M),h(t,n),h(n,e),h(e,i),h(e,r),h(e,u),h(n,o),h(n,a),h(a,f),h(f,c),h(t,_),h(t,T),h(T,L),h(L,B),h(B,m),h(L,S),h(L,V),h(V,E);for(let N=0;N<$.length;N+=1)$[N].m(E,null);h(E,x),y&&y.m(E,null),te||(ae=ie(a,"click",s[6]),te=!0)},p(b,M){if(M&2&&q(i,b[1]),M&4&&l!==(l=b[2].lastVersion+"")&&q(u,l),M&35&&g!==(g=(b[5].favorites[b[0]]&&b[5].favorites[b[0]][b[1]]?"fas":"far")+" fa-star")&&p(c,"class",g),M&8&&H!==(H=b[3].fileName+"")&&q(m,H),M&20){K=Object.entries(b[2].versions).slice(0,b[4]?void 0:5);let N;for(N=0;N<K.length;N+=1){let fe=Se(b,K,N);$[N]?$[N].p(fe,M):($[N]=ye(fe),$[N].c(),$[N].m(E,x))}for(;N<$.length;N+=1)$[N].d(1);$.length=K.length}M&4&&(ee=Object.entries(b[2].versions).length>Te),ee?y?y.p(b,M):(y=Be(b),y.c(),y.m(E,null)):y&&(y.d(1),y=null)},d(b){b&&O(t),P($,b),y&&y.d(),te=!1,ae()}}}function ye(s){let t,n=s[8][0]+"",e,i;return{c(){t=d("a"),e=A(n),p(t,"class","tag ml-1 mb-1"),p(t,"href",i="./viewer.html?api="+s[8][1].hash)},m(r,l){k(r,t,l),h(t,e)},p(r,l){l&20&&n!==(n=r[8][0]+"")&&q(e,n),l&20&&i!==(i="./viewer.html?api="+r[8][1].hash)&&p(t,"href",i)},d(r){r&&O(t)}}}function Be(s){let t,n,e,i,r;return{c(){t=d("button"),n=d("i"),p(n,"class",e="fas fa-angle-"+(s[4]?"left":"right")),p(t,"class","button is-white is-small is-tag-size svelte-xoabuk")},m(l,u){k(l,t,u),h(t,n),i||(r=ie(t,"click",s[7]),i=!0)},p(l,u){u&16&&e!==(e="fas fa-angle-"+(l[4]?"left":"right"))&&p(n,"class",e)},d(l){l&&O(t),i=!1,r()}}}function Ue(s){let t,n=s[3]&&$e(s);return{c(){n&&n.c(),t=J()},m(e,i){n&&n.m(e,i),k(e,t,i)},p(e,[i]){e[3]?n?n.p(e,i):(n=$e(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:I,o:I,d(e){n&&n.d(e),e&&O(t)}}}var Te=5;function ze(s,t,n){let e;Q(s,F,c=>n(5,e=c));let{packageName:i=null}=t,{name:r=null}=t,{apiSummary:l=null}=t,u=null,o=!1;function a(){console.log(JSON.stringify(e)),e.favorites[i]||le(F,e.favorites[i]={},e),le(F,e.favorites[i][r]=!e.favorites[i][r],e)}W(()=>{Ne(),n(3,u=l.versions[l.lastVersion])}),me(()=>{je()});let f=()=>n(4,o=!o);return s.$$set=c=>{"packageName"in c&&n(0,i=c.packageName),"name"in c&&n(1,r=c.name),"apiSummary"in c&&n(2,l=c.apiSummary)},[i,r,l,u,o,e,a,f]}var ne=class extends Y{constructor(t){super(),X(this,t,ze,Ue,G,{packageName:0,name:1,apiSummary:2},Re)}},oe=ne;function Ke(s){let t;return{c(){t=d("div"),t.innerHTML='<div class="field"><div class="control is-expanded"><input class="input" type="text" placeholder="Search"/></div></div>',p(t,"class","block")},m(n,e){k(n,t,e)},p:I,i:I,o:I,d(n){n&&O(t)}}}var se=class extends Y{constructor(t){super(),X(this,t,null,Ke,G,{})}},Ee=se;function Ie(s,t,n){let e=s.slice();return e[4]=t[n],e}function Me(s,t,n){let e=s.slice();return e[7]=t[n],e}function Le(s,t,n){let e=s.slice();return e[4]=t[n],e}function Ae(s,t,n){let e=s.slice();return e[12]=t[n],e}function Ge(s){let t;return{c(){t=d("div"),t.textContent="Fetching api index...",p(t,"class","box")},m(n,e){k(n,t,e)},p:I,i:I,o:I,d(n){n&&O(t)}}}function Je(s){let t,n,e,i=s[3]>0&&Ce(s),r=Object.entries(s[1]).sort(Z),l=[];for(let o=0;o<r.length;o+=1)l[o]=Pe(Ie(s,r,o));let u=o=>w(l[o],1,1,()=>{l[o]=null});return{c(){i&&i.c(),t=j();for(let o=0;o<l.length;o+=1)l[o].c();n=J()},m(o,a){i&&i.m(o,a),k(o,t,a);for(let f=0;f<l.length;f+=1)l[f].m(o,a);k(o,n,a),e=!0},p(o,a){if(o[3]>0?i?(i.p(o,a),a&8&&v(i,1)):(i=Ce(o),i.c(),v(i,1),i.m(t.parentNode,t)):i&&(C(),w(i,1,1,()=>{i=null}),D()),a&2){r=Object.entries(o[1]).sort(Z);let f;for(f=0;f<r.length;f+=1){let c=Ie(o,r,f);l[f]?(l[f].p(c,a),v(l[f],1)):(l[f]=Pe(c),l[f].c(),v(l[f],1),l[f].m(n.parentNode,n))}for(C(),f=r.length;f<l.length;f+=1)u(f);D()}},i(o){if(!e){v(i);for(let a=0;a<r.length;a+=1)v(l[a]);e=!0}},o(o){w(i),l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)w(l[a]);e=!1},d(o){i&&i.d(o),o&&O(t),P(l,o),o&&O(n)}}}function Ce(s){let t,n,e,i,r=Object.entries(s[0].favorites),l=[];for(let o=0;o<r.length;o+=1)l[o]=He(Le(s,r,o));let u=o=>w(l[o],1,1,()=>{l[o]=null});return{c(){t=d("h4"),t.innerHTML='<i class="fas fa-star"></i> Favorites',n=j(),e=d("div");for(let o=0;o<l.length;o+=1)l[o].c();p(t,"class","subtitle is-4"),p(e,"class","columns is-multiline")},m(o,a){k(o,t,a),k(o,n,a),k(o,e,a);for(let f=0;f<l.length;f+=1)l[f].m(e,null);i=!0},p(o,a){if(a&3){r=Object.entries(o[0].favorites);let f;for(f=0;f<r.length;f+=1){let c=Le(o,r,f);l[f]?(l[f].p(c,a),v(l[f],1)):(l[f]=He(c),l[f].c(),v(l[f],1),l[f].m(e,null))}for(C(),f=r.length;f<l.length;f+=1)u(f);D()}},i(o){if(!i){for(let a=0;a<r.length;a+=1)v(l[a]);i=!0}},o(o){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)w(l[a]);i=!1},d(o){o&&O(t),o&&O(n),o&&O(e),P(l,o)}}}function De(s){let t,n,e,i;return n=new oe({props:{packageName:s[4][0],name:s[12][0],apiSummary:s[1][s[4][0]][s[12][0]]}}),{c(){t=d("div"),R(n.$$.fragment),e=j(),p(t,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(r,l){k(r,t,l),U(n,t,null),h(t,e),i=!0},p(r,l){let u={};l&1&&(u.packageName=r[4][0]),l&1&&(u.name=r[12][0]),l&3&&(u.apiSummary=r[1][r[4][0]][r[12][0]]),n.$set(u)},i(r){i||(v(n.$$.fragment,r),i=!0)},o(r){w(n.$$.fragment,r),i=!1},d(r){r&&O(t),z(n)}}}function Fe(s){let t,n,e=s[12][1]&&De(s);return{c(){e&&e.c(),t=J()},m(i,r){e&&e.m(i,r),k(i,t,r),n=!0},p(i,r){i[12][1]?e?(e.p(i,r),r&1&&v(e,1)):(e=De(i),e.c(),v(e,1),e.m(t.parentNode,t)):e&&(C(),w(e,1,1,()=>{e=null}),D())},i(i){n||(v(e),n=!0)},o(i){w(e),n=!1},d(i){e&&e.d(i),i&&O(t)}}}function He(s){let t,n,e=Object.entries(s[4][1]),i=[];for(let l=0;l<e.length;l+=1)i[l]=Fe(Ae(s,e,l));let r=l=>w(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();t=J()},m(l,u){for(let o=0;o<i.length;o+=1)i[o].m(l,u);k(l,t,u),n=!0},p(l,u){if(u&3){e=Object.entries(l[4][1]);let o;for(o=0;o<e.length;o+=1){let a=Ae(l,e,o);i[o]?(i[o].p(a,u),v(i[o],1)):(i[o]=Fe(a),i[o].c(),v(i[o],1),i[o].m(t.parentNode,t))}for(C(),o=e.length;o<i.length;o+=1)r(o);D()}},i(l){if(!n){for(let u=0;u<e.length;u+=1)v(i[u]);n=!0}},o(l){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)w(i[u]);n=!1},d(l){P(i,l),l&&O(t)}}}function Ve(s){let t,n,e;return n=new oe({props:{packageName:s[4][0],name:s[7][0],apiSummary:s[7][1]}}),{c(){t=d("div"),R(n.$$.fragment),p(t,"class","column is-full-mobile is-full-tablet is-half-desktop is-one-third-widescreen")},m(i,r){k(i,t,r),U(n,t,null),e=!0},p(i,r){let l={};r&2&&(l.packageName=i[4][0]),r&2&&(l.name=i[7][0]),r&2&&(l.apiSummary=i[7][1]),n.$set(l)},i(i){e||(v(n.$$.fragment,i),e=!0)},o(i){w(n.$$.fragment,i),e=!1},d(i){i&&O(t),z(n)}}}function Pe(s){let t,n=s[4][0]+"",e,i,r,l,u,o=Object.entries(s[4][1]).sort(Z),a=[];for(let c=0;c<o.length;c+=1)a[c]=Ve(Me(s,o,c));let f=c=>w(a[c],1,1,()=>{a[c]=null});return{c(){t=d("h4"),e=A(n),i=j(),r=d("div");for(let c=0;c<a.length;c+=1)a[c].c();l=j(),p(t,"class","subtitle is-4"),p(r,"class","columns is-multiline")},m(c,g){k(c,t,g),h(t,e),k(c,i,g),k(c,r,g);for(let _=0;_<a.length;_+=1)a[_].m(r,null);h(r,l),u=!0},p(c,g){if((!u||g&2)&&n!==(n=c[4][0]+"")&&q(e,n),g&2){o=Object.entries(c[4][1]).sort(Z);let _;for(_=0;_<o.length;_+=1){let T=Me(c,o,_);a[_]?(a[_].p(T,g),v(a[_],1)):(a[_]=Ve(T),a[_].c(),v(a[_],1),a[_].m(r,l))}for(C(),_=o.length;_<a.length;_+=1)f(_);D()}},i(c){if(!u){for(let g=0;g<o.length;g+=1)v(a[g]);u=!0}},o(c){a=a.filter(Boolean);for(let g=0;g<a.length;g+=1)w(a[g]);u=!1},d(c){c&&O(t),c&&O(i),c&&O(r),P(a,c)}}}function Xe(s){let t,n,e,i,r,l,u,o,a,f,c,g,_,T;t=new _e({props:{activePage:"browser"}}),l=new Ee({}),o=new be({props:{messages:s[2]}});let L=[Je,Ge],B=[];function H(m,S){return m[1]?0:1}return f=H(s,-1),c=B[f]=L[f](s),_=new pe({}),{c(){R(t.$$.fragment),n=j(),e=d("div"),i=d("section"),i.innerHTML='<div class="hero-body"><h1 class="title">Api Browser</h1></div>',r=j(),R(l.$$.fragment),u=j(),R(o.$$.fragment),a=j(),c.c(),g=j(),R(_.$$.fragment),p(i,"class","hero is-small"),p(e,"class","container")},m(m,S){U(t,m,S),k(m,n,S),k(m,e,S),h(e,i),h(e,r),U(l,e,null),h(e,u),U(o,e,null),h(e,a),B[f].m(e,null),k(m,g,S),U(_,m,S),T=!0},p(m,[S]){let V={};S&4&&(V.messages=m[2]),o.$set(V);let E=f;f=H(m,S),f===E?B[f].p(m,S):(C(),w(B[E],1,1,()=>{B[E]=null}),D(),c=B[f],c?c.p(m,S):(c=B[f]=L[f](m),c.c()),v(c,1),c.m(e,null))},i(m){T||(v(t.$$.fragment,m),v(l.$$.fragment,m),v(o.$$.fragment,m),v(c),v(_.$$.fragment,m),T=!0)},o(m){w(t.$$.fragment,m),w(l.$$.fragment,m),w(o.$$.fragment,m),w(c),w(_.$$.fragment,m),T=!1},d(m){z(t,m),m&&O(n),m&&O(e),z(l),z(o),B[f].d(),m&&O(g),z(_,m)}}}var Ye="./apis/apiIndex.json";function Z(s,t){return s[0]<t[0]}function Qe(s,t,n){let e;Q(s,F,u=>n(0,e=u));let i=null,r=[],l=0;return W(()=>he(void 0,void 0,void 0,function*(){let u=yield fetch(Ye);u.ok?n(1,i=yield u.json()):n(2,r=[...r,"Error while fetching api index: "+u.status])})),s.$$.update=()=>{if(s.$$.dirty&1){e:n(3,l=Object.values(e.favorites).filter(u=>Object.values(u).filter(o=>o).length).length)}},[e,i,r,l]}var re=class extends Y{constructor(t){super(),X(this,t,Qe,Xe,G,{})}},qe=re;new qe({target:document.body});ce();
