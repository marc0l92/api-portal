// Project: https://github.com/marc0l92/api-tools
import{a as ne}from"./chunk-F5SK5JUS.js";import{d as Ce,l as re}from"./chunk-36CDCZCP.js";import"./chunk-ENFAIUXN.js";import{a as le}from"./chunk-PZEKVWKH.js";import{$ as T,A as w,B as v,C as Z,D as g,E as L,F as A,G as X,H as W,I as ae,K as h,L as U,P as ve,S as ye,V as H,W as F,X as b,Y as $,Z as E,_ as M,aa as P,ba as z,ca as $e,fa as x,h as V,m as _e,n as K,na as De,o as ke,oa as Ae,p as se,q as I,s as we,y as u,z as J}from"./chunk-G7MV4BHC.js";V();V();V();V();var Q={["Added"]:"is-success",["Modified"]:"is-warning",["Removed"]:"is-danger"};function Se(s,e){let i={isBackwardCompatible:!0,metadata:[],services:{}};i.metadata=te(Be(s),Be(e)).items;let t=e.getServices();for(let a of s.getServices()){let f=t.findIndex(l=>l.getName()===a.getName());if(f>=0){let l=t[f],n={type:"Modified",isBackwardCompatible:!0,metadata:{isBackwardCompatible:!0,items:[]},parameters:{isBackwardCompatible:!0,items:[]},request:{isBackwardCompatible:!0,items:[]},responses:{}};n.metadata=te(Oe(a),Oe(l)),n.parameters=st(a.getRequestParameters(),l.getRequestParameters()),n.request=je(a.getRequest(),l.getRequest()),n.responses=at(a.getResponses(),l.getResponses()),(n.metadata.items.length||n.parameters.items.length||n.request.items.length||Object.keys(n.responses).length)&&(n.isBackwardCompatible&&(n.isBackwardCompatible=n.metadata.isBackwardCompatible&&n.parameters.isBackwardCompatible&&n.request.isBackwardCompatible&&Object.values(n.responses).every(r=>r.isBackwardCompatible)),i.isBackwardCompatible&&(i.isBackwardCompatible=n.isBackwardCompatible),i.services[a.getName()]=n),t.splice(f,1)}else i.isBackwardCompatible=!1,i.services[a.getName()]={type:"Removed",isBackwardCompatible:!1}}for(let a of t)i.services[a.getName()]={type:"Added",isBackwardCompatible:!0};return i}function Be(s){return Object.fromEntries(Object.entries(s.toJson()).filter(([e,i])=>["paths","definitions","responses","parameters","components"].indexOf(e)===-1))}function Oe(s){return Object.fromEntries(Object.entries(s.toJson()).filter(([e,i])=>["parameters","responses","requestBody"].indexOf(e)===-1))}function qe(s){return Object.fromEntries(Object.entries(s).filter(([e,i])=>["schema"].indexOf(e)===-1))}function ee(s,e,i){return i?`${s}[${e}]`:`${s}/${e}`}function te(s,e,i="",t=[]){let a={isBackwardCompatible:!0,items:[]},f=Object.keys(e);for(let l of Object.keys(s)){let n=f.indexOf(l);if(n>=0){if(typeof s[l]=="object"&&typeof e[l]=="object"){let r=te(s[l],e[l],ee(i,l,Array.isArray(s)),t);a.isBackwardCompatible&&(a.isBackwardCompatible=r.isBackwardCompatible),a.items=a.items.concat(r.items)}else if(s[l]!==e[l]){let r=ee(i,l,Array.isArray(s)),p=t.indexOf(r)===-1;a.isBackwardCompatible&&(a.isBackwardCompatible=p),a.items.push({path:r,type:"Modified",leftValue:s[l],rightValue:e[l],isBackwardCompatible:p})}f.splice(n,1)}else{let r=ee(i,l,Array.isArray(s)),p=t.indexOf(r)===-1;a.isBackwardCompatible&&(a.isBackwardCompatible=p),a.items.push({path:r,type:"Removed",leftValue:s[l],isBackwardCompatible:p})}}for(let l of f){let n=ee(i,l,Array.isArray(e)),r=t.indexOf(n)===-1;a.isBackwardCompatible&&(a.isBackwardCompatible=r),a.items.push({path:n,type:"Added",rightValue:e[l],isBackwardCompatible:r})}return a}function st(s,e){let i={isBackwardCompatible:!0,items:[]},t=Object.keys(e).map(a=>parseInt(a));for(let a of s){let f=e.findIndex(l=>l.name===a.name&&l.in===a.in);if(f>=0){let l=e[f],n=je(a,l);i.isBackwardCompatible&&(i.isBackwardCompatible=n.isBackwardCompatible),i.items=i.items.concat(n.items),t.splice(t.indexOf(f),1)}else i.isBackwardCompatible=!1,i.items.push({path:a["x-path"],type:"Removed",leftValue:a,isBackwardCompatible:!1})}for(let a of t){let f=e[a];i.items.push({path:f["x-path"],type:"Added",rightValue:f,isBackwardCompatible:!0})}return i}function je(s,e){let i={isBackwardCompatible:!0,items:[]};if(!s&&!e)return i;if(!s&&e)return{items:[{path:e["x-path"],type:"Added",rightValue:e,isBackwardCompatible:!0}],isBackwardCompatible:!0};if(s&&!e)return{items:[{path:s["x-path"],type:"Removed",rightValue:s,isBackwardCompatible:!1}],isBackwardCompatible:!1};let t=["in","name","type","required","schema"],a=te(qe(s),qe(e),s["x-path"],t),f=lt(s.schema,e.schema,s["x-path"]);return i.isBackwardCompatible&&(i.isBackwardCompatible=a.isBackwardCompatible&&f.isBackwardCompatible),i.items=i.items.concat(a.items,f.items),i}function at(s,e){return{}}function lt(s,e,i){return{isBackwardCompatible:!0,items:[]}}V();V();function nt(s){J(s,"svelte-p30usc",".longText.svelte-p30usc{cursor:pointer;word-break:break-all}")}function rt(s){let e,i;return{c(){e=g("div"),i=L(s[1])},m(t,a){w(t,e,a),u(e,i)},p(t,a){a&2&&U(i,t[1])},d(t){t&&v(e)}}}function ft(s){let e,i=(s[2]?s[1]:s[3])+"",t,a,f;return{c(){e=g("div"),t=L(i),h(e,"class","longText svelte-p30usc"),h(e,"title","Double click to expand")},m(l,n){w(l,e,n),u(e,t),a||(f=W(e,"dblclick",s[4]),a=!0)},p(l,n){n&14&&i!==(i=(l[2]?l[1]:l[3])+"")&&U(t,i)},d(l){l&&v(e),a=!1,f()}}}function ot(s){let e;function i(f,l){return f[1].length>f[0]?ft:rt}let t=i(s,-1),a=t(s);return{c(){a.c(),e=X()},m(f,l){a.m(f,l),w(f,e,l)},p(f,[l]){t===(t=i(f,l))&&a?a.p(f,l):(a.d(1),a=t(f),a&&(a.c(),a.m(e.parentNode,e)))},i:K,o:K,d(f){a.d(f),f&&v(e)}}}function ct(s,e,i){let{maxLength:t=30}=e,{text:a}=e,{keepEnd:f=!1}=e,l=!1,n="";function r(){i(2,l=!l)}return s.$$set=p=>{"maxLength"in p&&i(0,t=p.maxLength),"text"in p&&i(1,a=p.text),"keepEnd"in p&&i(5,f=p.keepEnd)},s.$$.update=()=>{if(s.$$.dirty&35)e:a&&(a.length>t?f?i(3,n="..."+a.substring(a.length-t)):i(3,n=a.substring(0,t)+"..."):i(3,n=a))},[t,a,l,n,r,f]}var fe=class extends z{constructor(e){super(),P(this,e,ct,ot,I,{maxLength:0,text:1,keepEnd:5},nt)}},ie=fe;function pt(s){J(s,"svelte-1fdpyhf",".diff-table-container.svelte-1fdpyhf.svelte-1fdpyhf{overflow-x:auto;max-width:100%}.diff-table-container.svelte-1fdpyhf .is-fullwidth.svelte-1fdpyhf{width:calc(100% - 1px)}")}function Ee(s,e,i){let t=s.slice();return t[1]=e[i],t}function Me(s){let e,i,t,a,f,l,n=s[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=Re(Ee(s,n,o));let p=o=>$(r[o],1,1,()=>{r[o]=null});return{c(){e=g("div"),i=g("table"),t=g("thead"),t.innerHTML=`<tr><th>Type</th> 
                    <th>Location</th> 
                    <th>Left Value</th> 
                    <th>Right Value</th></tr>`,a=A(),f=g("tbody");for(let o=0;o<r.length;o+=1)r[o].c();h(i,"class","table is-bordered is-striped is-narrow is-hoverable is-fullwidth svelte-1fdpyhf"),h(e,"class","diff-table-container svelte-1fdpyhf")},m(o,C){w(o,e,C),u(e,i),u(i,t),u(i,a),u(i,f);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(f,null);l=!0},p(o,C){if(C&1){n=o[0];let m;for(m=0;m<n.length;m+=1){let c=Ee(o,n,m);r[m]?(r[m].p(c,C),b(r[m],1)):(r[m]=Re(c),r[m].c(),b(r[m],1),r[m].m(f,null))}for(H(),m=n.length;m<r.length;m+=1)p(m);F()}},i(o){if(!l){for(let C=0;C<n.length;C+=1)b(r[C]);l=!0}},o(o){r=r.filter(Boolean);for(let C=0;C<r.length;C+=1)$(r[C]);l=!1},d(o){o&&v(e),Z(r,o)}}}function Te(s){let e;return{c(){e=g("i"),h(e,"class","fa-solid fa-triangle-exclamation mr-1"),h(e,"title","Not backward compatible change")},m(i,t){w(i,e,t)},d(i){i&&v(e)}}}function Re(s){let e,i,t,a,f=s[1].type+"",l,n,r,p,o,C,m,c,y,_,j,N,R,O=!s[1].isBackwardCompatible&&Te(s);return o=new ie({props:{text:s[1].path,maxLength:ut,keepEnd:!0}}),c=new ie({props:{text:s[1].leftValue?JSON.stringify(s[1].leftValue):"",maxLength:Ve}}),j=new ie({props:{text:s[1].rightValue?JSON.stringify(s[1].rightValue):"",maxLength:Ve}}),{c(){e=g("tr"),i=g("td"),t=g("span"),O&&O.c(),a=A(),l=L(f),r=A(),p=g("td"),E(o.$$.fragment),C=A(),m=g("td"),E(c.$$.fragment),y=A(),_=g("td"),E(j.$$.fragment),N=A(),h(t,"class",n="tag "+Q[s[1].type]+" svelte-1fdpyhf")},m(k,B){w(k,e,B),u(e,i),u(i,t),O&&O.m(t,null),u(t,a),u(t,l),u(e,r),u(e,p),M(o,p,null),u(e,C),u(e,m),M(c,m,null),u(e,y),u(e,_),M(j,_,null),u(e,N),R=!0},p(k,B){k[1].isBackwardCompatible?O&&(O.d(1),O=null):O||(O=Te(k),O.c(),O.m(t,a)),(!R||B&1)&&f!==(f=k[1].type+"")&&U(l,f),(!R||B&1&&n!==(n="tag "+Q[k[1].type]+" svelte-1fdpyhf"))&&h(t,"class",n);let q={};B&1&&(q.text=k[1].path),o.$set(q);let D={};B&1&&(D.text=k[1].leftValue?JSON.stringify(k[1].leftValue):""),c.$set(D);let d={};B&1&&(d.text=k[1].rightValue?JSON.stringify(k[1].rightValue):""),j.$set(d)},i(k){R||(b(o.$$.fragment,k),b(c.$$.fragment,k),b(j.$$.fragment,k),R=!0)},o(k){$(o.$$.fragment,k),$(c.$$.fragment,k),$(j.$$.fragment,k),R=!1},d(k){k&&v(e),O&&O.d(),T(o),T(c),T(j)}}}function mt(s){let e,i,t=s[0]&&s[0].length>0&&Me(s);return{c(){t&&t.c(),e=X()},m(a,f){t&&t.m(a,f),w(a,e,f),i=!0},p(a,[f]){a[0]&&a[0].length>0?t?(t.p(a,f),f&1&&b(t,1)):(t=Me(a),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(H(),$(t,1,1,()=>{t=null}),F())},i(a){i||(b(t),i=!0)},o(a){$(t),i=!1},d(a){t&&t.d(a),a&&v(e)}}}var ut=30,Ve=120;function dt(s,e,i){let{diffItems:t}=e;return s.$$set=a=>{"diffItems"in a&&i(0,t=a.diffItems)},[t]}var oe=class extends z{constructor(e){super(),P(this,e,dt,mt,I,{diffItems:0},pt)}},Y=oe;function gt(s){J(s,"svelte-qjgarc","details.svelte-qjgarc:not(:last-child){margin-bottom:1.5em}.table-title.svelte-qjgarc{font-weight:bold}")}function Ne(s,e,i){let t=s.slice();return t[3]=e[i][0],t[4]=e[i][1],t}function Le(s){let e,i,t,a=!s[0].metadata.length&&!Object.keys(s[0].services).length,f,l,n=!s[0].isBackwardCompatible&&Ie(s),r=s[0].metadata.length>0&&He(s),p=Object.entries(s[0].services),o=[];for(let c=0;c<p.length;c+=1)o[c]=Qe(Ne(s,p,c));let C=c=>$(o[c],1,1,()=>{o[c]=null}),m=a&&We(s);return{c(){n&&n.c(),e=A(),r&&r.c(),i=A();for(let c=0;c<o.length;c+=1)o[c].c();t=A(),m&&m.c(),f=X()},m(c,y){n&&n.m(c,y),w(c,e,y),r&&r.m(c,y),w(c,i,y);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(c,y);w(c,t,y),m&&m.m(c,y),w(c,f,y),l=!0},p(c,y){if(c[0].isBackwardCompatible?n&&(n.d(1),n=null):n||(n=Ie(c),n.c(),n.m(e.parentNode,e)),c[0].metadata.length>0?r?(r.p(c,y),y&1&&b(r,1)):(r=He(c),r.c(),b(r,1),r.m(i.parentNode,i)):r&&(H(),$(r,1,1,()=>{r=null}),F()),y&1){p=Object.entries(c[0].services);let _;for(_=0;_<p.length;_+=1){let j=Ne(c,p,_);o[_]?(o[_].p(j,y),b(o[_],1)):(o[_]=Qe(j),o[_].c(),b(o[_],1),o[_].m(t.parentNode,t))}for(H(),_=p.length;_<o.length;_+=1)C(_);F()}y&1&&(a=!c[0].metadata.length&&!Object.keys(c[0].services).length),a?m||(m=We(c),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},i(c){if(!l){b(r);for(let y=0;y<p.length;y+=1)b(o[y]);l=!0}},o(c){$(r),o=o.filter(Boolean);for(let y=0;y<o.length;y+=1)$(o[y]);l=!1},d(c){n&&n.d(c),c&&v(e),r&&r.d(c),c&&v(i),Z(o,c),c&&v(t),m&&m.d(c),c&&v(f)}}}function Ie(s){let e;return{c(){e=g("div"),e.innerHTML=`<i class="fa-solid fa-triangle-exclamation mx-1" title="Not backward compatible change"></i>
                Not backward compatible changes detected`,h(e,"class","notification is-small is-danger")},m(i,t){w(i,e,t)},d(i){i&&v(e)}}}function He(s){let e,i,t,a,f;return a=new Y({props:{diffItems:s[0].metadata}}),{c(){e=g("details"),i=g("summary"),i.textContent="Apis Metadata",t=A(),E(a.$$.fragment),h(i,"class","title is-5"),e.open=!0,h(e,"class","svelte-qjgarc")},m(l,n){w(l,e,n),u(e,i),u(e,t),M(a,e,null),f=!0},p(l,n){let r={};n&1&&(r.diffItems=l[0].metadata),a.$set(r)},i(l){f||(b(a.$$.fragment,l),f=!0)},o(l){$(a.$$.fragment,l),f=!1},d(l){l&&v(e),T(a)}}}function Fe(s){let e;return{c(){e=g("i"),h(e,"class","fa-solid fa-triangle-exclamation mr-1"),h(e,"title","Not backward compatible change")},m(i,t){w(i,e,t)},d(i){i&&v(e)}}}function Pe(s){let e,i,t,a,f,l=!s[4].metadata.isBackwardCompatible&&ze(s);return a=new Y({props:{diffItems:s[4].metadata.items}}),{c(){e=g("p"),l&&l.c(),i=L(`
                        Metadata`),t=A(),E(a.$$.fragment),h(e,"class","table-title svelte-qjgarc")},m(n,r){w(n,e,r),l&&l.m(e,null),u(e,i),w(n,t,r),M(a,n,r),f=!0},p(n,r){n[4].metadata.isBackwardCompatible?l&&(l.d(1),l=null):l||(l=ze(n),l.c(),l.m(e,i));let p={};r&1&&(p.diffItems=n[4].metadata.items),a.$set(p)},i(n){f||(b(a.$$.fragment,n),f=!0)},o(n){$(a.$$.fragment,n),f=!1},d(n){n&&v(e),l&&l.d(),n&&v(t),T(a,n)}}}function ze(s){let e;return{c(){e=g("i"),h(e,"class","fa-solid fa-triangle-exclamation mr-1"),h(e,"title","Not backward compatible change")},m(i,t){w(i,e,t)},d(i){i&&v(e)}}}function Je(s){let e,i,t,a,f,l=!s[4].parameters.isBackwardCompatible&&Ke(s);return a=new Y({props:{diffItems:s[4].parameters.items}}),{c(){e=g("p"),l&&l.c(),i=L(`
                        Request Parameters`),t=A(),E(a.$$.fragment),h(e,"class","table-title svelte-qjgarc")},m(n,r){w(n,e,r),l&&l.m(e,null),u(e,i),w(n,t,r),M(a,n,r),f=!0},p(n,r){n[4].parameters.isBackwardCompatible?l&&(l.d(1),l=null):l||(l=Ke(n),l.c(),l.m(e,i));let p={};r&1&&(p.diffItems=n[4].parameters.items),a.$set(p)},i(n){f||(b(a.$$.fragment,n),f=!0)},o(n){$(a.$$.fragment,n),f=!1},d(n){n&&v(e),l&&l.d(),n&&v(t),T(a,n)}}}function Ke(s){let e;return{c(){e=g("i"),h(e,"class","fa-solid fa-triangle-exclamation mr-1"),h(e,"title","Not backward compatible change")},m(i,t){w(i,e,t)},d(i){i&&v(e)}}}function Ue(s){let e,i,t,a,f,l=!s[4].request.isBackwardCompatible&&Ge(s);return a=new Y({props:{diffItems:s[4].request.items}}),{c(){e=g("p"),l&&l.c(),i=L(`
                        Request Body`),t=A(),E(a.$$.fragment),h(e,"class","table-title svelte-qjgarc")},m(n,r){w(n,e,r),l&&l.m(e,null),u(e,i),w(n,t,r),M(a,n,r),f=!0},p(n,r){n[4].request.isBackwardCompatible?l&&(l.d(1),l=null):l||(l=Ge(n),l.c(),l.m(e,i));let p={};r&1&&(p.diffItems=n[4].request.items),a.$set(p)},i(n){f||(b(a.$$.fragment,n),f=!0)},o(n){$(a.$$.fragment,n),f=!1},d(n){n&&v(e),l&&l.d(),n&&v(t),T(a,n)}}}function Ge(s){let e;return{c(){e=g("i"),h(e,"class","fa-solid fa-triangle-exclamation mr-1"),h(e,"title","Not backward compatible change")},m(i,t){w(i,e,t)},d(i){i&&v(e)}}}function Xe(s){let e;return{c(){e=g("p"),e.textContent="Responses Body",h(e,"class","table-title svelte-qjgarc")},m(i,t){w(i,e,t)},d(i){i&&v(e)}}}function Qe(s){let e,i,t=s[3]+"",a,f,l,n,r,p,o=s[4].type+"",C,m,c,y,_,j,N=s[4].responses&&Object.keys(s[4].responses).length,R,O=!s[4].isBackwardCompatible&&Fe(s),k=s[4].metadata&&s[4].metadata.items.length&&Pe(s),B=s[4].parameters&&s[4].parameters.items.length&&Je(s),q=s[4].request&&s[4].request.items.length&&Ue(s),D=N&&Xe(s);return{c(){e=g("details"),i=g("summary"),a=L(t),f=A(),l=g("p"),n=L(`Status:
                    `),r=g("span"),O&&O.c(),p=A(),C=L(o),c=A(),k&&k.c(),y=A(),B&&B.c(),_=A(),q&&q.c(),j=A(),D&&D.c(),h(i,"class","title is-5"),h(r,"class",m="tag "+Q[s[4].type]+" svelte-qjgarc"),h(l,"class","mb-2"),e.open=!0,h(e,"class","svelte-qjgarc")},m(d,S){w(d,e,S),u(e,i),u(i,a),u(e,f),u(e,l),u(l,n),u(l,r),O&&O.m(r,null),u(r,p),u(r,C),u(e,c),k&&k.m(e,null),u(e,y),B&&B.m(e,null),u(e,_),q&&q.m(e,null),u(e,j),D&&D.m(e,null),R=!0},p(d,S){(!R||S&1)&&t!==(t=d[3]+"")&&U(a,t),d[4].isBackwardCompatible?O&&(O.d(1),O=null):O||(O=Fe(d),O.c(),O.m(r,p)),(!R||S&1)&&o!==(o=d[4].type+"")&&U(C,o),(!R||S&1&&m!==(m="tag "+Q[d[4].type]+" svelte-qjgarc"))&&h(r,"class",m),d[4].metadata&&d[4].metadata.items.length?k?(k.p(d,S),S&1&&b(k,1)):(k=Pe(d),k.c(),b(k,1),k.m(e,y)):k&&(H(),$(k,1,1,()=>{k=null}),F()),d[4].parameters&&d[4].parameters.items.length?B?(B.p(d,S),S&1&&b(B,1)):(B=Je(d),B.c(),b(B,1),B.m(e,_)):B&&(H(),$(B,1,1,()=>{B=null}),F()),d[4].request&&d[4].request.items.length?q?(q.p(d,S),S&1&&b(q,1)):(q=Ue(d),q.c(),b(q,1),q.m(e,j)):q&&(H(),$(q,1,1,()=>{q=null}),F()),S&1&&(N=d[4].responses&&Object.keys(d[4].responses).length),N?D||(D=Xe(d),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},i(d){R||(b(k),b(B),b(q),R=!0)},o(d){$(k),$(B),$(q),R=!1},d(d){d&&v(e),O&&O.d(),k&&k.d(),B&&B.d(),q&&q.d(),D&&D.d()}}}function We(s){let e;return{c(){e=g("p"),e.textContent="No differences detected"},m(i,t){w(i,e,t)},d(i){i&&v(e)}}}function ht(s){let e,i,t=s[0]&&Le(s);return{c(){e=g("div"),t&&t.c()},m(a,f){w(a,e,f),t&&t.m(e,null),i=!0},p(a,[f]){a[0]?t?(t.p(a,f),f&1&&b(t,1)):(t=Le(a),t.c(),b(t,1),t.m(e,null)):t&&(H(),$(t,1,1,()=>{t=null}),F())},i(a){i||(b(t),i=!0)},o(a){$(t),i=!1},d(a){a&&v(e),t&&t.d()}}}function bt(s,e,i){let{leftApi:t}=e,{rightApi:a}=e,f;return s.$$set=l=>{"leftApi"in l&&i(1,t=l.leftApi),"rightApi"in l&&i(2,a=l.rightApi)},s.$$.update=()=>{if(s.$$.dirty&6)e:t&&a&&i(0,f=Se(t,a))},[f,t,a]}var ce=class extends z{constructor(e){super(),P(this,e,bt,ht,I,{leftApi:1,rightApi:2},gt)}},Ye=ce;V();function Ze(s){let e;return{c(){e=L("Ok")},m(i,t){w(i,e,t)},d(i){i&&v(e)}}}function _t(s){let e,i=s[0]&&s[1]&&Ze(s);return{c(){e=g("div"),i&&i.c()},m(t,a){w(t,e,a),i&&i.m(e,null)},p(t,[a]){t[0]&&t[1]?i||(i=Ze(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:K,o:K,d(t){t&&v(e),i&&i.d()}}}function kt(s,e,i){let{leftApi:t}=e,{rightApi:a}=e;return s.$$set=f=>{"leftApi"in f&&i(0,t=f.leftApi),"rightApi"in f&&i(1,a=f.rightApi)},[t,a]}var pe=class extends z{constructor(e){super(),P(this,e,kt,_t,I,{leftApi:0,rightApi:1})}},xe=pe;V();function wt(s){J(s,"svelte-1gj2ttm",".tabs-with-options.svelte-1gj2ttm.svelte-1gj2ttm{display:flex;flex-wrap:nowrap;align-content:center;align-items:stretch}.tabs-with-options.svelte-1gj2ttm .tabs.svelte-1gj2ttm{flex-grow:1;margin-bottom:0}")}function vt(s){let e,i,t,a,f,l,n,r,p,o,C,m,c,y;return{c(){e=g("div"),i=g("div"),t=g("ul"),a=g("li"),f=g("a"),f.innerHTML=`<span class="icon is-small"><i class="fas fa-circle-nodes"></i></span> 
                    <span>Api Diff</span>`,r=A(),p=g("li"),o=g("a"),o.innerHTML=`<span class="icon is-small"><i class="fas fa-diagram-project"></i></span> 
                    <span>Diagrams Diff</span>`,h(f,"href",l="#"),h(a,"class",n=s[0]==="api-diff"?"is-active":""),h(o,"href",C="#"),h(p,"class",m=s[0]==="diagrams-diff"?"is-active":""),h(i,"class","tabs is-boxed is-floating svelte-1gj2ttm"),h(e,"class","tabs-with-options svelte-1gj2ttm")},m(_,j){w(_,e,j),u(e,i),u(i,t),u(t,a),u(a,f),u(t,r),u(t,p),u(p,o),c||(y=[W(f,"click",ae(s[2])),W(o,"click",ae(s[3]))],c=!0)},p(_,[j]){j&1&&n!==(n=_[0]==="api-diff"?"is-active":"")&&h(a,"class",n),j&1&&m!==(m=_[0]==="diagrams-diff"?"is-active":"")&&h(p,"class",m)},i:K,o:K,d(_){_&&v(e),c=!1,ke(y)}}}function yt(s,e,i){let{selectedTab:t="api-diff"}=e,a=ye();function f(r){return x(this,void 0,void 0,function*(){i(0,t=r),a("tabChange",{selectedTab:t})})}let l=()=>f("api-diff"),n=()=>f("diagrams-diff");return s.$$set=r=>{"selectedTab"in r&&i(0,t=r.selectedTab)},[t,f,l,n]}var me=class extends z{constructor(e){super(),P(this,e,yt,vt,I,{selectedTab:0},wt)}},et=me;function $t(s){J(s,"svelte-1nizkyl",".is-center.svelte-1nizkyl{display:flex;justify-content:center;align-items:center;flex-direction:column}")}function tt(s){let e,i,t,a,f,l,n;return e=new et({props:{selectedTab:s[2]}}),e.$on("tabChange",s[5]),a=new ne({props:{isVisible:s[2]==="api-diff",$$slots:{default:[Dt]},$$scope:{ctx:s}}}),l=new ne({props:{isVisible:s[2]==="diagrams-diff",$$slots:{default:[At]},$$scope:{ctx:s}}}),{c(){E(e.$$.fragment),i=A(),t=g("div"),E(a.$$.fragment),f=A(),E(l.$$.fragment),h(t,"class","box flat-top")},m(r,p){M(e,r,p),w(r,i,p),w(r,t,p),M(a,t,null),u(t,f),M(l,t,null),n=!0},p(r,p){let o={};p&4&&(o.selectedTab=r[2]),e.$set(o);let C={};p&4&&(C.isVisible=r[2]==="api-diff"),p&131&&(C.$$scope={dirty:p,ctx:r}),a.$set(C);let m={};p&4&&(m.isVisible=r[2]==="diagrams-diff"),p&131&&(m.$$scope={dirty:p,ctx:r}),l.$set(m)},i(r){n||(b(e.$$.fragment,r),b(a.$$.fragment,r),b(l.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),$(a.$$.fragment,r),$(l.$$.fragment,r),n=!1},d(r){T(e,r),r&&v(i),r&&v(t),T(a),T(l)}}}function Dt(s){let e,i;return e=new Ye({props:{leftApi:s[0].api,rightApi:s[1].api}}),{c(){E(e.$$.fragment)},m(t,a){M(e,t,a),i=!0},p(t,a){let f={};a&1&&(f.leftApi=t[0].api),a&2&&(f.rightApi=t[1].api),e.$set(f)},i(t){i||(b(e.$$.fragment,t),i=!0)},o(t){$(e.$$.fragment,t),i=!1},d(t){T(e,t)}}}function At(s){let e,i;return e=new xe({props:{leftApi:s[0].api,rightApi:s[1].api}}),{c(){E(e.$$.fragment)},m(t,a){M(e,t,a),i=!0},p(t,a){let f={};a&1&&(f.leftApi=t[0].api),a&2&&(f.rightApi=t[1].api),e.$set(f)},i(t){i||(b(e.$$.fragment,t),i=!0)},o(t){$(e.$$.fragment,t),i=!1},d(t){T(e,t)}}}function Ct(s){let e,i,t,a,f,l,n,r,p,o,C,m,c,y,_,j,N,R,O,k,B,q;e=new Ae({props:{activePage:"compare"}}),r=new re({props:{browserHash:s[0].hash,storagePrefix:"left"}}),r.$on("apiChange",function(){se(s[4](s[0]))&&s[4](s[0]).apply(this,arguments)}),o=new le({props:{messages:s[0].errors}}),_=new re({props:{browserHash:s[1].hash,storagePrefix:"right"}}),_.$on("apiChange",function(){se(s[4](s[1]))&&s[4](s[1]).apply(this,arguments)}),N=new le({props:{messages:s[1].errors}});let D=s[0].api&&s[1].api&&tt(s);return B=new $e({}),{c(){E(e.$$.fragment),i=A(),t=g("div"),a=g("section"),a.innerHTML=`<div class="hero-body"><h1 class="title">Api Compare</h1> 
      <p class="subtitle">List changes between two Apis</p></div>`,f=A(),l=g("div"),n=g("div"),E(r.$$.fragment),p=A(),E(o.$$.fragment),C=A(),m=g("div"),m.innerHTML='<p class="title is-2"><i class="fa-solid fa-right-long"></i></p>',c=A(),y=g("div"),E(_.$$.fragment),j=A(),E(N.$$.fragment),R=A(),D&&D.c(),k=A(),E(B.$$.fragment),h(a,"class","hero is-small"),h(n,"class","column"),h(m,"class","column is-center is-narrow svelte-1nizkyl"),h(y,"class","column"),h(l,"class","columns"),h(t,"class",O="container "+(s[3].fluidLayout?"is-fluid":""))},m(d,S){M(e,d,S),w(d,i,S),w(d,t,S),u(t,a),u(t,f),u(t,l),u(l,n),M(r,n,null),u(n,p),M(o,n,null),u(l,C),u(l,m),u(l,c),u(l,y),M(_,y,null),u(y,j),M(N,y,null),u(t,R),D&&D.m(t,null),w(d,k,S),M(B,d,S),q=!0},p(d,[S]){s=d;let de={};S&1&&(de.browserHash=s[0].hash),r.$set(de);let ge={};S&1&&(ge.messages=s[0].errors),o.$set(ge);let he={};S&2&&(he.browserHash=s[1].hash),_.$set(he);let be={};S&2&&(be.messages=s[1].errors),N.$set(be),s[0].api&&s[1].api?D?(D.p(s,S),S&3&&b(D,1)):(D=tt(s),D.c(),b(D,1),D.m(t,null)):D&&(H(),$(D,1,1,()=>{D=null}),F()),(!q||S&8&&O!==(O="container "+(s[3].fluidLayout?"is-fluid":"")))&&h(t,"class",O)},i(d){q||(b(e.$$.fragment,d),b(r.$$.fragment,d),b(o.$$.fragment,d),b(_.$$.fragment,d),b(N.$$.fragment,d),b(D),b(B.$$.fragment,d),q=!0)},o(d){$(e.$$.fragment,d),$(r.$$.fragment,d),$(o.$$.fragment,d),$(_.$$.fragment,d),$(N.$$.fragment,d),$(D),$(B.$$.fragment,d),q=!1},d(d){T(e,d),d&&v(i),d&&v(t),T(r),T(o),T(_),T(N),D&&D.d(),d&&v(k),T(B,d)}}}function Bt(s,e,i){let t;we(s,De,o=>i(3,t=o));let a={hash:null,api:null,errors:[]},f={hash:null,api:null,errors:[]},l="api-diff";function n(){let o=new URLSearchParams(window.location.search);a.hash&&o.set("leftApi",a.hash),f.hash&&o.set("rightApi",f.hash),window.history.pushState(null,null,"?"+o.toString())}function r(o){return C=>x(this,void 0,void 0,function*(){let m=C.detail.apiObject;if(o.api=null,o.errors=[],o.hash=C.detail.hash,m){try{o.api=Ce(m),o.api.setModelsTitle()}catch(c){o.errors=[...o.errors,"Error: "+c.message]}if(o.api)try{yield o.api.resolveReferences()}catch(c){console.error(c),o.errors=[...o.errors,"Error while parsing api: "+c.message]}}i(0,a),i(1,f),n()})}function p(o){i(2,l=o.detail.selectedTab)}return ve(()=>{let o=new URLSearchParams(window.location.search);i(0,a.hash=o.get("leftApi"),a),i(1,f.hash=o.get("rightApi"),f)}),[a,f,l,t,r,p]}var ue=class extends z{constructor(e){super(),P(this,e,Bt,Ct,I,{},$t)}},it=ue;new it({target:document.body});_e();
