// Project: https://github.com/marc0l92/api-tools
import{a as Q}from"./chunk-E4EHLCUM.js";import{d as le,k as U}from"./chunk-MNW65YNM.js";import"./chunk-PX42LIMP.js";import{a as K}from"./chunk-4ST3GK6U.js";import{$ as S,A as j,C as g,D as G,E as v,G as J,I as d,Q as ee,T as te,U as se,V as b,W as h,X as k,Y as C,Z as L,_ as R,aa as ie,da as N,h as V,la as ne,m as Z,ma as ae,n as B,o as I,p as q,r as x,x as c,y as F,z as y}from"./chunk-AC34EKQT.js";V();V();V();function ce(i){F(i,"svelte-1gj2ttm",".tabs-with-options.svelte-1gj2ttm.svelte-1gj2ttm{display:flex;flex-wrap:nowrap;align-content:center;align-items:stretch}.tabs-with-options.svelte-1gj2ttm .tabs.svelte-1gj2ttm{flex-grow:1;margin-bottom:0}")}function me(i){let s,l,t,r,m,o,p,e,f,n,T,$,w,z;return{c(){s=g("div"),l=g("div"),t=g("ul"),r=g("li"),m=g("a"),m.innerHTML=`<span class="icon is-small"><i class="fas fa-circle-nodes"></i></span> 
                    <span>Api Diff</span>`,e=v(),f=g("li"),n=g("a"),n.innerHTML=`<span class="icon is-small"><i class="fas fa-diagram-project"></i></span> 
                    <span>Diagrams Diff</span>`,d(m,"href",o="#"),d(r,"class",p=i[0]==="api-diff"?"is-active":""),d(n,"href",T="#"),d(f,"class",$=i[0]==="diagrams-diff"?"is-active":""),d(l,"class","tabs is-boxed is-floating svelte-1gj2ttm"),d(s,"class","tabs-with-options svelte-1gj2ttm")},m(_,D){y(_,s,D),c(s,l),c(l,t),c(t,r),c(r,m),c(t,e),c(t,f),c(f,n),w||(z=[J(m,"click",i[2]),J(n,"click",i[3])],w=!0)},p(_,[D]){D&1&&p!==(p=_[0]==="api-diff"?"is-active":"")&&d(r,"class",p),D&1&&$!==($=_[0]==="diagrams-diff"?"is-active":"")&&d(f,"class",$)},i:B,o:B,d(_){_&&j(s),w=!1,I(z)}}}function ue(i,s,l){let{selectedTab:t="api-diff"}=s,r=ee();function m(e){return N(this,void 0,void 0,function*(){l(0,t=e),r("tabChange",{selectedTab:t})})}let o=()=>m("api-diff"),p=()=>m("diagrams-diff");return i.$$set=e=>{"selectedTab"in e&&l(0,t=e.selectedTab)},[t,m,o,p]}var W=class extends S{constructor(s){super(),R(this,s,ue,me,q,{selectedTab:0},ce)}},oe=W;function de(i){F(i,"svelte-1nizkyl",".is-center.svelte-1nizkyl{display:flex;justify-content:center;align-items:center;flex-direction:column}")}function fe(i){let s,l,t,r,m,o,p;return s=new oe({props:{selectedTab:i[1]}}),s.$on("tabChange",i[6]),r=new Q({props:{isVisible:i[1]==="api-diff",$$slots:{default:[$e]},$$scope:{ctx:i}}}),o=new Q({props:{isVisible:i[1]==="diagrams-diff",$$slots:{default:[ge]},$$scope:{ctx:i}}}),{c(){k(s.$$.fragment),l=v(),t=g("div"),k(r.$$.fragment),m=v(),k(o.$$.fragment),d(t,"class","box flat-top")},m(e,f){C(s,e,f),y(e,l,f),y(e,t,f),C(r,t,null),c(t,m),C(o,t,null),p=!0},p(e,f){let n={};f&2&&(n.selectedTab=e[1]),s.$set(n);let T={};f&2&&(T.isVisible=e[1]==="api-diff"),f&128&&(T.$$scope={dirty:f,ctx:e}),r.$set(T);let $={};f&2&&($.isVisible=e[1]==="diagrams-diff"),f&128&&($.$$scope={dirty:f,ctx:e}),o.$set($)},i(e){p||(b(s.$$.fragment,e),b(r.$$.fragment,e),b(o.$$.fragment,e),p=!0)},o(e){h(s.$$.fragment,e),h(r.$$.fragment,e),h(o.$$.fragment,e),p=!1},d(e){L(s,e),e&&j(l),e&&j(t),L(r),L(o)}}}function $e(i){let s;return{c(){s=G("Api diff")},m(l,t){y(l,s,t)},d(l){l&&j(s)}}}function ge(i){let s;return{c(){s=G("Diagrams diff")},m(l,t){y(l,s,t)},d(l){l&&j(s)}}}function _e(i){let s,l,t,r,m,o,p,e,f,n,T,$,w,z,_,D,M,Y,O,P,H,E;s=new ae({props:{activePage:"compare"}}),e=new U({}),e.$on("apiChange",i[5](i[3])),n=new K({props:{messages:i[3].errors}}),_=new U({}),_.$on("apiChange",i[5](i[4])),M=new K({props:{messages:i[4].errors}});let u=i[0]&&fe(i);return H=new ie({}),{c(){k(s.$$.fragment),l=v(),t=g("div"),r=g("section"),r.innerHTML=`<div class="hero-body"><h1 class="title">Api Compare</h1> 
      <p class="subtitle">List changes between two Apis</p></div>`,m=v(),o=g("div"),p=g("div"),k(e.$$.fragment),f=v(),k(n.$$.fragment),T=v(),$=g("div"),$.innerHTML='<p class="title is-2"><i class="fa-solid fa-right-long"></i></p>',w=v(),z=g("div"),k(_.$$.fragment),D=v(),k(M.$$.fragment),Y=v(),u&&u.c(),P=v(),k(H.$$.fragment),d(r,"class","hero is-small"),d(p,"class","column"),d($,"class","column is-center is-narrow svelte-1nizkyl"),d(z,"class","column"),d(o,"class","columns"),d(t,"class",O="container "+(i[2].fluidLayout?"is-fluid":""))},m(a,A){C(s,a,A),y(a,l,A),y(a,t,A),c(t,r),c(t,m),c(t,o),c(o,p),C(e,p,null),c(p,f),C(n,p,null),c(o,T),c(o,$),c(o,w),c(o,z),C(_,z,null),c(z,D),C(M,z,null),c(t,Y),u&&u.m(t,null),y(a,P,A),C(H,a,A),E=!0},p(a,[A]){a[0]?u?(u.p(a,A),A&1&&b(u,1)):(u=fe(a),u.c(),b(u,1),u.m(t,null)):u&&(te(),h(u,1,1,()=>{u=null}),se()),(!E||A&4&&O!==(O="container "+(a[2].fluidLayout?"is-fluid":"")))&&d(t,"class",O)},i(a){E||(b(s.$$.fragment,a),b(e.$$.fragment,a),b(n.$$.fragment,a),b(_.$$.fragment,a),b(M.$$.fragment,a),b(u),b(H.$$.fragment,a),E=!0)},o(a){h(s.$$.fragment,a),h(e.$$.fragment,a),h(n.$$.fragment,a),h(_.$$.fragment,a),h(M.$$.fragment,a),h(u),h(H.$$.fragment,a),E=!1},d(a){L(s,a),a&&j(l),a&&j(t),L(e),L(n),L(_),L(M),u&&u.d(),a&&j(P),L(H,a)}}}function ve(i,s,l){let t;x(i,ne,n=>l(2,t=n));let r={api:null,errors:[]},m={api:null,errors:[]},o=!1,p="api-diff";function e(n){return T=>N(this,void 0,void 0,function*(){let $=T.detail.apiObject;try{n.api=null,n.errors=[],$&&(n.api=le($),n.api.setModelsTitle())}catch(w){n.errors=[...n.errors,"Error: "+w.message]}if(n.api)try{yield n.api.resolveReferences()}catch(w){console.error(w),n.errors=[...n.errors,"Error while parsing api: "+w.message]}console.log({leftItem:r,rightItem:m}),l(0,o=!!r.api&&!!m.api),console.log({bothValidItems:o})})}function f(n){l(1,p=n.detail.selectedTab)}return[o,p,t,r,m,e,f]}var X=class extends S{constructor(s){super(),R(this,s,ve,_e,q,{},de)}},pe=X;new pe({target:document.body});Z();
