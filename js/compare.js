// Project: https://github.com/marc0l92/api-tools
import{a as W}from"./chunk-PEBC57KL.js";import{d as ge,k as X}from"./chunk-JKHVQZZP.js";import"./chunk-JRH7LPOF.js";import{a as K}from"./chunk-AXQI5V6D.js";import{$ as k,A as y,B as C,D as c,F as T,H as G,I as J,K as h,P as oe,S as fe,V as pe,W as ue,X as v,Y as w,Z as L,_ as j,aa as P,ba as D,ca as me,fa as U,h as z,m as re,n as H,na as ce,o as ae,oa as de,p as B,q as M,s as le,y as m,z as F}from"./chunk-QWDTV6NO.js";z();z();z();function we(i){let t;return{c(){t=c("div")},m(s,e){y(s,t,e)},p:H,i:H,o:H,d(s){s&&C(t)}}}function Ae(i,t,s){let{leftApi:e}=t,{rightApi:n}=t;return i.$$set=r=>{"leftApi"in r&&s(0,e=r.leftApi),"rightApi"in r&&s(1,n=r.rightApi)},[e,n]}var Y=class extends D{constructor(t){super(),P(this,t,Ae,we,M,{leftApi:0,rightApi:1})}},he=Y;z();function Te(i){let t;return{c(){t=c("div")},m(s,e){y(s,t,e)},p:H,i:H,o:H,d(s){s&&C(t)}}}function ye(i,t,s){let{leftApi:e}=t,{rightApi:n}=t;return i.$$set=r=>{"leftApi"in r&&s(0,e=r.leftApi),"rightApi"in r&&s(1,n=r.rightApi)},[e,n]}var Z=class extends D{constructor(t){super(),P(this,t,ye,Te,M,{leftApi:0,rightApi:1})}},$e=Z;z();function Ce(i){F(i,"svelte-1gj2ttm",".tabs-with-options.svelte-1gj2ttm.svelte-1gj2ttm{display:flex;flex-wrap:nowrap;align-content:center;align-items:stretch}.tabs-with-options.svelte-1gj2ttm .tabs.svelte-1gj2ttm{flex-grow:1;margin-bottom:0}")}function Le(i){let t,s,e,n,r,f,u,a,p,d,l,$,S,b;return{c(){t=c("div"),s=c("div"),e=c("ul"),n=c("li"),r=c("a"),r.innerHTML=`<span class="icon is-small"><i class="fas fa-circle-nodes"></i></span> 
                    <span>Api Diff</span>`,a=T(),p=c("li"),d=c("a"),d.innerHTML=`<span class="icon is-small"><i class="fas fa-diagram-project"></i></span> 
                    <span>Diagrams Diff</span>`,h(r,"href",f="#"),h(n,"class",u=i[0]==="api-diff"?"is-active":""),h(d,"href",l="#"),h(p,"class",$=i[0]==="diagrams-diff"?"is-active":""),h(s,"class","tabs is-boxed is-floating svelte-1gj2ttm"),h(t,"class","tabs-with-options svelte-1gj2ttm")},m(_,V){y(_,t,V),m(t,s),m(s,e),m(e,n),m(n,r),m(e,a),m(e,p),m(p,d),S||(b=[G(r,"click",J(i[2])),G(d,"click",J(i[3]))],S=!0)},p(_,[V]){V&1&&u!==(u=_[0]==="api-diff"?"is-active":"")&&h(n,"class",u),V&1&&$!==($=_[0]==="diagrams-diff"?"is-active":"")&&h(p,"class",$)},i:H,o:H,d(_){_&&C(t),S=!1,ae(b)}}}function je(i,t,s){let{selectedTab:e="api-diff"}=t,n=fe();function r(a){return U(this,void 0,void 0,function*(){s(0,e=a),n("tabChange",{selectedTab:e})})}let f=()=>r("api-diff"),u=()=>r("diagrams-diff");return i.$$set=a=>{"selectedTab"in a&&s(0,e=a.selectedTab)},[e,r,f,u]}var I=class extends D{constructor(t){super(),P(this,t,je,Le,M,{selectedTab:0},Ce)}},_e=I;function ke(i){F(i,"svelte-1nizkyl",".is-center.svelte-1nizkyl{display:flex;justify-content:center;align-items:center;flex-direction:column}")}function ve(i){let t,s,e,n,r,f,u;return t=new _e({props:{selectedTab:i[3]}}),t.$on("tabChange",i[6]),n=new W({props:{isVisible:i[3]==="api-diff",$$slots:{default:[He]},$$scope:{ctx:i}}}),f=new W({props:{isVisible:i[3]==="diagrams-diff",$$slots:{default:[ze]},$$scope:{ctx:i}}}),{c(){L(t.$$.fragment),s=T(),e=c("div"),L(n.$$.fragment),r=T(),L(f.$$.fragment),h(e,"class","box flat-top")},m(a,p){j(t,a,p),y(a,s,p),y(a,e,p),j(n,e,null),m(e,r),j(f,e,null),u=!0},p(a,p){let d={};p&8&&(d.selectedTab=a[3]),t.$set(d);let l={};p&8&&(l.isVisible=a[3]==="api-diff"),p&259&&(l.$$scope={dirty:p,ctx:a}),n.$set(l);let $={};p&8&&($.isVisible=a[3]==="diagrams-diff"),p&259&&($.$$scope={dirty:p,ctx:a}),f.$set($)},i(a){u||(v(t.$$.fragment,a),v(n.$$.fragment,a),v(f.$$.fragment,a),u=!0)},o(a){w(t.$$.fragment,a),w(n.$$.fragment,a),w(f.$$.fragment,a),u=!1},d(a){k(t,a),a&&C(s),a&&C(e),k(n),k(f)}}}function He(i){let t,s;return t=new he({props:{leftApi:i[0].api,rightApi:i[1].api}}),{c(){L(t.$$.fragment)},m(e,n){j(t,e,n),s=!0},p(e,n){let r={};n&1&&(r.leftApi=e[0].api),n&2&&(r.rightApi=e[1].api),t.$set(r)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){k(t,e)}}}function ze(i){let t,s;return t=new $e({props:{leftApi:i[0].api,rightApi:i[1].api}}),{c(){L(t.$$.fragment)},m(e,n){j(t,e,n),s=!0},p(e,n){let r={};n&1&&(r.leftApi=e[0].api),n&2&&(r.rightApi=e[1].api),t.$set(r)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){k(t,e)}}}function Se(i){let t,s,e,n,r,f,u,a,p,d,l,$,S,b,_,V,q,ee,O,Q,E,R;t=new de({props:{activePage:"compare"}}),a=new X({props:{browserHash:i[0].hash}}),a.$on("apiChange",function(){B(i[5](i[0]))&&i[5](i[0]).apply(this,arguments)}),d=new K({props:{messages:i[0].errors}}),_=new X({props:{browserHash:i[1].hash}}),_.$on("apiChange",function(){B(i[5](i[1]))&&i[5](i[1]).apply(this,arguments)}),q=new K({props:{messages:i[1].errors}});let g=i[2]&&ve(i);return E=new me({}),{c(){L(t.$$.fragment),s=T(),e=c("div"),n=c("section"),n.innerHTML=`<div class="hero-body"><h1 class="title">Api Compare</h1> 
      <p class="subtitle">List changes between two Apis</p></div>`,r=T(),f=c("div"),u=c("div"),L(a.$$.fragment),p=T(),L(d.$$.fragment),l=T(),$=c("div"),$.innerHTML='<p class="title is-2"><i class="fa-solid fa-right-long"></i></p>',S=T(),b=c("div"),L(_.$$.fragment),V=T(),L(q.$$.fragment),ee=T(),g&&g.c(),Q=T(),L(E.$$.fragment),h(n,"class","hero is-small"),h(u,"class","column"),h($,"class","column is-center is-narrow svelte-1nizkyl"),h(b,"class","column"),h(f,"class","columns"),h(e,"class",O="container "+(i[4].fluidLayout?"is-fluid":""))},m(o,A){j(t,o,A),y(o,s,A),y(o,e,A),m(e,n),m(e,r),m(e,f),m(f,u),j(a,u,null),m(u,p),j(d,u,null),m(f,l),m(f,$),m(f,S),m(f,b),j(_,b,null),m(b,V),j(q,b,null),m(e,ee),g&&g.m(e,null),y(o,Q,A),j(E,o,A),R=!0},p(o,[A]){i=o;let te={};A&1&&(te.browserHash=i[0].hash),a.$set(te);let ie={};A&1&&(ie.messages=i[0].errors),d.$set(ie);let se={};A&2&&(se.browserHash=i[1].hash),_.$set(se);let ne={};A&2&&(ne.messages=i[1].errors),q.$set(ne),i[2]?g?(g.p(i,A),A&4&&v(g,1)):(g=ve(i),g.c(),v(g,1),g.m(e,null)):g&&(pe(),w(g,1,1,()=>{g=null}),ue()),(!R||A&16&&O!==(O="container "+(i[4].fluidLayout?"is-fluid":"")))&&h(e,"class",O)},i(o){R||(v(t.$$.fragment,o),v(a.$$.fragment,o),v(d.$$.fragment,o),v(_.$$.fragment,o),v(q.$$.fragment,o),v(g),v(E.$$.fragment,o),R=!0)},o(o){w(t.$$.fragment,o),w(a.$$.fragment,o),w(d.$$.fragment,o),w(_.$$.fragment,o),w(q.$$.fragment,o),w(g),w(E.$$.fragment,o),R=!1},d(o){k(t,o),o&&C(s),o&&C(e),k(a),k(d),k(_),k(q),g&&g.d(),o&&C(Q),k(E,o)}}}function Me(i,t,s){let e;le(i,ce,l=>s(4,e=l));let n={hash:null,api:null,errors:[]},r={hash:null,api:null,errors:[]},f=!1,u="api-diff";function a(){let l=new URLSearchParams(window.location.search);n.hash&&l.set("leftApi",n.hash),r.hash&&l.set("rightApi",r.hash),window.history.pushState(null,null,"?"+l.toString())}function p(l){return $=>U(this,void 0,void 0,function*(){let S=$.detail.apiObject;if(l.api=null,l.errors=[],l.hash=$.detail.hash,S){try{l.api=ge(S),l.api.setModelsTitle()}catch(b){l.errors=[...l.errors,"Error: "+b.message]}if(l.api)try{yield l.api.resolveReferences()}catch(b){console.error(b),l.errors=[...l.errors,"Error while parsing api: "+b.message]}}s(2,f=!!n.api&&!!r.api),a()})}function d(l){s(3,u=l.detail.selectedTab)}return oe(()=>{let l=new URLSearchParams(window.location.search);s(0,n.hash=l.get("leftApi"),n),s(1,r.hash=l.get("rightApi"),r)}),[n,r,f,u,e,p,d]}var x=class extends D{constructor(t){super(),P(this,t,Me,Se,M,{},ke)}},be=x;new be({target:document.body});re();
