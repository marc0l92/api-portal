// Project: https://github.com/marc0l92/api-tools
import{a as le}from"./chunk-F5SK5JUS.js";import{d as Ae,l as re}from"./chunk-ZHJG5MNP.js";import"./chunk-BWUQXSNK.js";import{a as ne}from"./chunk-PZEKVWKH.js";import{$ as M,A as D,B as k,C as Y,D as b,E as j,F as A,G as J,H as Z,I as se,K as _,L as K,P as ye,S as ve,V as L,W as P,X as d,Y as h,Z as R,_ as N,aa as U,ba as Q,ca as Ee,fa as x,h as I,m as De,n as z,na as $e,o as ke,oa as Ce,p as ae,q as H,s as we,y as u,z as F}from"./chunk-G7MV4BHC.js";I();I();I();I();I();var X={["Added"]:"is-success",["Modified"]:"is-warning",["Removed"]:"is-danger"},Be=["title","type","example","minLength","maxLength","minItems","maxItems","minProperties","maxProperties","pattern","format","enum","description","required","additionalProperties","readOnly","writeOnly"],Se={title:()=>!0,example:()=>!0,description:()=>!0,type:(i,e)=>i===e,minLength:(i,e,a)=>a===0&&i>=e||a===1&&i<=e,maxLength:(i,e,a)=>a===0&&i<=e||a===1&&i>=e,minItems:(i,e,a)=>a===0&&i>=e||a===1&&i<=e,maxItems:(i,e,a)=>a===0&&i<=e||a===1&&i>=e,minProperties:(i,e,a)=>a===0&&i>=e||a===1&&i<=e,maxProperties:(i,e,a)=>a===0&&i<=e||a===1&&i>=e,pattern:(i,e)=>i===e,format:(i,e)=>i===e,enum:(i,e)=>i.every(a=>e.indexOf(a)!==-1),required:(i,e,a)=>a===0&&e.every(t=>i.indexOf(t)!==-1)||a===1&&i.every(t=>e.indexOf(t)!==-1),readOnly:(i,e,a,t)=>a===1||i===e||e===!1&&!t,writeOnly:(i,e,a,t)=>a===0||i===e||e===!0&&!t||e===!1&&!t,additionalProperties:(i,e,a)=>a===0&&i!==e&&e!==!1};function Ne(i,e){let a={isBackwardCompatible:!0,metadata:[],services:{}};a.metadata=te(Te(i),Te(e)).items;let t=e.getServices();for(let s of i.getServices()){let f=t.findIndex(n=>n.getName()===s.getName());if(f>=0){let n=t[f],l={diffType:"Modified",isBackwardCompatible:!0,metadata:{isBackwardCompatible:!0,items:[]},parameters:{isBackwardCompatible:!0,items:[]},request:{isBackwardCompatible:!0,items:[]},responses:{}};l.metadata=te(Oe(s),Oe(n)),l.parameters=pt(s.getRequestParameters(),n.getRequestParameters()),l.request=fe(s.getRequest(),n.getRequest(),0),l.responses=ct(s.getResponses(),n.getResponses()),(l.metadata.items.length||l.parameters.items.length||l.request.items.length||Object.keys(l.responses).length)&&(l.isBackwardCompatible&&(l.isBackwardCompatible=l.metadata.isBackwardCompatible&&l.parameters.isBackwardCompatible&&l.request.isBackwardCompatible&&Object.values(l.responses).every(r=>r.isBackwardCompatible)),a.isBackwardCompatible&&(a.isBackwardCompatible=l.isBackwardCompatible),a.services[s.getName()]=l),t.splice(f,1)}else a.isBackwardCompatible=!1,a.services[s.getName()]={diffType:"Removed",isBackwardCompatible:!1}}for(let s of t)a.services[s.getName()]={diffType:"Added",isBackwardCompatible:!0};return a}function Te(i){return Object.fromEntries(Object.entries(i.toJson()).filter(([e,a])=>["paths","definitions","responses","parameters","components"].indexOf(e)===-1))}function Oe(i){return Object.fromEntries(Object.entries(i.toJson()).filter(([e,a])=>["parameters","responses","requestBody"].indexOf(e)===-1))}function Re(i){return Object.fromEntries(Object.entries(i).filter(([e,a])=>["schema"].indexOf(e)===-1))}function ee(i,e,a){return a?`${i}[${e}]`:`${i}/${e}`}function ot(i,e){return i==null?"Added":e==null?"Removed":i===e?"No Changes":"Modified"}function te(i,e,a="",t=[]){let s={isBackwardCompatible:!0,items:[]},f=Object.keys(e);for(let n of Object.keys(i)){let l=f.indexOf(n);if(l>=0){if(typeof i[n]=="object"&&typeof e[n]=="object"){let r=te(i[n],e[n],ee(a,n,Array.isArray(i)),t);s.isBackwardCompatible&&(s.isBackwardCompatible=r.isBackwardCompatible),s.items=s.items.concat(r.items)}else if(i[n]!==e[n]){let r=ee(a,n,Array.isArray(i)),p=t.indexOf(r)===-1;s.isBackwardCompatible&&(s.isBackwardCompatible=p),s.items.push({path:r,diffType:"Modified",leftValue:i[n],rightValue:e[n],isBackwardCompatible:p})}f.splice(l,1)}else{let r=ee(a,n,Array.isArray(i)),p=t.indexOf(r)===-1;s.isBackwardCompatible&&(s.isBackwardCompatible=p),s.items.push({path:r,diffType:"Removed",leftValue:i[n],isBackwardCompatible:p})}}for(let n of f){let l=ee(a,n,Array.isArray(e)),r=t.indexOf(l)===-1;s.isBackwardCompatible&&(s.isBackwardCompatible=r),s.items.push({path:l,diffType:"Added",rightValue:e[n],isBackwardCompatible:r})}return s}function pt(i,e){let a={isBackwardCompatible:!0,items:[]},t=Object.keys(e).map(s=>parseInt(s));for(let s of i){let f=e.findIndex(n=>n.name===s.name&&n.in===s.in);if(f>=0){let n=e[f],l=fe(s,n,0);a.isBackwardCompatible&&(a.isBackwardCompatible=l.isBackwardCompatible),a.items=a.items.concat(l.items),t.splice(t.indexOf(f),1)}else a.isBackwardCompatible=!1,a.items.push({path:s["x-path"],diffType:"Removed",leftValue:s,isBackwardCompatible:!1})}for(let s of t){let f=e[s];a.items.push({path:f["x-path"],diffType:"Added",rightValue:f,isBackwardCompatible:!0})}return a}function fe(i,e,a){let t={isBackwardCompatible:!0,items:[]};if(!i&&!e)return t;if(!i&&e)return{items:[{path:e["x-path"],diffType:"Added",rightValue:e,isBackwardCompatible:!0}],isBackwardCompatible:!0};if(i&&!e)return{items:[{path:i["x-path"],diffType:"Removed",rightValue:i,isBackwardCompatible:!1}],isBackwardCompatible:!1};let s=["in","name","type","required","schema"],f=te(Re(i),Re(e),i["x-path"],s);return t.model=mt(i.schema,e.schema,a),t.isBackwardCompatible&&(t.isBackwardCompatible=f.isBackwardCompatible&&t.model.isBackwardCompatible),t}function ct(i,e){let a={},t=Object.keys(e);for(let s of Object.keys(i)){let f=i[s],n=t.indexOf(s);if(n>=0){let l=e[s],r=fe(f,l,1);r.items.length&&(a[s]=r),t.splice(n,1)}else a[s]={items:[{path:f["x-path"],diffType:"Removed",rightValue:f,isBackwardCompatible:!1}],isBackwardCompatible:!1}}for(let s of t){let f=e[s];a[s]={items:[{path:f["x-path"],diffType:"Added",rightValue:f,isBackwardCompatible:!0}],isBackwardCompatible:!0}}return a}function mt(i,e,a,t=!1){var f,n;if(!i&&!e)return{diffType:"No Changes",isBackwardCompatible:!0,leftValue:i,rightValue:e};if(!i&&e)return{diffType:"Added",isBackwardCompatible:a===1||!t,rightValue:e};if(i&&!e)return{diffType:"Removed",isBackwardCompatible:a===0||!t,leftValue:i};let s={isBackwardCompatible:!0,diffType:"Modified"};for(let l of Be)s[l]={diffType:ot(i[l],e[l]),isBackwardCompatible:Se[l]((f=i[l])!=null?f:null,(n=e[l])!=null?n:null,a,t),leftValue:i[l],rightValue:e[l]};return s}I();I();function ut(i){F(i,"svelte-p30usc",".longText.svelte-p30usc{cursor:pointer;word-break:break-all}")}function dt(i){let e,a;return{c(){e=b("div"),a=j(i[1])},m(t,s){D(t,e,s),u(e,a)},p(t,s){s&2&&K(a,t[1])},d(t){t&&k(e)}}}function bt(i){let e,a=(i[2]?i[1]:i[3])+"",t,s,f;return{c(){e=b("div"),t=j(a),_(e,"class","longText svelte-p30usc"),_(e,"title","Double click to expand")},m(n,l){D(n,e,l),u(e,t),s||(f=Z(e,"dblclick",i[4]),s=!0)},p(n,l){l&14&&a!==(a=(n[2]?n[1]:n[3])+"")&&K(t,a)},d(n){n&&k(e),s=!1,f()}}}function _t(i){let e;function a(f,n){return f[1].length>f[0]?bt:dt}let t=a(i,-1),s=t(i);return{c(){s.c(),e=J()},m(f,n){s.m(f,n),D(f,e,n)},p(f,[n]){t===(t=a(f,n))&&s?s.p(f,n):(s.d(1),s=t(f),s&&(s.c(),s.m(e.parentNode,e)))},i:z,o:z,d(f){s.d(f),f&&k(e)}}}function gt(i,e,a){let{maxLength:t=30}=e,{text:s}=e,{keepEnd:f=!1}=e,n=!1,l="";function r(){a(2,n=!n)}return i.$$set=p=>{"maxLength"in p&&a(0,t=p.maxLength),"text"in p&&a(1,s=p.text),"keepEnd"in p&&a(5,f=p.keepEnd)},i.$$.update=()=>{if(i.$$.dirty&35)e:s&&(s.length>t?f?a(3,l="..."+s.substring(s.length-t)):a(3,l=s.substring(0,t)+"..."):a(3,l=s))},[t,s,n,l,r,f]}var oe=class extends Q{constructor(e){super(),U(this,e,gt,_t,H,{maxLength:0,text:1,keepEnd:5},ut)}},ie=oe;function ht(i){F(i,"svelte-1fdpyhf",".diff-table-container.svelte-1fdpyhf.svelte-1fdpyhf{overflow-x:auto;max-width:100%}.diff-table-container.svelte-1fdpyhf .is-fullwidth.svelte-1fdpyhf{width:calc(100% - 1px)}")}function Me(i,e,a){let t=i.slice();return t[1]=e[a],t}function qe(i){let e,a,t,s,f,n,l=i[0],r=[];for(let o=0;o<l.length;o+=1)r[o]=je(Me(i,l,o));let p=o=>h(r[o],1,1,()=>{r[o]=null});return{c(){e=b("div"),a=b("table"),t=b("thead"),t.innerHTML=`<tr><th>Type</th> 
                    <th>Location</th> 
                    <th>Left Value</th> 
                    <th>Right Value</th></tr>`,s=A(),f=b("tbody");for(let o=0;o<r.length;o+=1)r[o].c();_(a,"class","table is-bordered is-striped is-narrow is-hoverable is-fullwidth svelte-1fdpyhf"),_(e,"class","diff-table-container svelte-1fdpyhf")},m(o,C){D(o,e,C),u(e,a),u(a,t),u(a,s),u(a,f);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(f,null);n=!0},p(o,C){if(C&1){l=o[0];let m;for(m=0;m<l.length;m+=1){let c=Me(o,l,m);r[m]?(r[m].p(c,C),d(r[m],1)):(r[m]=je(c),r[m].c(),d(r[m],1),r[m].m(f,null))}for(L(),m=l.length;m<r.length;m+=1)p(m);P()}},i(o){if(!n){for(let C=0;C<l.length;C+=1)d(r[C]);n=!0}},o(o){r=r.filter(Boolean);for(let C=0;C<r.length;C+=1)h(r[C]);n=!1},d(o){o&&k(e),Y(r,o)}}}function Ie(i){let e;return{c(){e=b("i"),_(e,"class","fa-solid fa-triangle-exclamation mr-1"),_(e,"title","Not backward compatible change")},m(a,t){D(a,e,t)},d(a){a&&k(e)}}}function je(i){let e,a,t,s,f=i[1].diffType+"",n,l,r,p,o,C,m,c,E,w,O,q,T,$=!i[1].isBackwardCompatible&&Ie(i);return o=new ie({props:{text:i[1].path||"",maxLength:kt,keepEnd:!0}}),c=new ie({props:{text:i[1].leftValue?JSON.stringify(i[1].leftValue):"",maxLength:Le}}),O=new ie({props:{text:i[1].rightValue?JSON.stringify(i[1].rightValue):"",maxLength:Le}}),{c(){e=b("tr"),a=b("td"),t=b("span"),$&&$.c(),s=A(),n=j(f),r=A(),p=b("td"),R(o.$$.fragment),C=A(),m=b("td"),R(c.$$.fragment),E=A(),w=b("td"),R(O.$$.fragment),q=A(),_(t,"class",l="tag "+X[i[1].diffType]+" svelte-1fdpyhf")},m(y,B){D(y,e,B),u(e,a),u(a,t),$&&$.m(t,null),u(t,s),u(t,n),u(e,r),u(e,p),N(o,p,null),u(e,C),u(e,m),N(c,m,null),u(e,E),u(e,w),N(O,w,null),u(e,q),T=!0},p(y,B){y[1].isBackwardCompatible?$&&($.d(1),$=null):$||($=Ie(y),$.c(),$.m(t,s)),(!T||B&1)&&f!==(f=y[1].diffType+"")&&K(n,f),(!T||B&1&&l!==(l="tag "+X[y[1].diffType]+" svelte-1fdpyhf"))&&_(t,"class",l);let S={};B&1&&(S.text=y[1].path||""),o.$set(S);let g={};B&1&&(g.text=y[1].leftValue?JSON.stringify(y[1].leftValue):""),c.$set(g);let v={};B&1&&(v.text=y[1].rightValue?JSON.stringify(y[1].rightValue):""),O.$set(v)},i(y){T||(d(o.$$.fragment,y),d(c.$$.fragment,y),d(O.$$.fragment,y),T=!0)},o(y){h(o.$$.fragment,y),h(c.$$.fragment,y),h(O.$$.fragment,y),T=!1},d(y){y&&k(e),$&&$.d(),M(o),M(c),M(O)}}}function Dt(i){let e,a,t=i[0]&&i[0].length>0&&qe(i);return{c(){t&&t.c(),e=J()},m(s,f){t&&t.m(s,f),D(s,e,f),a=!0},p(s,[f]){s[0]&&s[0].length>0?t?(t.p(s,f),f&1&&d(t,1)):(t=qe(s),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(L(),h(t,1,1,()=>{t=null}),P())},i(s){a||(d(t),a=!0)},o(s){h(t),a=!1},d(s){t&&t.d(s),s&&k(e)}}}var kt=30,Le=120;function wt(i,e,a){let{diffItems:t}=e;return i.$$set=s=>{"diffItems"in s&&a(0,t=s.diffItems)},[t]}var pe=class extends Q{constructor(e){super(),U(this,e,wt,Dt,H,{diffItems:0},ht)}},W=pe;function yt(i){F(i,"svelte-11qy9pw","details[open].svelte-11qy9pw:not(:last-child){margin-bottom:1.5em}.table-title.svelte-11qy9pw{font-weight:bold}")}function Pe(i,e,a){let t=i.slice();return t[3]=e[a][0],t[4]=e[a][1],t}function Ve(i,e,a){let t=i.slice();return t[7]=e[a][0],t[8]=e[a][1],t}function He(i){let e,a,t,s=!i[0].metadata.length&&!Object.keys(i[0].services).length,f,n,l=!i[0].isBackwardCompatible&&Ue(i),r=i[0].metadata.length>0&&Qe(i),p=Object.entries(i[0].services),o=[];for(let c=0;c<p.length;c+=1)o[c]=tt(Pe(i,p,c));let C=c=>h(o[c],1,1,()=>{o[c]=null}),m=s&&it(i);return{c(){l&&l.c(),e=A(),r&&r.c(),a=A();for(let c=0;c<o.length;c+=1)o[c].c();t=A(),m&&m.c(),f=J()},m(c,E){l&&l.m(c,E),D(c,e,E),r&&r.m(c,E),D(c,a,E);for(let w=0;w<o.length;w+=1)o[w]&&o[w].m(c,E);D(c,t,E),m&&m.m(c,E),D(c,f,E),n=!0},p(c,E){if(c[0].isBackwardCompatible?l&&(l.d(1),l=null):l||(l=Ue(c),l.c(),l.m(e.parentNode,e)),c[0].metadata.length>0?r?(r.p(c,E),E&1&&d(r,1)):(r=Qe(c),r.c(),d(r,1),r.m(a.parentNode,a)):r&&(L(),h(r,1,1,()=>{r=null}),P()),E&1){p=Object.entries(c[0].services);let w;for(w=0;w<p.length;w+=1){let O=Pe(c,p,w);o[w]?(o[w].p(O,E),d(o[w],1)):(o[w]=tt(O),o[w].c(),d(o[w],1),o[w].m(t.parentNode,t))}for(L(),w=p.length;w<o.length;w+=1)C(w);P()}E&1&&(s=!c[0].metadata.length&&!Object.keys(c[0].services).length),s?m||(m=it(c),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},i(c){if(!n){d(r);for(let E=0;E<p.length;E+=1)d(o[E]);n=!0}},o(c){h(r),o=o.filter(Boolean);for(let E=0;E<o.length;E+=1)h(o[E]);n=!1},d(c){l&&l.d(c),c&&k(e),r&&r.d(c),c&&k(a),Y(o,c),c&&k(t),m&&m.d(c),c&&k(f)}}}function Ue(i){let e;return{c(){e=b("div"),e.innerHTML=`<i class="fa-solid fa-triangle-exclamation mx-1" title="Not backward compatible change"></i>
                Not backward compatible changes detected`,_(e,"class","notification is-small is-danger")},m(a,t){D(a,e,t)},d(a){a&&k(e)}}}function Qe(i){let e,a,t,s,f;return s=new W({props:{diffItems:i[0].metadata}}),{c(){e=b("details"),a=b("summary"),a.textContent="Apis Metadata",t=A(),R(s.$$.fragment),_(a,"class","title is-5"),_(e,"class","svelte-11qy9pw")},m(n,l){D(n,e,l),u(e,a),u(e,t),N(s,e,null),f=!0},p(n,l){let r={};l&1&&(r.diffItems=n[0].metadata),s.$set(r)},i(n){f||(d(s.$$.fragment,n),f=!0)},o(n){h(s.$$.fragment,n),f=!1},d(n){n&&k(e),M(s)}}}function Fe(i){let e;return{c(){e=b("i"),_(e,"class","fa-solid fa-triangle-exclamation mr-1"),_(e,"title","Not backward compatible change")},m(a,t){D(a,e,t)},d(a){a&&k(e)}}}function ze(i){let e,a,t,s,f,n=!i[4].metadata.isBackwardCompatible&&Ke(i);return s=new W({props:{diffItems:i[4].metadata.items}}),{c(){e=b("p"),n&&n.c(),a=j(`
                        Metadata`),t=A(),R(s.$$.fragment),_(e,"class","table-title svelte-11qy9pw")},m(l,r){D(l,e,r),n&&n.m(e,null),u(e,a),D(l,t,r),N(s,l,r),f=!0},p(l,r){l[4].metadata.isBackwardCompatible?n&&(n.d(1),n=null):n||(n=Ke(l),n.c(),n.m(e,a));let p={};r&1&&(p.diffItems=l[4].metadata.items),s.$set(p)},i(l){f||(d(s.$$.fragment,l),f=!0)},o(l){h(s.$$.fragment,l),f=!1},d(l){l&&k(e),n&&n.d(),l&&k(t),M(s,l)}}}function Ke(i){let e;return{c(){e=b("i"),_(e,"class","fa-solid fa-triangle-exclamation mr-1"),_(e,"title","Not backward compatible change")},m(a,t){D(a,e,t)},d(a){a&&k(e)}}}function Je(i){let e,a,t,s,f,n=!i[4].parameters.isBackwardCompatible&&Ge(i);return s=new W({props:{diffItems:i[4].parameters.items}}),{c(){e=b("p"),n&&n.c(),a=j(`
                        Request Parameters`),t=A(),R(s.$$.fragment),_(e,"class","table-title svelte-11qy9pw")},m(l,r){D(l,e,r),n&&n.m(e,null),u(e,a),D(l,t,r),N(s,l,r),f=!0},p(l,r){l[4].parameters.isBackwardCompatible?n&&(n.d(1),n=null):n||(n=Ge(l),n.c(),n.m(e,a));let p={};r&1&&(p.diffItems=l[4].parameters.items),s.$set(p)},i(l){f||(d(s.$$.fragment,l),f=!0)},o(l){h(s.$$.fragment,l),f=!1},d(l){l&&k(e),n&&n.d(),l&&k(t),M(s,l)}}}function Ge(i){let e;return{c(){e=b("i"),_(e,"class","fa-solid fa-triangle-exclamation mr-1"),_(e,"title","Not backward compatible change")},m(a,t){D(a,e,t)},d(a){a&&k(e)}}}function Xe(i){let e,a,t,s,f,n=!i[4].request.isBackwardCompatible&&We(i);return s=new W({props:{diffItems:i[4].request.items}}),{c(){e=b("p"),n&&n.c(),a=j(`
                        Request Body`),t=A(),R(s.$$.fragment),_(e,"class","table-title svelte-11qy9pw")},m(l,r){D(l,e,r),n&&n.m(e,null),u(e,a),D(l,t,r),N(s,l,r),f=!0},p(l,r){l[4].request.isBackwardCompatible?n&&(n.d(1),n=null):n||(n=We(l),n.c(),n.m(e,a));let p={};r&1&&(p.diffItems=l[4].request.items),s.$set(p)},i(l){f||(d(s.$$.fragment,l),f=!0)},o(l){h(s.$$.fragment,l),f=!1},d(l){l&&k(e),n&&n.d(),l&&k(t),M(s,l)}}}function We(i){let e;return{c(){e=b("i"),_(e,"class","fa-solid fa-triangle-exclamation mr-1"),_(e,"title","Not backward compatible change")},m(a,t){D(a,e,t)},d(a){a&&k(e)}}}function Ye(i){let e,a,t=Object.entries(i[4].responses),s=[];for(let n=0;n<t.length;n+=1)s[n]=et(Ve(i,t,n));let f=n=>h(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=J()},m(n,l){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,l);D(n,e,l),a=!0},p(n,l){if(l&1){t=Object.entries(n[4].responses);let r;for(r=0;r<t.length;r+=1){let p=Ve(n,t,r);s[r]?(s[r].p(p,l),d(s[r],1)):(s[r]=et(p),s[r].c(),d(s[r],1),s[r].m(e.parentNode,e))}for(L(),r=t.length;r<s.length;r+=1)f(r);P()}},i(n){if(!a){for(let l=0;l<t.length;l+=1)d(s[l]);a=!0}},o(n){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)h(s[l]);a=!1},d(n){Y(s,n),n&&k(e)}}}function Ze(i){let e,a,t=i[7]+"",s,f,n,l,r=!i[8].isBackwardCompatible&&xe(i);return n=new W({props:{diffItems:i[8].items}}),{c(){e=b("p"),r&&r.c(),a=j(`
                                Response: `),s=j(t),f=A(),R(n.$$.fragment),_(e,"class","table-title svelte-11qy9pw")},m(p,o){D(p,e,o),r&&r.m(e,null),u(e,a),u(e,s),D(p,f,o),N(n,p,o),l=!0},p(p,o){p[8].isBackwardCompatible?r&&(r.d(1),r=null):r||(r=xe(p),r.c(),r.m(e,a)),(!l||o&1)&&t!==(t=p[7]+"")&&K(s,t);let C={};o&1&&(C.diffItems=p[8].items),n.$set(C)},i(p){l||(d(n.$$.fragment,p),l=!0)},o(p){h(n.$$.fragment,p),l=!1},d(p){p&&k(e),r&&r.d(),p&&k(f),M(n,p)}}}function xe(i){let e;return{c(){e=b("i"),_(e,"class","fa-solid fa-triangle-exclamation mr-1"),_(e,"title","Not backward compatible change")},m(a,t){D(a,e,t)},d(a){a&&k(e)}}}function et(i){let e,a,t=i[8].items.length&&Ze(i);return{c(){t&&t.c(),e=J()},m(s,f){t&&t.m(s,f),D(s,e,f),a=!0},p(s,f){s[8].items.length?t?(t.p(s,f),f&1&&d(t,1)):(t=Ze(s),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(L(),h(t,1,1,()=>{t=null}),P())},i(s){a||(d(t),a=!0)},o(s){h(t),a=!1},d(s){t&&t.d(s),s&&k(e)}}}function tt(i){let e,a,t=i[3]+"",s,f,n,l,r,p,o=i[4].diffType+"",C,m,c,E,w,O,q,T=!i[4].isBackwardCompatible&&Fe(i),$=i[4].metadata&&i[4].metadata.items.length&&ze(i),y=i[4].parameters&&i[4].parameters.items.length&&Je(i),B=i[4].request&&i[4].request.items.length&&Xe(i),S=i[4].responses&&Ye(i);return{c(){e=b("details"),a=b("summary"),s=j(t),f=A(),n=b("p"),l=j(`Status:
                    `),r=b("span"),T&&T.c(),p=A(),C=j(o),c=A(),$&&$.c(),E=A(),y&&y.c(),w=A(),B&&B.c(),O=A(),S&&S.c(),_(a,"class","title is-5"),_(r,"class",m="tag "+X[i[4].diffType]+" svelte-11qy9pw"),_(n,"class","mb-2"),e.open=!0,_(e,"class","svelte-11qy9pw")},m(g,v){D(g,e,v),u(e,a),u(a,s),u(e,f),u(e,n),u(n,l),u(n,r),T&&T.m(r,null),u(r,p),u(r,C),u(e,c),$&&$.m(e,null),u(e,E),y&&y.m(e,null),u(e,w),B&&B.m(e,null),u(e,O),S&&S.m(e,null),q=!0},p(g,v){(!q||v&1)&&t!==(t=g[3]+"")&&K(s,t),g[4].isBackwardCompatible?T&&(T.d(1),T=null):T||(T=Fe(g),T.c(),T.m(r,p)),(!q||v&1)&&o!==(o=g[4].diffType+"")&&K(C,o),(!q||v&1&&m!==(m="tag "+X[g[4].diffType]+" svelte-11qy9pw"))&&_(r,"class",m),g[4].metadata&&g[4].metadata.items.length?$?($.p(g,v),v&1&&d($,1)):($=ze(g),$.c(),d($,1),$.m(e,E)):$&&(L(),h($,1,1,()=>{$=null}),P()),g[4].parameters&&g[4].parameters.items.length?y?(y.p(g,v),v&1&&d(y,1)):(y=Je(g),y.c(),d(y,1),y.m(e,w)):y&&(L(),h(y,1,1,()=>{y=null}),P()),g[4].request&&g[4].request.items.length?B?(B.p(g,v),v&1&&d(B,1)):(B=Xe(g),B.c(),d(B,1),B.m(e,O)):B&&(L(),h(B,1,1,()=>{B=null}),P()),g[4].responses?S?(S.p(g,v),v&1&&d(S,1)):(S=Ye(g),S.c(),d(S,1),S.m(e,null)):S&&(L(),h(S,1,1,()=>{S=null}),P())},i(g){q||(d($),d(y),d(B),d(S),q=!0)},o(g){h($),h(y),h(B),h(S),q=!1},d(g){g&&k(e),T&&T.d(),$&&$.d(),y&&y.d(),B&&B.d(),S&&S.d()}}}function it(i){let e;return{c(){e=b("p"),e.textContent="No differences detected"},m(a,t){D(a,e,t)},d(a){a&&k(e)}}}function vt(i){let e,a,t=i[0]&&He(i);return{c(){e=b("div"),t&&t.c()},m(s,f){D(s,e,f),t&&t.m(e,null),a=!0},p(s,[f]){s[0]?t?(t.p(s,f),f&1&&d(t,1)):(t=He(s),t.c(),d(t,1),t.m(e,null)):t&&(L(),h(t,1,1,()=>{t=null}),P())},i(s){a||(d(t),a=!0)},o(s){h(t),a=!1},d(s){s&&k(e),t&&t.d()}}}function Et(i,e,a){let{leftApi:t}=e,{rightApi:s}=e,f;return i.$$set=n=>{"leftApi"in n&&a(1,t=n.leftApi),"rightApi"in n&&a(2,s=n.rightApi)},i.$$.update=()=>{if(i.$$.dirty&6)e:t&&s&&a(0,f=Ne(t,s))},[f,t,s]}var ce=class extends Q{constructor(e){super(),U(this,e,Et,vt,H,{leftApi:1,rightApi:2},yt)}},at=ce;I();function st(i){let e;return{c(){e=j("Ok")},m(a,t){D(a,e,t)},d(a){a&&k(e)}}}function $t(i){let e,a=i[0]&&i[1]&&st(i);return{c(){e=b("div"),a&&a.c()},m(t,s){D(t,e,s),a&&a.m(e,null)},p(t,[s]){t[0]&&t[1]?a||(a=st(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:z,o:z,d(t){t&&k(e),a&&a.d()}}}function Ct(i,e,a){let{leftApi:t}=e,{rightApi:s}=e;return i.$$set=f=>{"leftApi"in f&&a(0,t=f.leftApi),"rightApi"in f&&a(1,s=f.rightApi)},[t,s]}var me=class extends Q{constructor(e){super(),U(this,e,Ct,$t,H,{leftApi:0,rightApi:1})}},nt=me;I();function At(i){F(i,"svelte-1gj2ttm",".tabs-with-options.svelte-1gj2ttm.svelte-1gj2ttm{display:flex;flex-wrap:nowrap;align-content:center;align-items:stretch}.tabs-with-options.svelte-1gj2ttm .tabs.svelte-1gj2ttm{flex-grow:1;margin-bottom:0}")}function Bt(i){let e,a,t,s,f,n,l,r,p,o,C,m,c,E;return{c(){e=b("div"),a=b("div"),t=b("ul"),s=b("li"),f=b("a"),f.innerHTML=`<span class="icon is-small"><i class="fas fa-circle-nodes"></i></span> 
                    <span>Api Diff</span>`,r=A(),p=b("li"),o=b("a"),o.innerHTML=`<span class="icon is-small"><i class="fas fa-diagram-project"></i></span> 
                    <span>Diagrams Diff</span>`,_(f,"href",n="#"),_(s,"class",l=i[0]==="api-diff"?"is-active":""),_(o,"href",C="#"),_(p,"class",m=i[0]==="diagrams-diff"?"is-active":""),_(a,"class","tabs is-boxed is-floating svelte-1gj2ttm"),_(e,"class","tabs-with-options svelte-1gj2ttm")},m(w,O){D(w,e,O),u(e,a),u(a,t),u(t,s),u(s,f),u(t,r),u(t,p),u(p,o),c||(E=[Z(f,"click",se(i[2])),Z(o,"click",se(i[3]))],c=!0)},p(w,[O]){O&1&&l!==(l=w[0]==="api-diff"?"is-active":"")&&_(s,"class",l),O&1&&m!==(m=w[0]==="diagrams-diff"?"is-active":"")&&_(p,"class",m)},i:z,o:z,d(w){w&&k(e),c=!1,ke(E)}}}function St(i,e,a){let{selectedTab:t="api-diff"}=e,s=ve();function f(r){return x(this,void 0,void 0,function*(){a(0,t=r),s("tabChange",{selectedTab:t})})}let n=()=>f("api-diff"),l=()=>f("diagrams-diff");return i.$$set=r=>{"selectedTab"in r&&a(0,t=r.selectedTab)},[t,f,n,l]}var ue=class extends Q{constructor(e){super(),U(this,e,St,Bt,H,{selectedTab:0},At)}},lt=ue;function Tt(i){F(i,"svelte-1nizkyl",".is-center.svelte-1nizkyl{display:flex;justify-content:center;align-items:center;flex-direction:column}")}function rt(i){let e,a,t,s,f,n,l;return e=new lt({props:{selectedTab:i[2]}}),e.$on("tabChange",i[5]),s=new le({props:{isVisible:i[2]==="api-diff",$$slots:{default:[Ot]},$$scope:{ctx:i}}}),n=new le({props:{isVisible:i[2]==="diagrams-diff",$$slots:{default:[Rt]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment),a=A(),t=b("div"),R(s.$$.fragment),f=A(),R(n.$$.fragment),_(t,"class","box flat-top")},m(r,p){N(e,r,p),D(r,a,p),D(r,t,p),N(s,t,null),u(t,f),N(n,t,null),l=!0},p(r,p){let o={};p&4&&(o.selectedTab=r[2]),e.$set(o);let C={};p&4&&(C.isVisible=r[2]==="api-diff"),p&131&&(C.$$scope={dirty:p,ctx:r}),s.$set(C);let m={};p&4&&(m.isVisible=r[2]==="diagrams-diff"),p&131&&(m.$$scope={dirty:p,ctx:r}),n.$set(m)},i(r){l||(d(e.$$.fragment,r),d(s.$$.fragment,r),d(n.$$.fragment,r),l=!0)},o(r){h(e.$$.fragment,r),h(s.$$.fragment,r),h(n.$$.fragment,r),l=!1},d(r){M(e,r),r&&k(a),r&&k(t),M(s),M(n)}}}function Ot(i){let e,a;return e=new at({props:{leftApi:i[0].api,rightApi:i[1].api}}),{c(){R(e.$$.fragment)},m(t,s){N(e,t,s),a=!0},p(t,s){let f={};s&1&&(f.leftApi=t[0].api),s&2&&(f.rightApi=t[1].api),e.$set(f)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){h(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Rt(i){let e,a;return e=new nt({props:{leftApi:i[0].api,rightApi:i[1].api}}),{c(){R(e.$$.fragment)},m(t,s){N(e,t,s),a=!0},p(t,s){let f={};s&1&&(f.leftApi=t[0].api),s&2&&(f.rightApi=t[1].api),e.$set(f)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){h(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Nt(i){let e,a,t,s,f,n,l,r,p,o,C,m,c,E,w,O,q,T,$,y,B,S;e=new Ce({props:{activePage:"compare"}}),r=new re({props:{browserHash:i[0].hash,storagePrefix:"left"}}),r.$on("apiChange",function(){ae(i[4](i[0]))&&i[4](i[0]).apply(this,arguments)}),o=new ne({props:{messages:i[0].errors}}),w=new re({props:{browserHash:i[1].hash,storagePrefix:"right"}}),w.$on("apiChange",function(){ae(i[4](i[1]))&&i[4](i[1]).apply(this,arguments)}),q=new ne({props:{messages:i[1].errors}});let g=i[0].api&&i[1].api&&rt(i);return B=new Ee({}),{c(){R(e.$$.fragment),a=A(),t=b("div"),s=b("section"),s.innerHTML=`<div class="hero-body"><h1 class="title">Api Compare</h1> 
      <p class="subtitle">List changes between two Apis</p></div>`,f=A(),n=b("div"),l=b("div"),R(r.$$.fragment),p=A(),R(o.$$.fragment),C=A(),m=b("div"),m.innerHTML='<p class="title is-2"><i class="fa-solid fa-right-long"></i></p>',c=A(),E=b("div"),R(w.$$.fragment),O=A(),R(q.$$.fragment),T=A(),g&&g.c(),y=A(),R(B.$$.fragment),_(s,"class","hero is-small"),_(l,"class","column"),_(m,"class","column is-center is-narrow svelte-1nizkyl"),_(E,"class","column"),_(n,"class","columns"),_(t,"class",$="container "+(i[3].fluidLayout?"is-fluid":""))},m(v,V){N(e,v,V),D(v,a,V),D(v,t,V),u(t,s),u(t,f),u(t,n),u(n,l),N(r,l,null),u(l,p),N(o,l,null),u(n,C),u(n,m),u(n,c),u(n,E),N(w,E,null),u(E,O),N(q,E,null),u(t,T),g&&g.m(t,null),D(v,y,V),N(B,v,V),S=!0},p(v,[V]){i=v;let be={};V&1&&(be.browserHash=i[0].hash),r.$set(be);let _e={};V&1&&(_e.messages=i[0].errors),o.$set(_e);let ge={};V&2&&(ge.browserHash=i[1].hash),w.$set(ge);let he={};V&2&&(he.messages=i[1].errors),q.$set(he),i[0].api&&i[1].api?g?(g.p(i,V),V&3&&d(g,1)):(g=rt(i),g.c(),d(g,1),g.m(t,null)):g&&(L(),h(g,1,1,()=>{g=null}),P()),(!S||V&8&&$!==($="container "+(i[3].fluidLayout?"is-fluid":"")))&&_(t,"class",$)},i(v){S||(d(e.$$.fragment,v),d(r.$$.fragment,v),d(o.$$.fragment,v),d(w.$$.fragment,v),d(q.$$.fragment,v),d(g),d(B.$$.fragment,v),S=!0)},o(v){h(e.$$.fragment,v),h(r.$$.fragment,v),h(o.$$.fragment,v),h(w.$$.fragment,v),h(q.$$.fragment,v),h(g),h(B.$$.fragment,v),S=!1},d(v){M(e,v),v&&k(a),v&&k(t),M(r),M(o),M(w),M(q),g&&g.d(),v&&k(y),M(B,v)}}}function Mt(i,e,a){let t;we(i,$e,o=>a(3,t=o));let s={hash:null,api:null,errors:[]},f={hash:null,api:null,errors:[]},n="api-diff";function l(){let o=new URLSearchParams(window.location.search);s.hash&&o.set("leftApi",s.hash),f.hash&&o.set("rightApi",f.hash),window.history.pushState(null,null,"?"+o.toString())}function r(o){return C=>x(this,void 0,void 0,function*(){let m=C.detail.apiObject;if(o.api=null,o.errors=[],o.hash=C.detail.hash,m){try{o.api=Ae(m),o.api.setModelsTitle()}catch(c){o.errors=[...o.errors,"Error: "+c.message]}if(o.api)try{yield o.api.resolveReferences()}catch(c){console.error(c),o.errors=[...o.errors,"Error while parsing api: "+c.message]}}a(0,s),a(1,f),l()})}function p(o){a(2,n=o.detail.selectedTab)}return ye(()=>{let o=new URLSearchParams(window.location.search);a(0,s.hash=o.get("leftApi"),s),a(1,f.hash=o.get("rightApi"),f)}),[s,f,n,t,r,p]}var de=class extends Q{constructor(e){super(),U(this,e,Mt,Nt,H,{},Tt)}},ft=de;new ft({target:document.body});De();
