// Project: https://github.com/marc0l92/api-tools
import{b as Y}from"./chunk-AXU3TOLV.js";import{a as N,b as U}from"./chunk-IKILPUXY.js";import{c as ce}from"./chunk-H52OBMJJ.js";import{$ as pe,A as j,B as K,D as n,E as se,F as O,H as h,J as i,K as ne,L as M,O as ae,R as oe,_ as re,h as J,o as x,p as le,q as te,y as l}from"./chunk-FEMFINP7.js";J();J();var fe=e=>new Promise((r,t)=>{e||t();let a=new FileReader;a.onload=function(s){r(s.target.result.toString())},a.readAsText(e)}),Ee=e=>e.replace(/\//g,"-");async function Le(e,r){let t=await r.generateAsync({type:"blob",compression:"DEFLATE"});ke(`${e}.zip`,t)}function Ae(e){return new Blob([e],{type:"application/octet-stream"})}function Te(e){return new Blob([JSON.stringify(e)],{type:"application/json"})}function ke(e,r){let a=(window.URL||window.webkitURL).createObjectURL(r),s=document.createElement("a");s.setAttribute("download",e),s.setAttribute("href",a),document.body.appendChild(s),s.click(),document.body.removeChild(s)}function de(e){let r,t,a;return{c(){r=n("div"),t=n("div"),a=se(e[2]),i(t,"class","notification is-danger is-small"),i(r,"class","mt-3")},m(s,p){j(s,r,p),l(r,t),l(t,a)},p(s,p){p&4&&ne(a,s[2])},d(s){s&&K(r)}}}function ge(e){let r,t,a,s,p,v,k,g,L,b,A,T,w,y,C,c,S,u,_,m,me,P,z,W,Z,B,D,F,I,$,X,R,G,E,H,ee,q,ie,f=e[2]&&de(e);return{c(){r=n("div"),t=n("div"),a=n("ul"),s=n("li"),p=n("a"),p.innerHTML=`<span class="icon is-small"><i class="fas fa-link"></i></span> 
                    <span>Link</span>`,k=O(),g=n("li"),L=n("a"),L.innerHTML=`<span class="icon is-small"><i class="fas fa-file-alt"></i></span> 
                    <span>File</span>`,A=O(),T=n("li"),w=n("a"),w.innerHTML=`<span class="icon is-small"><i class="fas fa-paragraph"></i></span> 
                    <span>Text</span>`,C=O(),c=n("div"),S=n("div"),u=n("div"),_=n("div"),m=n("input"),W=O(),Z=n("div"),B=n("div"),D=n("div"),F=n("input"),$=O(),X=n("div"),R=n("div"),G=n("div"),E=n("textarea"),ee=O(),f&&f.c(),i(p,"href","#link"),i(s,"class",v=e[0]==="link"?"is-active":""),i(L,"href","#file"),i(g,"class",b=e[0]==="file"?"is-active":""),i(w,"href","#text"),i(T,"class",y=e[0]==="text"?"is-active":""),i(t,"class","tabs is-boxed is-floating"),i(m,"type","text"),i(m,"class","input"),i(m,"placeholder",me="Example: "+Q),i(_,"class",P="control is-expanded "+(e[5]?"is-loading":"")),i(u,"class",z="field "+(e[0]==="link"?"":"is-hidden")),i(F,"type","file"),i(D,"class","control"),i(B,"class",I="field "+(e[0]==="file"?"":"is-hidden")),i(E,"class","textarea"),i(E,"placeholder","Paste here your api definition..."),i(G,"class","control"),i(R,"class",H="field "+(e[0]==="text"?"":"is-hidden")),i(c,"class","box flat-top")},m(o,d){j(o,r,d),l(r,t),l(t,a),l(a,s),l(s,p),l(a,k),l(a,g),l(g,L),l(a,A),l(a,T),l(T,w),j(o,C,d),j(o,c,d),l(c,S),l(S,u),l(u,_),l(_,m),M(m,e[1]),l(c,W),l(c,Z),l(Z,B),l(B,D),l(D,F),l(c,$),l(c,X),l(X,R),l(R,G),l(G,E),M(E,e[4]),l(c,ee),f&&f.m(c,null),q||(ie=[h(p,"click",e[8]),h(L,"click",e[9]),h(w,"click",e[10]),h(m,"input",e[11]),h(m,"input",e[6]),h(F,"change",e[12]),h(F,"change",e[6]),h(E,"input",e[13]),h(E,"input",e[6])],q=!0)},p(o,[d]){d&1&&v!==(v=o[0]==="link"?"is-active":"")&&i(s,"class",v),d&1&&b!==(b=o[0]==="file"?"is-active":"")&&i(g,"class",b),d&1&&y!==(y=o[0]==="text"?"is-active":"")&&i(T,"class",y),d&2&&m.value!==o[1]&&M(m,o[1]),d&32&&P!==(P="control is-expanded "+(o[5]?"is-loading":""))&&i(_,"class",P),d&1&&z!==(z="field "+(o[0]==="link"?"":"is-hidden"))&&i(u,"class",z),d&1&&I!==(I="field "+(o[0]==="file"?"":"is-hidden"))&&i(B,"class",I),d&16&&M(E,o[4]),d&1&&H!==(H="field "+(o[0]==="text"?"":"is-hidden"))&&i(R,"class",H),o[2]?f?f.p(o,d):(f=de(o),f.c(),f.m(c,null)):f&&(f.d(1),f=null)},i:x,o:x,d(o){o&&K(r),o&&K(C),o&&K(c),f&&f.d(),q=!1,le(ie)}}}var ue="inputApi.selectedTab",_e="inputApi.link",ve="inputApi.text",Q="https://petstore3.swagger.io/api/v3/openapi.json";function be(e,r,t){let a="link",s=Q,p="",v=null,k="",g=!1,L=oe();function b(){return ce(this,void 0,void 0,function*(){t(5,g=!0),t(2,p="");let u=null;try{if(a==="link"){let _=yield fetch(s);_.ok?(u=Y.load(yield _.text()),N(_e,s)):t(2,p="Error: "+_.status)}else a==="file"&&v&&v.length>0?u=Y.load(yield fe(v[0])):a==="text"&&(u=Y.load(k),N(ve,k))}catch(_){console.error(_),t(2,p="Error: "+_.message)}t(5,g=!1),L("apiChange",{apiObject:u})})}function A(u){t(0,a=u),N(ue,u),b()}ae(()=>{t(0,a=U(ue)||"link"),t(1,s=U(_e)||Q),t(4,k=U(ve)||""),b()});let T=()=>A("link"),w=()=>A("file"),y=()=>A("text");function C(){s=this.value,t(1,s)}function c(){v=this.files,t(3,v)}function S(){k=this.value,t(4,k)}return[a,s,p,v,k,g,b,A,T,w,y,C,c,S]}var V=class extends pe{constructor(r){super(),re(this,r,be,ge,te,{})}},je=V;export{Ee as a,Le as b,Ae as c,Te as d,ke as e,je as f};
